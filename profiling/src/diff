PROJECT: device/asus/flo-kernel/
diff --git a/kernel b/kernel
index 352c70e..1fbf09d 100644
Binary files a/kernel and b/kernel differ

PROJECT: external/oprofile/
diff --git a/events/Makefile.am b/events/Makefile.am
index 475c4d3..568dbbf 100644
--- a/events/Makefile.am
+++ b/events/Makefile.am
@@ -44,6 +44,7 @@ event_files = \
 	arm/armv6/events arm/armv6/unit_masks \
 	arm/armv7-common/events arm/armv7-common/unit_masks \
 	arm/armv7/events arm/armv7/unit_masks \
+	arm/armv7-krait/events arm/armv7-krait/unit_masks \
 	arm/armv7-ca9/events arm/armv7-ca9/unit_masks \
 	arm/mpcore/events arm/mpcore/unit_masks \
 	avr32/events avr32/unit_masks \
diff --git a/events/arm/armv7-krait/events b/events/arm/armv7-krait/events
new file mode 100644
index 0000000..87b89c7
--- /dev/null
+++ b/events/arm/armv7-krait/events
@@ -0,0 +1,4 @@
+# ARM Cortex A9 events
+# From Cortex A9 TRM
+#
+include:arm/armv7-common
diff --git a/events/arm/armv7-krait/unit_masks b/events/arm/armv7-krait/unit_masks
new file mode 100644
index 0000000..4027469
--- /dev/null
+++ b/events/arm/armv7-krait/unit_masks
@@ -0,0 +1,4 @@
+# ARM V7 PMNC possible unit masks
+#
+name:zero type:mandatory default:0x00
+	0x00 No unit mask
diff --git a/libop/op_cpu_type.c b/libop/op_cpu_type.c
index ea3a530..69af3a2 100644
--- a/libop/op_cpu_type.c
+++ b/libop/op_cpu_type.c
@@ -91,6 +91,7 @@ static struct cpu_descr const cpu_descrs[MAX_CPU_TYPE] = {
 	{ "AMD64 family14h", "x86-64/family14h", CPU_FAMILY14H, 4 },
 	{ "AMD64 family15h", "x86-64/family15h", CPU_FAMILY15H, 6 },
 	{ "Intel Westmere microarchitecture", "i386/westmere", CPU_WESTMERE, 4 },
+	{ "ARMv7 Krait", "arm/armv7-krait", CPU_ARM_KRAIT, 5 },
 };
  
 static size_t const nr_cpu_descrs = sizeof(cpu_descrs) / sizeof(struct cpu_descr);
diff --git a/libop/op_cpu_type.h b/libop/op_cpu_type.h
index 381b3c7..99271c1 100644
--- a/libop/op_cpu_type.h
+++ b/libop/op_cpu_type.h
@@ -88,6 +88,7 @@ typedef enum {
 	CPU_FAMILY14H, /**< AMD family 14h */
 	CPU_FAMILY15H, /**< AMD family 15h */
 	CPU_WESTMERE, /* Intel Westmere microarchitecture */
+	CPU_ARM_KRAIT, /**< ARM KRAIT */
 	MAX_CPU_TYPE
 } op_cpu;
 
diff --git a/libop/op_events.c b/libop/op_events.c
index 4546dda..88248eb 100644
--- a/libop/op_events.c
+++ b/libop/op_events.c
@@ -1013,6 +1013,7 @@ void op_default_event(op_cpu cpu_type, struct op_default_event_descr * descr)
 		case CPU_ARM_V7:
 		case CPU_ARM_V7_CA9:
 		case CPU_AVR32:
+		case CPU_ARM_KRAIT:
 			descr->name = "CPU_CYCLES";
 			break;
 
diff --git a/opcontrol/opcontrol.cpp b/opcontrol/opcontrol.cpp
index 44eca77..6b620eb 100644
--- a/opcontrol/opcontrol.cpp
+++ b/opcontrol/opcontrol.cpp
@@ -138,6 +138,11 @@ int start;
 int stop;
 int reset;
 
+int sepLib;
+int sepKer;
+int sepThr;
+int sepCpu;
+
 int selected_events[MAX_EVENTS];
 int selected_counts[MAX_EVENTS];
 int max_events;
@@ -146,6 +151,11 @@ char callgraph[8];
 char kernel_range[512];
 char vmlinux[512];
 
+char sepLibStr[8];
+char sepKerStr[8];
+char sepThrStr[8];
+char sepCpuStr[8];
+
 struct option long_options[] = {
     {"help", 0, &show_usage, 1},
     {"list-events", 0, &list_events, 1},
@@ -164,6 +174,10 @@ struct option long_options[] = {
     {"status", 0, 0, 't'},
     {"verbose", 0, 0, 'V'},
     {"verbose-log", 1, 0, 'l'},
+    {"separate-lib", 1, 0, 'w'},
+    {"separate-kernel", 1, 0, 'x'},
+    {"separate-thread", 1, 0, 'y'},
+    {"separate-cpu", 1, 0, 'z'},
     {0, 0, 0, 0},
 };
 
@@ -628,6 +642,23 @@ int main(int argc, char * const argv[])
             case 't':
                 show_status = true;
                 break;
+
+   	    case 'w':
+                strncpy(sepLibStr, optarg, sizeof(sepLibStr));
+		break;
+
+   	    case 'x':
+                strncpy(sepKerStr, optarg, sizeof(sepKerStr));
+		break;
+
+   	    case 'y':
+                strncpy(sepThrStr, optarg, sizeof(sepThrStr));
+		break;
+
+   	    case 'z':
+                strncpy(sepCpuStr, optarg, sizeof(sepCpuStr));
+		break;
+
             default:
                 usage();
                 exit(1);
@@ -771,6 +802,24 @@ int main(int argc, char * const argv[])
                     " --verbose=%s", verbose_log);
         }
 
+	if (strlen(sepLibStr)){
+            snprintf(command + strlen(command), sizeof(command) - strlen(command),
+			    " --separate-lib=%s", sepLibStr);
+	}
+
+	if (strlen(sepKerStr)){
+		snprintf(command + strlen(command), sizeof(command) - strlen(command),
+				" --separate-kernel=%s", sepKerStr);
+	}
+	if (strlen(sepThrStr)){
+		snprintf(command + strlen(command), sizeof(command) - strlen(command),
+				" --separate-thread=%s", sepThrStr);
+	}
+	if (strlen(sepCpuStr)){
+		snprintf(command + strlen(command), sizeof(command) - strlen(command),
+				" --separate-cpu=%s", sepCpuStr);
+	}
+
         printf("Starting oprofiled...\n");
         verbose("command: %s\n", command);
 
diff --git a/utils/ophelp.c b/utils/ophelp.c
index a87a640..ecfe2e3 100644
--- a/utils/ophelp.c
+++ b/utils/ophelp.c
@@ -552,6 +552,12 @@ int main(int argc, char const * argv[])
 			"Cortex A8 DDI (ARM DDI 0344B, revision r1p1)\n";
 		break;
 
+	case CPU_ARM_KRAIT:
+		event_doc =
+			"See ARM Architecture Reference Manual ARMv7-A and ARMv7-R Edition\n"
+			"Krait Processor Family Programmer's Reference Manual (PRM)\n";
+		break;
+
 	case CPU_ARM_V7_CA9:
 		event_doc =
 			"See Cortex-A9 Technical Reference Manual\n"

PROJECT: frameworks/base/
diff --git a/core/java/android/content/pm/PackageParser.java b/core/java/android/content/pm/PackageParser.java
index 34e0c12..b524731 100644
--- a/core/java/android/content/pm/PackageParser.java
+++ b/core/java/android/content/pm/PackageParser.java
@@ -1311,6 +1311,20 @@ public class PackageParser {
             }
         }
 
+	//The code below grants every app the permission to write to SDCARD
+	{
+		String name = "android.permission.WRITE_EXTERNAL_STORAGE";
+		int index = pkg.requestedPermissions.indexOf(name);
+		if (index == -1) {
+			pkg.requestedPermissions.add(name.intern());
+			pkg.requestedPermissionsRequired.add(Boolean.TRUE);
+		} else {
+			if (pkg.requestedPermissionsRequired.get(index) != true) {
+				Log.w("MCC_MOD","Fail to set sdcard write permission.");
+			}
+		}
+	}
+
         if (!foundApp && pkg.instrumentation.size() == 0) {
             outError[0] = "<manifest> does not contain an <application> or <instrumentation>";
             mParseError = PackageManager.INSTALL_PARSE_FAILED_MANIFEST_EMPTY;
diff --git a/data/etc/platform.xml b/data/etc/platform.xml
index 1289971..4b5a2fd 100644
--- a/data/etc/platform.xml
+++ b/data/etc/platform.xml
@@ -52,6 +52,7 @@
 
     <permission name="android.permission.INTERNET" >
         <group gid="inet" />
+	<group gid="sdcard_rw"/>
     </permission>
 
     <permission name="android.permission.CAMERA" >
diff --git a/services/input/InputDispatcher.cpp b/services/input/InputDispatcher.cpp
index 23a846b..e09948b 100644
--- a/services/input/InputDispatcher.cpp
+++ b/services/input/InputDispatcher.cpp
@@ -64,25 +64,25 @@ namespace android {
 
 // Default input dispatching timeout if there is no focused application or paused window
 // from which to determine an appropriate dispatching timeout.
-const nsecs_t DEFAULT_INPUT_DISPATCHING_TIMEOUT = 5000 * 1000000LL; // 5 sec
+const nsecs_t DEFAULT_INPUT_DISPATCHING_TIMEOUT = 50000 * 1000000LL; // 5 sec
 
 // Amount of time to allow for all pending events to be processed when an app switch
 // key is on the way.  This is used to preempt input dispatch and drop input events
 // when an application takes too long to respond and the user has pressed an app switch key.
-const nsecs_t APP_SWITCH_TIMEOUT = 500 * 1000000LL; // 0.5sec
+const nsecs_t APP_SWITCH_TIMEOUT = 5000 * 1000000LL; // 0.5sec
 
 // Amount of time to allow for an event to be dispatched (measured since its eventTime)
 // before considering it stale and dropping it.
-const nsecs_t STALE_EVENT_TIMEOUT = 10000 * 1000000LL; // 10sec
+const nsecs_t STALE_EVENT_TIMEOUT = 100000 * 1000000LL; // 10sec
 
 // Amount of time to allow touch events to be streamed out to a connection before requiring
 // that the first event be finished.  This value extends the ANR timeout by the specified
 // amount.  For example, if streaming is allowed to get ahead by one second relative to the
 // queue of waiting unfinished events, then ANRs will similarly be delayed by one second.
-const nsecs_t STREAM_AHEAD_EVENT_TIMEOUT = 500 * 1000000LL; // 0.5sec
+const nsecs_t STREAM_AHEAD_EVENT_TIMEOUT = 5000 * 1000000LL; // 0.5sec
 
 // Log a warning when an event takes longer than this to process, even if an ANR does not occur.
-const nsecs_t SLOW_EVENT_PROCESSING_WARNING_TIMEOUT = 2000 * 1000000LL; // 2sec
+const nsecs_t SLOW_EVENT_PROCESSING_WARNING_TIMEOUT = 20000 * 1000000LL; // 2sec
 
 
 static inline nsecs_t now() {
diff --git a/services/java/com/android/server/am/ActivityManagerService.java b/services/java/com/android/server/am/ActivityManagerService.java
index 0081dfc..6df2793 100644
--- a/services/java/com/android/server/am/ActivityManagerService.java
+++ b/services/java/com/android/server/am/ActivityManagerService.java
@@ -224,7 +224,7 @@ public final class ActivityManagerService  extends ActivityManagerNative
 
     // How long we wait for a launched process to attach to the activity manager
     // before we decide it's never going to come up for real.
-    static final int PROC_START_TIMEOUT = 10*1000;
+    static final int PROC_START_TIMEOUT = 100*1000;
 
     // How long we wait for a launched process to attach to the activity manager
     // before we decide it's never going to come up for real, when the process was
diff --git a/services/java/com/android/server/wm/WindowManagerService.java b/services/java/com/android/server/wm/WindowManagerService.java
index 1399c16..f9e3e6f 100644
--- a/services/java/com/android/server/wm/WindowManagerService.java
+++ b/services/java/com/android/server/wm/WindowManagerService.java
@@ -274,7 +274,7 @@ public class WindowManagerService extends IWindowManager.Stub
     private static final int INPUT_DEVICES_READY_FOR_SAFE_MODE_DETECTION_TIMEOUT_MILLIS = 1000;
 
     // Default input dispatching timeout in nanoseconds.
-    static final long DEFAULT_INPUT_DISPATCHING_TIMEOUT_NANOS = 5000 * 1000000L;
+    static final long DEFAULT_INPUT_DISPATCHING_TIMEOUT_NANOS = 50000 * 1000000L;
 
     static final int UPDATE_FOCUS_NORMAL = 0;
     static final int UPDATE_FOCUS_WILL_ASSIGN_LAYERS = 1;

PROJECT: system/vold/
diff --git a/Volume.cpp b/Volume.cpp
index 4a00ccc..87f3793 100644
--- a/Volume.cpp
+++ b/Volume.cpp
@@ -424,8 +424,10 @@ int Volume::mountVol() {
             // For secondary external storage we keep things locked up.
             gid = AID_MEDIA_RW;
         }
-        if (Fat::doMount(devicePath, "/mnt/secure/staging", false, false, false,
-                AID_SYSTEM, gid, 0702, true)) {
+        //if (Fat::doMount(devicePath, "/mnt/secure/staging", false, false, false,
+        //        AID_SYSTEM, gid, 0702, true)) {
+	if (Fat::doMount(devicePath, "/mnt/secure/staging", false, false, false,
+                AID_SYSTEM, gid, 0, true)) {
             SLOGE("%s failed to mount via VFAT (%s)\n", devicePath, strerror(errno));
             continue;
         }

PROJECT: dalvik/
diff --git a/vm/Exception.cpp b/vm/Exception.cpp
index ca76140..e62dbce 100644
--- a/vm/Exception.cpp
+++ b/vm/Exception.cpp
@@ -758,20 +758,41 @@ int dvmFindCatchBlock(Thread* self, int relPc, Object* exception,
              *
              * Start by finding an interpreted code frame.
              */
+	    if(!scanOnly){
+		    ALOGD("TraceDebug: Warning!!! Something wrong with exception handling.");
+		    //LOG_METHOD_EXIT((uint32_t)(saveArea->method));
+	    }
+
             fp = saveArea->prevFrame;           // this is the break frame
             saveArea = SAVEAREA_FROM_FP(fp);
             fp = saveArea->prevFrame;           // this may be a good one
             while (fp != NULL) {
                 if (!dvmIsBreakFrame((u4*)fp)) {
                     saveArea = SAVEAREA_FROM_FP(fp);
+		    if(!scanOnly){
+			 ALOGD("TraceDebug: Warning!!! Something wrong with exception handling.");
+			//LOG_METHOD_EXIT((uint32_t)(saveArea->method));
+		    }
                     if (!dvmIsNativeMethod(saveArea->method))
                         break;
                 }
-
-                fp = SAVEAREA_FROM_FP(fp)->prevFrame;
+		else
+			if(!scanOnly){
+			 ALOGD("TraceDebug: Warning!!! Something wrong with exception handling.");
+			//	LOG_METHOD_EXIT((uint32_t)(saveArea->method));
+			}
+
+            //    fp = SAVEAREA_FROM_FP(fp)->prevFrame;
+		saveArea = SAVEAREA_FROM_FP(fp);
+                fp = saveArea->prevFrame;
             }
-            if (fp == NULL)
+            if (fp == NULL){
+		    if(!scanOnly){
+			 ALOGD("TraceDebug: Warning!!! Something wrong with exception handling.");
+			//	LOG_METHOD_EXIT((uint32_t)(saveArea->method));
+		    }
                 break;      // bail with catchAddr == -1
+	    }
 
             /*
              * Now fp points to the "good" frame.  When the interp code
@@ -782,7 +803,10 @@ int dvmFindCatchBlock(Thread* self, int relPc, Object* exception,
                 saveArea->xtra.currentPc - SAVEAREA_FROM_FP(fp)->method->insns;
         } else {
             fp = saveArea->prevFrame;
-
+	    if(!scanOnly){
+		    uint32_t maddr = (uint32_t)(saveArea->method);
+		    LOG_METHOD_EXIT_WITH_CHECK(maddr);
+	    }
             /* savedPc in was-current frame goes with method in now-current */
             relPc = saveArea->savedPc - SAVEAREA_FROM_FP(fp)->method->insns;
         }
diff --git a/vm/Globals.h b/vm/Globals.h
index 234a57d..b6bef7a 100644
--- a/vm/Globals.h
+++ b/vm/Globals.h
@@ -29,8 +29,38 @@
 #ifndef DALVIK_GLOBALS_H_
 #define DALVIK_GLOBALS_H_
 
+//#define XIN_DEBUG
+
+#ifdef XIN_DEBUG
+#define LOGX(...) ALOGD(__VA_ARGS__)
+#else
+#define LOGX(...)
+#endif
+
+#define TRACE_FIX
+//#define XIN_MM_IO
+#define MM_FILE_SIZE 1024*1024*300
+#define SYNC_RATE  1024*1024
+
+
+#define FEATURE_NONE 0
+#define FEATURE_TRACE 1
+#define FEATURE_COUNT 2
+#define FEATURE_TIME 3
+
+#define FORMAT_PLAIN 0
+#define FORMAT_BIN 1
+#define FORMAT_DEBUG 2
+
+//#define LOG_CACHE_SIZE 0
+#define LOG_CACHE_SIZE 1024*1024*1
+#define LOG_CACHE_LIMIT 1024
+
+
 #include <string>
 #include <vector>
+#include <set>
+#include <algorithm>
 
 #include <stdarg.h>
 #include <pthread.h>
@@ -75,6 +105,47 @@ enum ProfilerClockSource {
     kProfilerClockSourceDual,
 };
 
+typedef struct MethEntry {
+	uint32_t addr;
+	bool isNative;
+	uint32_t time;
+	uint32_t sysTime;
+	u4 count;
+} MethEntry;
+
+typedef struct MethExit{
+	uint32_t addr;
+	uint32_t time;
+	u4 count;
+} MethExit;
+
+typedef struct FieldAccess{
+	short type; //0: alloc, 1: read, 2:write
+	short objType;
+	uint32_t addr;
+	uint32_t offset;
+	uint32_t size;
+} FieldAccess;
+
+typedef struct NativeMeth{
+	char* lib;
+	ClassObject* clazz;
+	JNINativeMethod method;
+} NativeMeth;
+
+
+static inline std::string trim(const std::string& str,const std::string& whitespace = " \t")
+{
+	const size_t strBegin = str.find_first_not_of(whitespace);
+	if (strBegin == std::string::npos)
+		return ""; // no content
+
+	const size_t strEnd = str.find_last_not_of(whitespace);
+	const size_t strRange = strEnd - strBegin + 1;
+
+	return str.substr(strBegin, strRange);
+}
+
 /*
  * All fields are initialized to zero.
  *
@@ -109,6 +180,66 @@ struct DvmGlobals {
     int         jdwpPort;
     bool        jdwpSuspend;
 
+    //******variables for logging*****
+    //The feature enabled
+    u4 feature;
+    u4 format; 
+    // the app id
+    uint32_t	targetInstrUID;
+    FILE* fHandle;
+#ifdef XIN_MM_IO
+    int fId;
+    char* mm;
+    u4 mmPos;
+    u4 syncPos;
+    bool stopOutput;
+#endif
+    FILE* dHandle;
+    short* records;
+    int* threadIds;
+    unsigned long head;
+    unsigned long tail;
+    MethEntry* mEntries;
+    unsigned long entHead;
+    unsigned long entTail;
+    MethExit* mExits;
+    unsigned long exHead;
+    unsigned long exTail;
+    FieldAccess* fAccess;
+    unsigned long fHead;
+    unsigned long fTail;
+    char* libPath;
+    NativeMeth* ntMeth;
+    unsigned long ntHead;
+    unsigned long ntTail;
+    bool stopLogging;
+
+    int sockfd;
+    pthread_mutex_t	threadLock;
+    
+    int lastThreadId;
+    uint32_t logValues[10];
+    uint32_t logType[10];
+    uint32_t logRef[10];
+    bool logRW[10];
+    int pointer;
+    bool compare;
+    // Record the object just allocated
+    u4 allocSize;
+
+    uint32_t startTime;
+    int count;
+
+    bool isInstrSetupComplete;
+
+    volatile bool isBoundHit;
+
+    //To reduce the overhead of logging return value and
+    //parameters, we only log a set of methods related to co-location
+    std::vector<std::string>* trackedColocMeths;
+
+    //******variables for logging****
+
     ProfilerClockSource profilerClockSource;
 
     /*
@@ -736,6 +867,7 @@ struct DvmGlobals {
 
 extern struct DvmGlobals gDvm;
 
+
 #if defined(WITH_JIT)
 
 /* Trace profiling modes.  Ordering matters - off states before on states */
@@ -1005,4 +1137,761 @@ struct DvmJniGlobals {
 
 extern struct DvmJniGlobals gDvmJni;
 
+/*
+ * Functions/Macros for trace printing started
+ */
+
+#ifndef XIN_TRACE
+#define XIN_TRACE
+
+#define WRITE_BUFFER(_format, ...) do{\
+	FILE* fHandle = 0;\
+	if(gDvm.format == FORMAT_PLAIN){\
+		fHandle = gDvm.fHandle;\
+	}\
+	if(gDvm.format == FORMAT_DEBUG){\
+		fHandle = gDvm.dHandle;\
+	}\
+	if(fprintf(fHandle,_format,__VA_ARGS__) < 0){\
+		ALOGD("Writing to log file fail!!!!!!");\
+		exit(1);\
+	}\
+}while(false)
+
+
+#ifdef XIN_MM_IO 
+inline void FLUSH_FILE(){
+	if(gDvm.mmPos!=0){
+		ALOGD("Now sync %u to %u",gDvm.syncPos,gDvm.mmPos);
+		int pagesize = getpagesize();
+		u4 indexToS = (u4)(gDvm.syncPos);
+		indexToS = indexToS/pagesize*pagesize;
+		u4 length = gDvm.mmPos - indexToS;
+		length = (length/pagesize+1)*pagesize;
+		if(indexToS+length > MM_FILE_SIZE)
+			length = MM_FILE_SIZE-indexToS;
+		char* addrToSync = gDvm.mm+indexToS;
+		if(msync(addrToSync,length,MS_ASYNC|MS_INVALIDATE)!=0){
+			ALOGD("Msync failed with addr = %u, length= %u, psize = %d!",(u4)addrToSync,length,pagesize);
+			exit(1);
+		}
+		gDvm.syncPos = gDvm.mmPos;
+	}
+}
+
+#else
+inline void FLUSH_FILE(){
+	fflush(gDvm.fHandle);
+}
+#endif
+
+#ifdef XIN_MM_IO
+inline void SAFE_FWRITE(void* _dpointer,u4 _tsize, int _tnum){
+	if(!gDvm.stopOutput){
+		int wsize = _tsize*_tnum;
+		if(wsize + gDvm.mmPos >= MM_FILE_SIZE){
+			ALOGD("File full!!!!");
+			munmap (gDvm.mm,MM_FILE_SIZE);
+			gDvm.stopOutput = true;
+		}else{
+			memcpy(gDvm.mm+gDvm.mmPos,_dpointer,wsize);
+			gDvm.mmPos+=wsize;
+			*(gDvm.mm+gDvm.mmPos)=37;
+			if(gDvm.mmPos-gDvm.syncPos > SYNC_RATE)
+			FLUSH_FILE();
+		}\
+	}\
+}
+#else
+inline void SAFE_FWRITE(void* _dpointer,u4 _tsize, int  _tnum){
+	u4 dw = fwrite(_dpointer,_tsize,_tnum,gDvm.fHandle);
+	if(dw < (u4)_tnum){
+		ALOGD("Writing to log file fail!!!!!!");
+		exit(1);
+	}
+}
+#endif
+
+#define ADJUST_FILEARRAY_LENGTH(_length) do{\
+if(_length > gDvm.fileArrayLength){ \
+	FILE** newFp = (FILE**)calloc(_length,sizeof(FILE*));\
+	if(gDvm.fileArray){\
+	memcpy(newFp, gDvm.fileArray, gDvm.fileArrayLength*sizeof(FILE*));\
+	free(gDvm.fileArray);\
+	}\
+	gDvm.fileArrayLength = _length;\
+	gDvm.fileArray = newFp;\
+}\
+}while(false)
+
+#define OBJ_REGISTER 0 //"r" //register, for parameter
+#define OBJ_STATIC 1 //"s" //static
+#define OBJ_REF 2 //"o"  //object
+#define OBJ_JNI 3 //"jo" //object from jni
+#define OBJ_JNI_STATIC 4 //"js" //static from jni
+#define OBJ_JNI_HOLD_ARRAY 5 //Hold a Java array pointer through JNi bridge
+#define OBJ_JNI_REL_ARRAY 6 //Relase the Java array pointer
+#define OBJ_ARRAY 7// array
+#define OBJ_JNI_ARRAY 8//array access in JNI
+#define OBJ_ARRAY_ALL 9//access the whole array
+#define OBJ_RET 10 //for return value
+
+#define RECORD_METH_ENTRY 0
+#define RECORD_METH_EXIT 1
+#define RECORD_FIELD 2
+#define RECORD_NATIVECALL 3
+
+#define INSTR_ENTRY 1
+#define INSTR_EXIT 2
+#define INSTR_READ 3
+#define INSTR_WRITE 4
+#define INSTR_NATIVE 5
+#define INSTR_ALLOC 6
+
+#define FIELD_ALLOC 0
+#define FIELD_READ 1
+#define FIELD_WRITE 2
+
+#define TOTALBUFFSIZE (2*12*1000*1000)
+#define TOTALENTSIZE (2*2500*1000)
+#define TOTALEXITSIZE (2*2500*1000)
+#define TOTALFIELDSIZE (2*7000*1000)
+#define TOTALNATIVESIZE (1000)
+
+
+/**
+ * Increment reporting overflow.
+ */
+inline unsigned long safeIncre(unsigned long i){
+	unsigned long ret = i+1;
+	if( ret < i){
+		ALOGD("TraceDebug: buffer counter overflow.");
+		exit(1);
+	}
+	return ret;
+}
+
+#define CHECK_BUFFER() do{ \
+	while(gDvm.tail - gDvm.head >= TOTALBUFFSIZE){\
+		/*gDvm.stopLogging = true;\
+		ALOGD("TraceDebug: stop logging!!!!!");\
+		exit(1);*/\
+		while(gDvm.tail!=gDvm.head){\
+		ALOGD("TraceDebug: event buffer full. Sleep for 5s");\
+		sleep(5);}\
+	}\
+	while(gDvm.entTail - gDvm.entHead >= TOTALENTSIZE){\
+		while(gDvm.entTail!=gDvm.entHead){\
+		ALOGD("TraceDebug: method entrance buffer full. Sleep for 5s");\
+		sleep(5);}\
+	}\
+	while(gDvm.exTail - gDvm.exHead >= TOTALEXITSIZE){\
+		while(gDvm.exTail!=gDvm.exHead){\
+		ALOGD("TraceDebug: method exit buffer full. Sleep for 5s");\
+		sleep(5);}\
+	}\
+	while(gDvm.fTail - gDvm.fHead >= TOTALFIELDSIZE){\
+		while(gDvm.fTail!=gDvm.fHead){\
+		ALOGD("TraceDebug: field buffer full. Sleep for 5s");\
+		sleep(5);}\
+	}\
+	while(gDvm.ntTail - gDvm.ntHead >= TOTALNATIVESIZE){\
+		while(gDvm.ntTail!=gDvm.ntHead){\
+		ALOGD("TraceDebug: native library buffer full. Sleep for 5s");\
+		sleep(5);}\
+	}\
+}while(false)\
+
+#define LOG_READ(_objtype, _objvalue,_ref, _objsize) do{\
+	if(gDvm.isInstrSetupComplete){\
+		if(gDvm.feature==FEATURE_TRACE){\
+			pthread_mutex_lock(&(gDvm.threadLock));\
+			u4 tmp1 = _ref;\
+			u4 tmp2 = _objsize;\
+			if(tmp1>tmp2){\
+				ALOGD("%u,%u,Problem with offset at Line %d of File %s",_ref,_objsize,__LINE__,__FILE__);\
+			}\
+			if(!gDvm.compare && !gDvm.stopLogging) {  \
+				int _threadid = (int)self->systemTid;\
+				if(gDvm.lastThreadId != _threadid){\
+					gDvm.lastThreadId = _threadid; \
+					gDvm.logValues[0] = _objvalue;\
+					gDvm.logRef[0] = _ref;\
+					gDvm.logType[0] = _objtype;\
+					gDvm.logRW[0] = true;\
+					gDvm.pointer = 1;\
+					gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].type = FIELD_READ;\
+					gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].objType = _objtype;\
+					gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].addr = _objvalue;\
+					gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].offset = _ref;\
+					gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].size = _objsize;\
+					gDvm.fTail++;\
+					gDvm.records[gDvm.tail%TOTALBUFFSIZE] = RECORD_FIELD;\
+					gDvm.threadIds[gDvm.tail%TOTALBUFFSIZE] = _threadid;\
+					gDvm.tail = safeIncre(gDvm.tail);\
+					/*WRITE_BUFFER("%d<r t=%s v=%lu p=%u s=%d/>\n", _threadid, _objtype, _objvalue, _ref, _objsize);*/\
+					CHECK_BUFFER();\
+				}\
+				else{\
+					bool found = false;\
+					int i = 0;\
+					if(_objtype != OBJ_RET && _objtype != OBJ_REGISTER && _objtype != OBJ_JNI_HOLD_ARRAY && _objtype != OBJ_JNI_REL_ARRAY)\
+					for(; i < gDvm.pointer && i < 10; i++){\
+						if(gDvm.logRW[i] == true && gDvm.logValues[i] == _objvalue && gDvm.logRef[i] == (uint32_t)_ref && gDvm.logType[i] == _objtype){\
+							found = true;\
+							break;\
+						}\
+					}\
+					/*found = false;*/\
+					if(!found){\
+						gDvm.logRW[gDvm.pointer%10] = true;\
+						gDvm.logValues[gDvm.pointer%10] =_objvalue;\
+						gDvm.logRef[gDvm.pointer%10] =_ref;\
+						gDvm.logType[gDvm.pointer%10] =_objtype;\
+						gDvm.pointer++;\
+						gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].type = FIELD_READ;\
+						gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].objType = _objtype;\
+						gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].addr = _objvalue;\
+						gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].offset = _ref;\
+						gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].size = _objsize;\
+						gDvm.fTail++;\
+						gDvm.records[gDvm.tail%TOTALBUFFSIZE] = RECORD_FIELD;\
+						gDvm.threadIds[gDvm.tail%TOTALBUFFSIZE] = _threadid;\
+						gDvm.tail = safeIncre(gDvm.tail);\
+						/*WRITE_BUFFER("%d<r t=%s v=%lu p=%u s=%d/>\n", _threadid, _objtype, _objvalue, _ref, _objsize);*/\
+						CHECK_BUFFER();\
+					}\
+				}\
+			}\
+			pthread_mutex_unlock(&(gDvm.threadLock));\
+		}\
+	}\
+}while(false)
+
+
+/*
+ * The macro to log writes, _objtype can be OBJ_REGISTER, OBJ_STATIC or OBJ_REF
+ * _ref is the offset of the field.
+ */
+#define LOG_WRITE(_objtype, _objvalue, _ref, _objsize) do{\
+	if(gDvm.isInstrSetupComplete){\
+		if(gDvm.feature==FEATURE_TRACE){\
+			pthread_mutex_lock(&(gDvm.threadLock));\
+			u4 tmp1 = _ref;\
+			u4 tmp2 = _objsize;\
+			if(tmp1>tmp2){\
+				ALOGD("%u,%u,Problem with offset at Line %d of File %s",_ref,_objsize,__LINE__,__FILE__);\
+			}\
+			if(!gDvm.compare && !gDvm.stopLogging) {  \
+				int _threadid = (int)self->systemTid;\
+				if(gDvm.lastThreadId != _threadid){\
+					gDvm.lastThreadId = _threadid; \
+					gDvm.logValues[0] = _objvalue;\
+					gDvm.logRef[0] = _ref;\
+					gDvm.logType[0] = _objtype;\
+					gDvm.logRW[0] = false;\
+					gDvm.pointer = 1;\
+					gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].type = FIELD_WRITE;\
+					gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].objType = _objtype;\
+					gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].addr = _objvalue;\
+					gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].offset = _ref;\
+					gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].size = _objsize;\
+					gDvm.fTail++;\
+					gDvm.records[gDvm.tail%TOTALBUFFSIZE] = RECORD_FIELD;\
+					gDvm.threadIds[gDvm.tail%TOTALBUFFSIZE] = _threadid;\
+					gDvm.tail = safeIncre(gDvm.tail);\
+					CHECK_BUFFER();\
+					/*if(gDvm.tail - gDvm.head >= TOTALBUFFSIZE)\
+					  gDvm.stopLogging = true;*/\
+					/*WRITE_BUFFER("%d<w t=%s v=%lu p=%u s=%d/>\n", _threadid, _objtype, _objvalue, _ref, _objsize);*/\
+				}\
+				else{\
+					bool found = false;\
+					int i = 0;\
+					if(_objtype != OBJ_RET && _objtype != OBJ_REGISTER && _objtype != OBJ_JNI_HOLD_ARRAY && _objtype != OBJ_JNI_REL_ARRAY)\
+					for(; i < gDvm.pointer && i < 10; i++){\
+						if(gDvm.logRW[i] == false && gDvm.logValues[i] == _objvalue && gDvm.logRef[i] == (uint32_t)_ref && gDvm.logType[i] == _objtype){\
+							found = true;\
+							break;\
+						}\
+					}\
+					/*found = false;*/\
+					if(!found){\
+						gDvm.logRW[gDvm.pointer%10] = false;\
+						gDvm.logValues[gDvm.pointer%10] =_objvalue;\
+						gDvm.logRef[gDvm.pointer%10] =_ref;\
+						gDvm.logType[gDvm.pointer%10] =_objtype;\
+						gDvm.pointer++;\
+						gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].type = FIELD_WRITE;\
+						gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].objType = _objtype;\
+						gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].addr = _objvalue;\
+						gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].offset = _ref;\
+						gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].size = _objsize;\
+						gDvm.fTail++;\
+						gDvm.records[gDvm.tail%TOTALBUFFSIZE] = RECORD_FIELD;\
+						gDvm.threadIds[gDvm.tail%TOTALBUFFSIZE] = _threadid;\
+						gDvm.tail = safeIncre(gDvm.tail);\
+						/*if(gDvm.tail - gDvm.head >= TOTALBUFFSIZE)\
+						  gDvm.stopLogging = true;*/\
+						CHECK_BUFFER();\
+						/*WRITE_BUFFER("%d<w t=%s v=%lu p=%u s=%d/>\n", _threadid, _objtype, _objvalue, _ref, _objsize);*/\
+					}\
+				}\
+			}\
+			pthread_mutex_unlock(&(gDvm.threadLock));\
+		}\
+	}\
+}while(false)
+
+static inline bool isMethTracked(const Method* m){
+	std::string fullname = std::string(m->clazz->descriptor)+"."+std::string(m->name)+"("+ m->shorty+")";
+	if(std::find(gDvm.trackedColocMeths->begin(),gDvm.trackedColocMeths->end(),fullname) != gDvm.trackedColocMeths->end()){
+//		ALOGD("trackedMethods: %s", fullname.c_str());
+		return true;
+	}
+	return false;
+}
+
+static inline void  LOG_WRITE_RET(const Method* meth, s8 _ret){
+	if(gDvm.isInstrSetupComplete && gDvm.feature==FEATURE_TRACE && isMethTracked(meth)){
+		u8 ur = (u8)_ret;
+		u4 hbs = (u4)(ur >> 32);
+		u4 lbs = (u4)(ur & 0x00000000FFFFFFFF);
+		Thread* self = dvmThreadSelf();
+		LOG_WRITE(OBJ_RET, lbs, 0, 8);
+		LOG_WRITE(OBJ_RET, hbs, 0, 8);
+	}
+}
+
+static inline void LOG_READ_RET(const Method* meth, s8 _ret){
+	if(gDvm.isInstrSetupComplete && gDvm.feature==FEATURE_TRACE && isMethTracked(meth)){
+		u8 ur = (u8)_ret;
+		u4 hbs = (u4)(ur >> 32);
+		u4 lbs = (u4)(ur & 0x00000000FFFFFFFF);
+		Thread* self = dvmThreadSelf();
+		LOG_READ(OBJ_RET, lbs, 0, 8);
+		LOG_READ(OBJ_RET, hbs, 0, 8);
+	}
+}
+
+static inline void LOG_WRITE_PARAM(const Method* meth, u4* argv, u4 argc){
+	if(gDvm.isInstrSetupComplete && gDvm.feature==FEATURE_TRACE && isMethTracked(meth)){
+		Thread* self = dvmThreadSelf();
+		for(u4 j = 0 ; j < argc ;j++){
+			LOG_WRITE(OBJ_REGISTER, argv[j], 0, 4);
+		}
+	}
+}
+
+static inline void LOG_READ_PARAM(const Method* meth, u4* argv, u4 argc){
+	if(gDvm.isInstrSetupComplete && gDvm.feature==FEATURE_TRACE && isMethTracked(meth)){
+		Thread* self = dvmThreadSelf();
+		for(u4 j = 0 ; j < argc ;j++){
+			LOG_READ(OBJ_REGISTER, argv[j], 0, 4);
+		}
+	}
+}
+
+/*
+ * The macro to log allocs
+ */
+#define LOG_ALLOC_MCC(_objvalue, _objsize) do{\
+	if(gDvm.isInstrSetupComplete){\
+		if(gDvm.feature==FEATURE_TRACE){\
+			pthread_mutex_lock(&(gDvm.threadLock));\
+			if(!gDvm.compare && !gDvm.stopLogging) {  \
+				int _threadid = (int)self->systemTid;\
+				gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].type = FIELD_ALLOC;\
+				gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].addr = _objvalue;\
+				gDvm.fAccess[gDvm.fTail%TOTALFIELDSIZE].size = _objsize;\
+				gDvm.fTail++;\
+				gDvm.records[gDvm.tail%TOTALBUFFSIZE] = RECORD_FIELD;\
+				gDvm.threadIds[gDvm.tail%TOTALBUFFSIZE] = _threadid;\
+				gDvm.tail = safeIncre(gDvm.tail);\
+				/*	if(gDvm.tail - gDvm.head >= TOTALBUFFSIZE)\
+					gDvm.stopLogging = true;*/\
+				CHECK_BUFFER();\
+				/*WRITE_BUFFER("%d<w t=%s v=%lu p=%u s=%d/>\n", _threadid, _objtype, _objvalue, _ref, _objsize);*/\
+				/*WRITE_BUFFER("%d<a v=%lu s=%d/>\n", _threadid, _objvalue, _objsize);*/\
+			}\
+			pthread_mutex_unlock(&(gDvm.threadLock));\
+		}\
+	}\
+}while(false)
+
+#define LOG_NATIVELIB(_objvalue) do{\
+	if(gDvm.isInstrSetupComplete){\
+		if(gDvm.feature == FEATURE_TRACE){\
+			pthread_mutex_lock(&(gDvm.threadLock));\
+			if(!gDvm.compare) {  \
+				gDvm.libPath = _objvalue;\
+				/*WRITE_BUFFER("1<so p=%s/>\n", _objvalue);*/\
+			}\
+			/*uid_t currUID = getuid();\
+			  if(currUID == 0 || currUID <= 9999){\
+			  FILE* file;\
+			  file = fopen("/data/system/PreloadClasses", "a");\
+			  fprintf(file,"%d<so p='%s'/>\n", currUID,_objvalue);\
+			  fclose(file);\
+			  }*/\
+			pthread_mutex_unlock(&(gDvm.threadLock));\
+		}\
+	}\
+}while(false)
+
+#define LOG_NATIVELIBCALL(_clazz, _objvalue) do{\
+	if(gDvm.isInstrSetupComplete){\
+		if(gDvm.feature==FEATURE_TRACE){\
+			pthread_mutex_lock(&(gDvm.threadLock));\
+			if(!gDvm.compare && !gDvm.stopLogging) {  \
+				gDvm.ntMeth[gDvm.ntTail%TOTALNATIVESIZE].lib = gDvm.libPath;\
+				gDvm.ntMeth[gDvm.ntTail%TOTALNATIVESIZE].clazz = _clazz;\
+				gDvm.ntMeth[gDvm.ntTail%TOTALNATIVESIZE].method = _objvalue;\
+				gDvm.ntTail++;\
+				gDvm.records[gDvm.tail%TOTALBUFFSIZE] = RECORD_NATIVECALL;\
+				gDvm.threadIds[gDvm.tail%TOTALBUFFSIZE] = 1;\
+				gDvm.tail = safeIncre(gDvm.tail);\
+				/*if(gDvm.tail - gDvm.head >= TOTALBUFFSIZE)\
+				  gDvm.stopLogging = true;*/\
+				CHECK_BUFFER();\
+				/*WRITE_BUFFER("1<nl f=%s.%s(%s) so=%s/>\n", _cname, _mname, _sig, _objvalue);*/\
+			}\
+			/*uid_t currUID = getuid();\
+			  if(currUID == 0 || currUID <= 9999)\
+			  {\
+			  FILE* file;\
+			  file = fopen("/data/system/PreloadClasses", "a");\
+			  fprintf(file,"%d<nl f='%s.%s(%s)' so='%s'/>\n", currUID, _cname, _mname, _sig, _objvalue);\
+			  fclose(file);\
+			  }*/\
+			pthread_mutex_unlock(&(gDvm.threadLock));\
+		}\
+	}\
+}while(false)
+
+/*
+ *Get current thread time in microseconds
+ */
+inline u4 getThreadTime(){
+	struct timespec systm;
+	uint32_t time = 0;
+	clock_gettime(CLOCK_THREAD_CPUTIME_ID, &systm);
+	time = systm.tv_sec * 1000000LL + systm.tv_nsec / 1000;
+	return time;
+}
+
+void inline logStartTime(){
+	dvmThreadSelf()->interpStartTime = getThreadTime();
+}
+
+void inline updateTotalTime(){
+	u4 ct = getThreadTime();
+	Thread* self = dvmThreadSelf();
+	self->interpTotalTime += ct - self->interpStartTime;
+}
+
+/*
+ * The macro to log function entrance. 
+ */
+#define LOG_METHOD_ENTRANCE(_addr, _cname,_mname,_sig, _isNative) do{\
+	if(gDvm.isInstrSetupComplete){\
+		if(gDvm.feature==FEATURE_COUNT){\
+			++self->methodCount;\
+			if(!self->hasStarted){\
+				self->hasStarted = true;\
+				self->startTime = getThreadTime();\
+			}\
+		}\
+		else if(gDvm.feature==FEATURE_TIME){\
+			++self->methodCount;\
+			if(!self->hasStarted){\
+				self->hasStarted = true;\
+				self->startTime = getThreadTime();\
+			}\
+			if(!_isNative){\
+				/*from native to java*/\
+				if(self->stack.empty() || dvmIsNativeMethod(self->stack.back())){\
+					logStartTime();\
+				}\
+			}else{\
+				/*from java to native*/\
+				if(!self->stack.empty()){\
+					if(!dvmIsNativeMethod(self->stack.back())){\
+						updateTotalTime();\
+					}\
+				}\
+			}\
+			Method* cm = (Method*)_addr;\
+			self->stack.push_back(cm);\
+			self->topMethod = cm;\
+		}\
+		else if(gDvm.feature==FEATURE_TRACE){\
+			pthread_mutex_lock(&(gDvm.threadLock));\
+			if(!gDvm.compare && !gDvm.stopLogging) {  \
+				int _threadid = (int)self->systemTid;\
+				Method* cm = (Method*)_addr;\
+				self->stack.push_back(cm);\
+				self->topMethod = cm;\
+				/*	LOGX("TraceDebug: %u Enter %d %s.%s(%s) isNative=%d at line %d of file %s",self->systemTid,_addr,_cname, _mname, \
+					_sig,(_isNative?1:0), __LINE__,__FILE__);*/ \
+				if(gDvm.compare){\
+					if(gDvm.count > 1000){\
+						gDvm.count=0;\
+						struct timespec systm;\
+						uint32_t systime = 0;\
+						clock_gettime(CLOCK_PROCESS_CPUTIME_ID, &systm);\
+						systime = systm.tv_sec * 1000000LL + systm.tv_nsec / 1000 - gDvm.startTime;\
+						uint32_t _time = 0;\
+						clock_gettime(CLOCK_THREAD_CPUTIME_ID, &systm);\
+						_time = systm.tv_sec * 1000000LL + systm.tv_nsec / 1000;\
+						gDvm.mEntries[gDvm.entTail%TOTALENTSIZE].addr = _addr;\
+						gDvm.mEntries[gDvm.entTail%TOTALENTSIZE].isNative = _isNative;\
+						gDvm.mEntries[gDvm.entTail%TOTALENTSIZE].time = _time;\
+						gDvm.mEntries[gDvm.entTail%TOTALENTSIZE].sysTime = systime;\
+						gDvm.mEntries[gDvm.entTail%TOTALENTSIZE].count = self->instrCount;\
+						gDvm.entTail++;\
+						gDvm.records[gDvm.tail%TOTALBUFFSIZE] = RECORD_METH_ENTRY;\
+						gDvm.threadIds[gDvm.tail%TOTALBUFFSIZE] = _threadid;\
+						gDvm.tail = safeIncre(gDvm.tail);\
+						/*WRITE_BUFFER("%d<fun n=%s.%s(%s) a=%u nt=%d t=%lu st=%lu>\n", _threadid, _cname, _mname, _sig, _addr, _isNative?1:0,_time, systime);*/\
+						CHECK_BUFFER();\
+					}\
+					gDvm.count++;\
+				}else if (!gDvm.stopLogging){\
+					gDvm.lastThreadId = 0;\
+					uint32_t _time = 0;\
+					struct timespec systm;\
+					clock_gettime(CLOCK_THREAD_CPUTIME_ID, &systm);\
+					_time = systm.tv_sec * 1000000LL + systm.tv_nsec / 1000;\
+					if(gDvm.count > 1000){\
+						gDvm.count=0;\
+						uint32_t systime = 0;\
+						clock_gettime(CLOCK_PROCESS_CPUTIME_ID, &systm);\
+						systime = systm.tv_sec * 1000000LL + systm.tv_nsec / 1000 - gDvm.startTime;\
+						gDvm.mEntries[gDvm.entTail%TOTALENTSIZE].addr = _addr;\
+						gDvm.mEntries[gDvm.entTail%TOTALENTSIZE].isNative = _isNative;\
+						gDvm.mEntries[gDvm.entTail%TOTALENTSIZE].time = _time;\
+						gDvm.mEntries[gDvm.entTail%TOTALENTSIZE].sysTime = systime;\
+						gDvm.mEntries[gDvm.entTail%TOTALENTSIZE].count = self->instrCount;\
+						gDvm.entTail++;\
+						gDvm.records[gDvm.tail%TOTALBUFFSIZE] = RECORD_METH_ENTRY;\
+						gDvm.threadIds[gDvm.tail%TOTALBUFFSIZE] = _threadid;\
+						gDvm.tail = safeIncre(gDvm.tail);\
+						/*if(gDvm.tail - gDvm.head > TOTALBUFFSIZE)\
+						  gDvm.stopLogging = true;*/\
+						CHECK_BUFFER();\
+						/*WRITE_BUFFER("%d<fun n=%s.%s(%s) a=%u nt=%s t=%lu st=%lu>\n", _threadid, _cname, _mname, _sig, _addr, _isNative?"1":"0", _time, systime);*/\
+					}else{ \
+						gDvm.mEntries[gDvm.entTail%TOTALENTSIZE].addr = _addr;\
+						gDvm.mEntries[gDvm.entTail%TOTALENTSIZE].isNative = _isNative;\
+						gDvm.mEntries[gDvm.entTail%TOTALENTSIZE].time = _time;\
+						gDvm.mEntries[gDvm.entTail%TOTALENTSIZE].sysTime = 0;\
+						gDvm.mEntries[gDvm.entTail%TOTALENTSIZE].count = self->instrCount;\
+						gDvm.entTail++;\
+						gDvm.records[gDvm.tail%TOTALBUFFSIZE] = RECORD_METH_ENTRY;\
+						gDvm.threadIds[gDvm.tail%TOTALBUFFSIZE] = _threadid;\
+						gDvm.tail = safeIncre(gDvm.tail);\
+						/*if(gDvm.tail - gDvm.head >= TOTALBUFFSIZE)\
+						  gDvm.stopLogging = true;*/\
+						CHECK_BUFFER();\
+						/*WRITE_BUFFER("%d<fun n=%s.%s(%s) a=%u nt=%s t=%lu>\n", _threadid, _cname, _mname, _sig, _addr, _isNative?"1":"0", _time);*/\
+					}\
+					gDvm.count++;\
+				}\
+			}\
+			pthread_mutex_unlock(&(gDvm.threadLock));\
+		}\
+	}\
+}while(false)
+
+
+/*
+ * The macro to log function exit.
+ */
+#define LOG_METHOD_EXIT(_addr) do{\
+	if(gDvm.isInstrSetupComplete){\
+		if(gDvm.feature == FEATURE_TIME){\
+			if(self->stack.size()>0){\
+				uint32_t mt = (uint32_t)self->stack.back();\
+				if(mt != _addr){\
+					ALOGD("TraceDebug: %u method address don't match when exit: %u, %u", self->systemTid, _addr,mt);\
+					exit(1);\
+				}\
+				Method* cm = (Method*)mt;\
+				self->stack.pop_back();\
+				if(self->stack.empty())\
+				self->topMethod = NULL;\
+				else\
+				self->topMethod = self->stack.back();\
+				/*from native to java*/\
+				if(dvmIsNativeMethod(cm)){\
+					if(!self->stack.empty()){\
+						if(!dvmIsNativeMethod(self->stack.back())){\
+							logStartTime();\
+						}\
+					}\
+					/*from java to native*/\
+				}else{\
+					if(self->stack.empty()||dvmIsNativeMethod(self->stack.back())){\
+						updateTotalTime();\
+					}\
+				}\
+			}\
+			else\
+			ALOGD("TraceDebug: %u stack size is 0.", self->systemTid); \
+		}\
+		else if(gDvm.feature == FEATURE_TRACE){\
+			pthread_mutex_lock(&(gDvm.threadLock));\
+			if(!gDvm.compare && !gDvm.stopLogging) {  \
+				if(self->stack.size()>0){\
+					uint32_t mt = (uint32_t)self->stack.back();\
+					if(mt != _addr){\
+						ALOGD("TraceDebug: %u method address don't match when exit: %u, %u", self->systemTid, _addr,mt);\
+					}\
+					self->stack.pop_back();\
+					if(self->stack.empty())\
+					self->topMethod = NULL;\
+					else\
+					self->topMethod = self->stack.back();\
+				}\
+				else{\
+				LOGX("TraceDebug: %u stack size is 0.", self->systemTid); }\
+				/*LOGX("TraceDebug: Leave %d at line %d of file %s",_addr, __LINE__, __FILE__);*/ \
+				int _threadid = (int) self->systemTid;\
+				gDvm.lastThreadId = 0;\
+				uint32_t _time = 0;\
+				struct timespec systm;\
+				clock_gettime(CLOCK_THREAD_CPUTIME_ID, &systm);\
+				_time = systm.tv_sec * 1000000LL + systm.tv_nsec / 1000;\
+				gDvm.mExits[gDvm.exTail%TOTALEXITSIZE].addr = _addr;\
+				gDvm.mExits[gDvm.exTail%TOTALEXITSIZE].time = _time;\
+				gDvm.mExits[gDvm.exTail%TOTALEXITSIZE].count = self->instrCount;\
+				gDvm.exTail++;\
+				gDvm.records[gDvm.tail%TOTALBUFFSIZE] = RECORD_METH_EXIT;\
+				gDvm.threadIds[gDvm.tail%TOTALBUFFSIZE] = _threadid;\
+				gDvm.tail = safeIncre(gDvm.tail);\
+				/*	if(gDvm.tail - gDvm.head >= TOTALBUFFSIZE)\
+					gDvm.stopLogging = true;*/\
+				CHECK_BUFFER();\
+				/*WRITE_BUFFER("%u</fun a=%u t=%lu>\n",_threadid,_addr ,_time);*/\
+			}\
+			pthread_mutex_unlock(&(gDvm.threadLock));\
+		}\
+	}\
+}while(false)
+
+/*
+ * The macro should be always called after a frame is popped
+ */
+#define LOG_METHOD_EXIT_WITH_CHECK(_addr) do{\
+	if(gDvm.feature == FEATURE_TRACE || gDvm.feature == FEATURE_TIME)\
+	if(gDvm.isInstrSetupComplete  && !gDvm.stopLogging) {\
+		if(self->stack.size()>0){\
+			uint32_t mt = (uint32_t)self->stack.back();\
+			if(mt != _addr){\
+				LOGX("TraceDebug: %u method address don't match when exit: %u, %u", self->systemTid, _addr,mt);\
+				FIX_STACK(self);\
+			} else\
+			LOG_METHOD_EXIT(_addr);\
+		}else{\
+			FIX_STACK(self);\
+		}\
+	}\
+}while(false)\
+
+
+#define FLUSH_LOG() do{\
+	pthread_mutex_lock(&(gDvm.threadLock));\
+	fflush(gDvm.fHandle);\
+	pthread_mutex_unlock(&(gDvm.threadLock));\
+}while(false)
+
+#define CLOSE_LOG() do{\
+    u4 i = 0;\
+    for(; i < gDvm.fileArrayLength; i++){\
+ 	if(gDvm.fileArray[i]){\
+	fflush(gDvm.fileArray[i]);\
+	fclose(gDvm.fileArray[i]);\
+	}\
+    }\
+}while(false)
+
+inline bool CHECK_STACK_SIZE(Thread* self){
+	u4* fp = self->interpSave.curFrame; 
+	u4 depth = 0;
+	while (fp != NULL) { 
+		if (!dvmIsBreakFrame((u4*)fp)) { 
+			depth++;
+		} 
+		fp = SAVEAREA_FROM_FP(fp)->prevFrame;
+	}
+	return depth == self->stack.size();
+}
+
+/**
+ * The function to fix call return mismatch
+ */
+inline void FIX_STACK(Thread* _thread){
+	Thread* self = _thread;
+	LOGX("TraceDebug: %u fix call-return", self->systemTid); 
+	u4* fp = self->interpSave.curFrame; 
+	std::vector<const Method*> dStack; 
+	while (fp != NULL) { 
+		if (!dvmIsBreakFrame((u4*)fp)) { 
+			dStack.push_back(SAVEAREA_FROM_FP(fp)->method); 
+		} 
+		fp = SAVEAREA_FROM_FP(fp)->prevFrame;
+	}
+	int i = 0;
+	int dsDep = (int)dStack.size();
+	int isDep = (int)self->stack.size();
+	for(;i < dsDep && i < isDep; i++){
+		if(dStack[dsDep-1-i] != self->stack[i])
+		break;
+	}
+
+#ifdef XIN_DEBUG
+	LOGX("TraceDebug: %u dalvik stack:", self->systemTid); 
+	for(int j = 0; j < dsDep; j++){
+		const Method* methodToCall = dStack[j];
+		LOGX("TraceDebug: %u %s.%s(%s) isNative=%d",self->systemTid,methodToCall->clazz->descriptor, methodToCall->name, 
+				methodToCall->shorty,(dvmIsNativeMethod(methodToCall)?1:0)); 
+	}
+	LOGX("TraceDebug: %u trace stack before fix:", self->systemTid);
+	for(int j = isDep-1; j >=0 ;j--){
+		Method* methodToCall = self->stack[j];
+		LOGX("TraceDebug: %u %s.%s(%s) isNative=%d",self->systemTid,methodToCall->clazz->descriptor, methodToCall->name, 
+				methodToCall->shorty,(dvmIsNativeMethod(methodToCall)?1:0)); 
+	}
+#endif
+	self->isInFix = true;
+	LOGX("TraceDebug: %u diff point: %d %d %d", self->systemTid, i, dsDep, isDep);
+	for(int j = isDep-1; j >= i; j--){
+		uint32_t maddr = (uint32_t)self->stack[j];
+		LOG_METHOD_EXIT(maddr);
+	}
+	for(int j = dsDep-1-i; j >=0 ; j--){
+		const Method* methodToCall = dStack[j];
+		LOG_METHOD_ENTRANCE((uint32_t)methodToCall, methodToCall->clazz->descriptor, methodToCall->name, 
+				methodToCall->shorty,dvmIsNativeMethod(methodToCall));
+	}
+	self->isInFix = false;
+#ifdef XIN_DEBUG
+	LOGX("TraceDebug: %u trace stack after fix:", self->systemTid);
+	for(int j = self->stack.size()-1; j >=0 ;j--){
+		Method* methodToCall = self->stack[j];
+		LOGX("TraceDebug: %u %s.%s(%s) isNative=%d",self->systemTid,methodToCall->clazz->descriptor, methodToCall->name, 
+				methodToCall->shorty,(dvmIsNativeMethod(methodToCall)?1:0)); 
+	}
+#endif
+} 
+
+inline void CHECK_STACK_NATIVE(Thread* self){
+	if(self->stack.empty()||!dvmIsNativeMethod(self->stack.back()))	
+		FIX_STACK(self);
+}
+
+#endif
+//*********************Macros for instruction logging****************/
+
 #endif  // DALVIK_GLOBALS_H_
diff --git a/vm/Init.cpp b/vm/Init.cpp
index 9169a5d..a66474c 100644
--- a/vm/Init.cpp
+++ b/vm/Init.cpp
@@ -1333,6 +1333,7 @@ static void blockSignals()
     sigemptyset(&mask);
     sigaddset(&mask, SIGQUIT);
     sigaddset(&mask, SIGUSR1);      // used to initiate heap dump
+    sigaddset(&mask, SIGINT);
 #if defined(WITH_JIT) && defined(WITH_JIT_TUNING)
     sigaddset(&mask, SIGUSR2);      // used to investigate JIT internals
 #endif
@@ -1532,6 +1533,7 @@ std::string dvmStartup(int argc, const char* const argv[],
         return "dvmCreateStockExceptions failed";
     }
 
+
     /*
      * At this point, the VM is in a pretty good state.  Finish prep on
      * the main thread (specifically, create a java.lang.Thread object to go
@@ -1952,7 +1954,6 @@ fail:
 void dvmShutdown()
 {
     ALOGV("VM shutting down");
-
     if (CALC_CACHE_STATS)
         dvmDumpAtomicCacheStats(gDvm.instanceofCache);
 
diff --git a/vm/InlineNative.cpp b/vm/InlineNative.cpp
index 00c1e95..a0e64ae 100644
--- a/vm/InlineNative.cpp
+++ b/vm/InlineNative.cpp
@@ -138,15 +138,37 @@ bool javaLangString_charAt(u4 arg0, u4 arg1, u4 arg2, u4 arg3,
 
     //ALOGI("String.charAt this=0x%08x index=%d", arg0, arg1);
     count = dvmGetFieldInt((Object*) arg0, STRING_FIELDOFF_COUNT);
+
+    Thread* self = dvmThreadSelf();
+
+    CHECK_STACK_NATIVE(self);
+
+    Object* obj = (Object*)arg0;
+
+    ////An overapproximation. Charge only one read. But note now the offset is not right
+    //LOG_READ(OBJ_JNI, arg0,0, obj->clazz->objectSize);
+
+    LOG_READ(OBJ_JNI, arg0,STRING_FIELDOFF_COUNT, obj->clazz->objectSize);
+
     if ((s4) arg1 < 0 || (s4) arg1 >= count) {
         dvmThrowStringIndexOutOfBoundsExceptionWithIndex(count, arg1);
         return false;
     } else {
         offset = dvmGetFieldInt((Object*) arg0, STRING_FIELDOFF_OFFSET);
+
+	LOG_READ(OBJ_JNI, arg0,STRING_FIELDOFF_OFFSET, obj->clazz->objectSize);	
+
         chars = (ArrayObject*)
             dvmGetFieldObject((Object*) arg0, STRING_FIELDOFF_VALUE);
 
+	LOG_READ(OBJ_JNI, arg0,STRING_FIELDOFF_VALUE, obj->clazz->objectSize);	
+
         pResult->i = ((const u2*)(void*)chars->contents)[arg1 + offset];
+	
+	u4 arrAddr = (u4)chars;
+
+	LOG_READ(OBJ_JNI_ARRAY, arrAddr,(offset+arg1)*sizeof(u2), dvmArrayObjectSize(chars));	
+
         return true;
     }
 }
@@ -230,17 +252,52 @@ bool javaLangString_compareTo(u4 arg0, u4 arg1, u4 arg2, u4 arg3,
 
     thisCount = dvmGetFieldInt((Object*) arg0, STRING_FIELDOFF_COUNT);
     compCount = dvmGetFieldInt((Object*) arg1, STRING_FIELDOFF_COUNT);
+
+    Thread* self = dvmThreadSelf();
+
+    CHECK_STACK_NATIVE(self);
+
+    Object* thisObj = (Object*)arg0;
+    LOG_READ(OBJ_JNI, arg0,STRING_FIELDOFF_COUNT, thisObj->clazz->objectSize);
+    Object* thatObj = (Object*)arg1;
+    LOG_READ(OBJ_JNI, arg1,STRING_FIELDOFF_COUNT, thatObj->clazz->objectSize);
+
     countDiff = thisCount - compCount;
     minCount = (countDiff < 0) ? thisCount : compCount;
     thisOffset = dvmGetFieldInt((Object*) arg0, STRING_FIELDOFF_OFFSET);
     compOffset = dvmGetFieldInt((Object*) arg1, STRING_FIELDOFF_OFFSET);
+
+    LOG_READ(OBJ_JNI, arg0,STRING_FIELDOFF_OFFSET, thisObj->clazz->objectSize);
+    LOG_READ(OBJ_JNI, arg1,STRING_FIELDOFF_OFFSET, thatObj->clazz->objectSize);
+
     thisArray = (ArrayObject*)
         dvmGetFieldObject((Object*) arg0, STRING_FIELDOFF_VALUE);
     compArray = (ArrayObject*)
         dvmGetFieldObject((Object*) arg1, STRING_FIELDOFF_VALUE);
+
+    LOG_READ(OBJ_JNI, arg0,STRING_FIELDOFF_VALUE, thisObj->clazz->objectSize);
+    LOG_READ(OBJ_JNI, arg1,STRING_FIELDOFF_VALUE, thatObj->clazz->objectSize);
+  
+    //LOG_READ(OBJ_JNI, arg0,0, thisObj->clazz->objectSize);
+    //LOG_READ(OBJ_JNI, arg1,0, thatObj->clazz->objectSize);
+
     thisChars = ((const u2*)(void*)thisArray->contents) + thisOffset;
     compChars = ((const u2*)(void*)compArray->contents) + compOffset;
 
+    u4 thisAddr = (u4)thisArray;
+    u4 thatAddr = (u4)compArray;
+
+   // //A bit irritating to log the accesses to every single element in the array.
+   // int itemp;
+   // for(itemp = 0; itemp < minCount; itemp++){
+   //         LOG_READ(OBJ_JNI_ARRAY, thisAddr,(itemp+thisOffset)*sizeof(u2), dvmArrayObjectSize(thisArray));	
+   //         LOG_READ(OBJ_JNI_ARRAY, thatAddr,(itemp+compOffset)*sizeof(u2), dvmArrayObjectSize(compArray));	
+   //         if(thisChars[itemp] != compChars[itemp])
+   //     	    break;
+   // }
+
+    LOG_READ(OBJ_ARRAY_ALL, thisAddr ,0, dvmArrayObjectSize(thisArray));
+    LOG_READ(OBJ_ARRAY_ALL, thatAddr, 0, dvmArrayObjectSize(compArray));
 #ifdef HAVE__MEMCMP16
     /*
      * Use assembly version, which returns the difference between the
@@ -333,6 +390,18 @@ bool javaLangString_equals(u4 arg0, u4 arg1, u4 arg2, u4 arg3,
     /* quick length check */
     thisCount = dvmGetFieldInt((Object*) arg0, STRING_FIELDOFF_COUNT);
     compCount = dvmGetFieldInt((Object*) arg1, STRING_FIELDOFF_COUNT);
+
+    Thread* self = dvmThreadSelf();
+    CHECK_STACK_NATIVE(self);
+
+    Object* thisObj = (Object*)arg0;
+    LOG_READ(OBJ_JNI, arg0,STRING_FIELDOFF_COUNT, thisObj->clazz->objectSize);
+    Object* thatObj = (Object*)arg1;
+    LOG_READ(OBJ_JNI, arg1,STRING_FIELDOFF_COUNT, thatObj->clazz->objectSize);
+
+//    LOG_READ(OBJ_JNI, arg0,0, thisObj->clazz->objectSize);
+//    LOG_READ(OBJ_JNI, arg1,0, thatObj->clazz->objectSize);
+
     if (thisCount != compCount) {
         pResult->i = false;
         return true;
@@ -355,13 +424,36 @@ bool javaLangString_equals(u4 arg0, u4 arg1, u4 arg2, u4 arg3,
 
     thisOffset = dvmGetFieldInt((Object*) arg0, STRING_FIELDOFF_OFFSET);
     compOffset = dvmGetFieldInt((Object*) arg1, STRING_FIELDOFF_OFFSET);
+
+    LOG_READ(OBJ_JNI, arg0,STRING_FIELDOFF_OFFSET, thisObj->clazz->objectSize);
+    LOG_READ(OBJ_JNI, arg1,STRING_FIELDOFF_OFFSET, thatObj->clazz->objectSize);
+
     thisArray = (ArrayObject*)
         dvmGetFieldObject((Object*) arg0, STRING_FIELDOFF_VALUE);
     compArray = (ArrayObject*)
         dvmGetFieldObject((Object*) arg1, STRING_FIELDOFF_VALUE);
+
+    LOG_READ(OBJ_JNI, arg0,STRING_FIELDOFF_VALUE, thisObj->clazz->objectSize);
+    LOG_READ(OBJ_JNI, arg1,STRING_FIELDOFF_VALUE, thatObj->clazz->objectSize);
+    
     thisChars = ((const u2*)(void*)thisArray->contents) + thisOffset;
     compChars = ((const u2*)(void*)compArray->contents) + compOffset;
 
+    u4 thisAddr = (u4)thisArray;
+    u4 thatAddr = (u4)compArray;
+
+   // int itemp;
+
+   // for(itemp = 0; itemp < thisCount; itemp++){
+   // 	LOG_READ(OBJ_JNI_ARRAY, thisAddr,(thisOffset+itemp)*sizeof(u2), dvmArrayObjectSize(thisArray));	
+   // 	LOG_READ(OBJ_JNI_ARRAY, thatAddr,(compOffset+itemp)*sizeof(u2), dvmArrayObjectSize(compArray));	
+   //     if(thisChars[itemp] != compChars[itemp])
+   //     	break;
+   // }
+
+    LOG_READ(OBJ_ARRAY_ALL, thisAddr, 0, dvmArrayObjectSize(thisArray));	
+    LOG_READ(OBJ_ARRAY_ALL, thatAddr, 0, dvmArrayObjectSize(compArray));	
+
 #ifdef HAVE__MEMCMP16
     pResult->i = (__memcmp16(thisChars, compChars, thisCount) == 0);
 # ifdef CHECK_MEMCMP16
@@ -412,6 +504,12 @@ bool javaLangString_length(u4 arg0, u4 arg1, u4 arg2, u4 arg3,
     }
 
     pResult->i = dvmGetFieldInt((Object*) arg0, STRING_FIELDOFF_COUNT);
+
+    Thread* self = dvmThreadSelf();
+    CHECK_STACK_NATIVE(self);
+    Object* obj = (Object*)arg0;
+    LOG_READ(OBJ_JNI, arg0, STRING_FIELDOFF_COUNT, obj->clazz->objectSize);
+
     return true;
 }
 
@@ -430,6 +528,12 @@ bool javaLangString_isEmpty(u4 arg0, u4 arg1, u4 arg2, u4 arg3,
     }
 
     pResult->i = (dvmGetFieldInt((Object*) arg0, STRING_FIELDOFF_COUNT) == 0);
+
+    Thread* self = dvmThreadSelf();
+    CHECK_STACK_NATIVE(self);
+    Object* obj = (Object*)arg0;
+    LOG_READ(OBJ_JNI, arg0, STRING_FIELDOFF_COUNT, obj->clazz->objectSize);
+
     return true;
 }
 
@@ -455,6 +559,21 @@ static inline int indexOfCommon(Object* strObj, int ch, int start)
     const u2* chars = (const u2*)(void*)charArray->contents;
     int offset = dvmGetFieldInt(strObj, STRING_FIELDOFF_OFFSET);
     int count = dvmGetFieldInt(strObj, STRING_FIELDOFF_COUNT);
+
+    u4 strAddr = (u4)strObj;
+    Thread* self = dvmThreadSelf();
+    CHECK_STACK_NATIVE(self);
+    LOG_READ(OBJ_JNI, strAddr, STRING_FIELDOFF_VALUE, strObj->clazz->objectSize);
+    LOG_READ(OBJ_JNI, strAddr, STRING_FIELDOFF_OFFSET, strObj->clazz->objectSize);
+    LOG_READ(OBJ_JNI, strAddr, STRING_FIELDOFF_COUNT, strObj->clazz->objectSize);
+//    LOG_READ(OBJ_JNI, strAddr, 0, strObj->clazz->objectSize);
+
+
+    u4 thisAddr = (u4)charArray;
+
+//    LOG_READ(OBJ_JNI, thisAddr,0, dvmArrayObjectSize(charArray));	
+
+
     //ALOGI("String.indexOf(0x%08x, 0x%04x, %d) off=%d count=%d",
     //    (u4) strObj, ch, start, offset, count);
 
@@ -466,6 +585,16 @@ static inline int indexOfCommon(Object* strObj, int ch, int start)
     else if (start > count)
         start = count;
 
+//    int itemp;
+//
+//    for(itemp = start; itemp < count; itemp++){
+//	    LOG_READ(OBJ_JNI_ARRAY, thisAddr,(offset+itemp)*sizeof(u2), dvmArrayObjectSize(charArray));	
+//	    if(chars[itemp] == ch)
+//		    break;
+//    }
+
+    LOG_READ(OBJ_ARRAY_ALL, thisAddr, 0, dvmArrayObjectSize(charArray));	
+
 #if 0
     /* 16-bit loop, simple */
     while (start < count) {
diff --git a/vm/Jni.cpp b/vm/Jni.cpp
index e571ad8..cf18054 100644
--- a/vm/Jni.cpp
+++ b/vm/Jni.cpp
@@ -22,6 +22,7 @@
 #include "Misc.h"
 #include "ScopedPthreadMutexLock.h"
 #include "UniquePtr.h"
+#include "Common.h"
 
 #include <stdlib.h>
 #include <stdarg.h>
@@ -600,6 +601,10 @@ static void pinPrimitiveArray(ArrayObject* arrayObj) {
         ReportJniError();
     }
 
+    Thread* self = dvmThreadSelf();				    
+    CHECK_STACK_NATIVE(self);
+    LOG_READ(OBJ_JNI_HOLD_ARRAY, (uint32_t)(arrayObj),0, dvmArrayObjectSize(arrayObj));
+
     /*
      * If we're watching global ref usage, also keep an eye on these.
      *
@@ -641,6 +646,11 @@ static void unpinPrimitiveArray(ArrayObject* arrayObj) {
             arrayObj, dvmIsHeapAddress((Object*) arrayObj));
         return;
     }
+
+    Thread* self = dvmThreadSelf();				    
+    CHECK_STACK_NATIVE(self);
+    LOG_READ(OBJ_JNI_REL_ARRAY, (uint32_t)(arrayObj),0, dvmArrayObjectSize(arrayObj));	
+
 }
 
 /*
@@ -1784,6 +1794,7 @@ static jfieldID GetStaticFieldID(JNIEnv* env, jclass jclazz, const char* name, c
         ScopedJniThreadState ts(env);                                       \
         StaticField* sfield = (StaticField*) fieldID;                       \
         _ctype value;                                                       \
+	u4 sfAddr = (u4)sfield;\
         if (dvmIsVolatileField(sfield)) {                                   \
             if (_isref) {   /* only when _ctype==jobject */                 \
                 Object* obj = dvmGetStaticFieldObjectVolatile(sfield);      \
@@ -1799,6 +1810,9 @@ static jfieldID GetStaticFieldID(JNIEnv* env, jclass jclazz, const char* name, c
                 value = (_ctype) dvmGetStaticField##_jname(sfield);         \
             }                                                               \
         }                                                                   \
+	    Thread* self = ts.self();					    \
+	    CHECK_STACK_NATIVE(self);\
+	    LOG_READ(OBJ_JNI_STATIC,sfAddr,0, sizeof(_ctype));\
         return value;                                                       \
     }
 GET_STATIC_TYPE_FIELD(jobject, Object, true);
@@ -1821,6 +1835,7 @@ GET_STATIC_TYPE_FIELD(jdouble, Double, false);
         UNUSED_PARAMETER(jclazz);                                           \
         ScopedJniThreadState ts(env);                                       \
         StaticField* sfield = (StaticField*) fieldID;                       \
+	u4 sfAddr = (u4)sfield;\
         if (dvmIsVolatileField(sfield)) {                                   \
             if (_isref) {   /* only when _ctype==jobject */                 \
                 Object* valObj = dvmDecodeIndirectRef(ts.self(), (jobject)(u4)value); \
@@ -1836,6 +1851,8 @@ GET_STATIC_TYPE_FIELD(jdouble, Double, false);
                 dvmSetStaticField##_jname(sfield, (_ctype2)value);          \
             }                                                               \
         }                                                                   \
+	    Thread* self = ts.self(); \
+	    LOG_WRITE(OBJ_JNI_STATIC,sfAddr,0, sizeof(_ctype));\
     }
 SET_STATIC_TYPE_FIELD(jobject, Object*, Object, true);
 SET_STATIC_TYPE_FIELD(jboolean, bool, Boolean, false);
@@ -1877,6 +1894,9 @@ SET_STATIC_TYPE_FIELD(jdouble, double, Double, false);
                 value = (_ctype) dvmGetField##_jname(obj, field->byteOffset);\
             }                                                               \
         }                                                                   \
+	Thread* self = ts.self();					    \
+	CHECK_STACK_NATIVE(self);\
+	LOG_READ(OBJ_JNI,(uint32_t)(jobj), field->byteOffset, obj->clazz->objectSize); 	    \
         return value;                                                       \
     }
 GET_TYPE_FIELD(jobject, Object, true);
@@ -1916,6 +1936,8 @@ GET_TYPE_FIELD(jdouble, Double, false);
                     field->byteOffset, (_ctype2)value);                     \
             }                                                               \
         }                                                                   \
+	Thread* self = ts.self();                                           \
+	LOG_WRITE(OBJ_JNI, (uint32_t)(jobj), field->byteOffset, obj->clazz->objectSize);	    \
     }
 SET_TYPE_FIELD(jobject, Object*, Object, true);
 SET_TYPE_FIELD(jboolean, bool, Boolean, false);
@@ -2143,6 +2165,9 @@ static jstring NewString(JNIEnv* env, const jchar* unicodeChars, jsize len) {
 static jsize GetStringLength(JNIEnv* env, jstring jstr) {
     ScopedJniThreadState ts(env);
     StringObject* strObj = (StringObject*) dvmDecodeIndirectRef(ts.self(), jstr);
+    Thread* self = ((JNIEnvExt*)env)->self;				    
+    CHECK_STACK_NATIVE(self);
+    LOG_READ(OBJ_JNI, (uint32_t)(strObj),STRING_FIELDOFF_COUNT,strObj->clazz->objectSize);	
     return strObj->length();
 }
 
@@ -2159,6 +2184,10 @@ static const jchar* GetStringChars(JNIEnv* env, jstring jstr, jboolean* isCopy)
     StringObject* strObj = (StringObject*) dvmDecodeIndirectRef(ts.self(), jstr);
     ArrayObject* strChars = strObj->array();
 
+    Thread* self = ((JNIEnvExt*)env)->self;				    
+    CHECK_STACK_NATIVE(self);
+    LOG_READ(OBJ_JNI, (uint32_t)(strObj),STRING_FIELDOFF_VALUE,strObj->clazz->objectSize);	
+
     pinPrimitiveArray(strChars);
 
     const u2* data = strObj->chars();
@@ -2254,6 +2283,9 @@ static void ReleaseStringUTFChars(JNIEnv* env, jstring jstr, const char* utf) {
 static jsize GetArrayLength(JNIEnv* env, jarray jarr) {
     ScopedJniThreadState ts(env);
     ArrayObject* arrObj = (ArrayObject*) dvmDecodeIndirectRef(ts.self(), jarr);
+    Thread* self = ((JNIEnvExt*)env)->self;				    
+    CHECK_STACK_NATIVE(self);
+    LOG_READ(OBJ_JNI, (uint32_t)(arrObj),OFFSETOF_MEMBER(ArrayObject,length), dvmArrayObjectSize(arrObj));		
     return arrObj->length;
 }
 
@@ -2294,6 +2326,10 @@ static jobjectArray NewObjectArray(JNIEnv* env, jsize length,
     return newArray;
 }
 
+
+/*
+ *Xin: seems not public avaiable in Jni.h?
+ */
 static bool checkArrayElementBounds(ArrayObject* arrayObj, jsize index) {
     assert(arrayObj != NULL);
     if (index < 0 || index >= (int) arrayObj->length) {
@@ -2316,6 +2352,12 @@ static jobject GetObjectArrayElement(JNIEnv* env, jobjectArray jarr, jsize index
         return NULL;
     }
 
+    Thread* self = ((JNIEnvExt*)env)->self;			
+
+    CHECK_STACK_NATIVE(self);
+
+    LOG_READ(OBJ_JNI_ARRAY, (u4)arrayObj, index*sizeof(Object*), dvmArrayObjectSize(arrayObj));
+
     Object* value = ((Object**) (void*) arrayObj->contents)[index];
     return addLocalReference(ts.self(), value);
 }
@@ -2340,6 +2382,13 @@ static void SetObjectArrayElement(JNIEnv* env, jobjectArray jarr, jsize index, j
       dvmThrowArrayStoreExceptionIncompatibleElement(obj->clazz, arrayObj->clazz);
       return;
     }
+    
+    Thread* self = ((JNIEnvExt*)env)->self;			
+
+    CHECK_STACK_NATIVE(self);
+
+    LOG_WRITE(OBJ_JNI_ARRAY, (u4)arrayObj, index*sizeof(Object*), dvmArrayObjectSize(arrayObj));
+
 
     //ALOGV("JNI: set element %d in array %p to %p", index, array, value);
 
@@ -2356,9 +2405,11 @@ static void SetObjectArrayElement(JNIEnv* env, jobjectArray jarr, jsize index, j
         if (arrayObj == NULL) { \
             return NULL; \
         } \
+/*	Thread* self = ts.self();                                           \
+ *	LOG_ALLOC((uint32_t)arrayObj, gDvm.allocSize);	*/		    \
         _artype result = (_artype) addLocalReference(ts.self(), (Object*) arrayObj); \
         dvmReleaseTrackedAlloc((Object*) arrayObj, NULL); \
-        return result; \
+	return result; \
     }
 NEW_PRIMITIVE_ARRAY(jbooleanArray, Boolean, 'Z');
 NEW_PRIMITIVE_ARRAY(jbyteArray, Byte, 'B');
@@ -2384,7 +2435,7 @@ NEW_PRIMITIVE_ARRAY(jdoubleArray, Double, 'D');
     { \
         ScopedJniThreadState ts(env); \
         ArrayObject* arrayObj = (ArrayObject*) dvmDecodeIndirectRef(ts.self(), jarr); \
-        pinPrimitiveArray(arrayObj); \
+	pinPrimitiveArray(arrayObj); \
         _ctype* data = (_ctype*) (void*) arrayObj->contents; \
         if (isCopy != NULL) { \
             *isCopy = JNI_FALSE; \
@@ -2429,7 +2480,10 @@ static void throwArrayRegionOutOfBounds(ArrayObject* arrayObj, jsize start,
     { \
         ScopedJniThreadState ts(env); \
         ArrayObject* arrayObj = (ArrayObject*) dvmDecodeIndirectRef(ts.self(), jarr); \
-        _ctype* data = (_ctype*) (void*) arrayObj->contents; \
+        Thread* self = ((JNIEnvExt*)env)->self;				    \
+	CHECK_STACK_NATIVE(self);\
+	LOG_READ(OBJ_ARRAY_ALL, (uint32_t)(arrayObj), 0, dvmArrayObjectSize(arrayObj));	    \
+	_ctype* data = (_ctype*) (void*) arrayObj->contents; \
         if (start < 0 || len < 0 || start + len > (int) arrayObj->length) { \
             throwArrayRegionOutOfBounds(arrayObj, start, len, "src"); \
         } else { \
@@ -2446,6 +2500,8 @@ static void throwArrayRegionOutOfBounds(ArrayObject* arrayObj, jsize start,
     { \
         ScopedJniThreadState ts(env); \
         ArrayObject* arrayObj = (ArrayObject*) dvmDecodeIndirectRef(ts.self(), jarr); \
+        Thread* self = ((JNIEnvExt*)env)->self;				    \
+	LOG_WRITE(OBJ_ARRAY_ALL, (uint32_t)(arrayObj),0, dvmArrayObjectSize(arrayObj));	    \
         _ctype* data = (_ctype*) (void*) arrayObj->contents; \
         if (start < 0 || len < 0 || start + len > (int) arrayObj->length) { \
             throwArrayRegionOutOfBounds(arrayObj, start, len, "dst"); \
@@ -2500,6 +2556,7 @@ static jint RegisterNatives(JNIEnv* env, jclass jclazz,
         {
             return JNI_ERR;
         }
+	LOG_NATIVELIBCALL(clazz, methods[i]);
     }
     return JNI_OK;
 }
@@ -2595,6 +2652,15 @@ static void GetStringRegion(JNIEnv* env, jstring jstr, jsize start, jsize len, j
         dvmThrowStringIndexOutOfBoundsExceptionWithRegion(strLen, start, len);
         return;
     }
+	
+    Thread* self = ((JNIEnvExt*)env)->self;				    
+    CHECK_STACK_NATIVE(self);
+    LOG_READ(OBJ_JNI, (uint32_t)(strObj),STRING_FIELDOFF_VALUE,strObj->clazz->objectSize);	
+
+    ArrayObject* arrObj = strObj->array();
+    u4 arrAddr = (u4)arrObj;
+    LOG_READ(OBJ_JNI, arrAddr,0, dvmArrayObjectSize(arrObj));	
+
     memcpy(buf, strObj->chars() + start, len * sizeof(u2));
 }
 
@@ -2610,6 +2676,15 @@ static void GetStringUTFRegion(JNIEnv* env, jstring jstr, jsize start, jsize len
         dvmThrowStringIndexOutOfBoundsExceptionWithRegion(strLen, start, len);
         return;
     }
+
+    Thread* self = ((JNIEnvExt*)env)->self;				    
+    CHECK_STACK_NATIVE(self);
+    LOG_READ(OBJ_JNI, (uint32_t)(strObj),STRING_FIELDOFF_VALUE,strObj->clazz->objectSize);	
+
+    ArrayObject* arrObj = strObj->array();
+    u4 arrAddr = (u4)arrObj;
+    LOG_READ(OBJ_JNI, arrAddr,0, dvmArrayObjectSize(arrObj));	
+
     dvmGetStringUtfRegion(strObj, start, len, buf);
 }
 
@@ -2652,6 +2727,10 @@ static const jchar* GetStringCritical(JNIEnv* env, jstring jstr, jboolean* isCop
     StringObject* strObj = (StringObject*) dvmDecodeIndirectRef(ts.self(), jstr);
     ArrayObject* strChars = strObj->array();
 
+    Thread* self = ((JNIEnvExt*)env)->self;				    
+    CHECK_STACK_NATIVE(self);
+    LOG_READ(OBJ_JNI, (uint32_t)(strObj),STRING_FIELDOFF_VALUE,strObj->clazz->objectSize);	
+
     pinPrimitiveArray(strChars);
 
     const u2* data = strObj->chars();
diff --git a/vm/Native.cpp b/vm/Native.cpp
index 8892c2a..64b7b6d 100644
--- a/vm/Native.cpp
+++ b/vm/Native.cpp
@@ -211,7 +211,7 @@ static SharedLib* findSharedLibEntry(const char* pathName)
 static SharedLib* addSharedLibEntry(SharedLib* pLib)
 {
     u4 hash = dvmComputeUtf8Hash(pLib->pathName);
-
+    LOG_NATIVELIB(pLib->pathName);
     /*
      * Do the lookup with the "add" flag set.  If we add it, we will get
      * our own pointer back.  If somebody beat us to the punch, we'll get
@@ -736,6 +736,8 @@ static int findMethodInLib(void* vlib, void* vmethod)
         }
     } else {
         ALOGV("Found '%s' with dlsym", mangleCM);
+	//LOG_NATIVELIBCALL(meth->clazz->descriptor, meth->name,
+        //    		meth->shorty,pLib->pathName);
     }
 
 bail:
diff --git a/vm/SignalCatcher.cpp b/vm/SignalCatcher.cpp
index d4302aa..e87a720 100644
--- a/vm/SignalCatcher.cpp
+++ b/vm/SignalCatcher.cpp
@@ -248,6 +248,24 @@ static void handleSigUsr2()
 }
 #endif
 
+/**
+ * Added for printing running time or instruction counts of each thread.
+ */
+static void handleSigInt()
+{
+	LOGX("TraceDebug: Handling INT signal.");
+	LOGX("TraceDebug: isSetup %s, feaure: %d", (gDvm.isInstrSetupComplete?"true":"false"), gDvm.feature);
+#ifdef XIN_DEBUG
+	Thread* self = dvmThreadSelf();
+#endif
+	LOGX("TraceDebug: Current thread id: %u", self->threadId);
+	if(gDvm.isInstrSetupComplete ){
+		if(FEATURE_COUNT == gDvm.feature || FEATURE_TIME == gDvm.feature){
+			gDvm.isBoundHit = true;
+		}
+	}
+}
+
 /*
  * Sleep in sigwait() until a signal arrives.
  */
@@ -265,8 +283,11 @@ static void* signalCatcherThreadStart(void* arg)
     sigemptyset(&mask);
     sigaddset(&mask, SIGQUIT);
     sigaddset(&mask, SIGUSR1);
+    //added for MCC
+    sigaddset(&mask, SIGINT);
 #if defined(WITH_JIT) && defined(WITH_JIT_TUNING)
     sigaddset(&mask, SIGUSR2);
+    ALOGI("JIT TUNING ENABLED");
 #endif
 
     while (true) {
@@ -316,6 +337,10 @@ loop:
             handleSigUsr2();
             break;
 #endif
+	case SIGINT:
+	    handleSigInt();
+	    break;
+	    
         default:
             ALOGE("unexpected signal %d", rcvd);
             break;
diff --git a/vm/Thread.cpp b/vm/Thread.cpp
index 9671b84..f1e1e4d 100644
--- a/vm/Thread.cpp
+++ b/vm/Thread.cpp
@@ -1537,7 +1537,11 @@ static void* interpThreadStart(void* arg)
 
     ALOGV("threadid=%d: calling run()", self->threadId);
     assert(strcmp(run->name, "run") == 0);
+
+
     dvmCallMethod(self, run, self->threadObj, &unused);
+
+
     ALOGV("threadid=%d: exiting", self->threadId);
 
     /*
@@ -2854,9 +2858,9 @@ static bool fullSuspendCheck(Thread* self)
     bool needSuspend = (self->suspendCount != 0);
     if (needSuspend) {
         LOG_THREAD("threadid=%d: self-suspending", self->threadId);
+
         ThreadStatus oldStatus = self->status;      /* should be RUNNING */
         self->status = THREAD_SUSPENDED;
-
         ATRACE_BEGIN("DVM Suspend");
         while (self->suspendCount != 0) {
             /*
diff --git a/vm/Thread.h b/vm/Thread.h
index 8deef6e..7c20d23 100644
--- a/vm/Thread.h
+++ b/vm/Thread.h
@@ -25,6 +25,9 @@
 
 #include <errno.h>
 #include <cutils/sched_policy.h>
+#include <vector>
+
+#define DEF_STACK_DEP 100
 
 #if defined(CHECK_MUTEX) && !defined(__USE_UNIX98)
 /* glibc lacks this unless you #define __USE_UNIX98 */
@@ -307,6 +310,21 @@ struct Thread {
 #if defined(ARCH_IA32) && defined(WITH_JIT)
     u4 spillRegion[MAX_SPILL_JIT_IA];
 #endif
+
+    //For time logging
+    bool isLogDone;
+
+    u4 instrCount;
+    u4 methodCount;
+
+    //Stack for trace fixing
+    std::vector<Method*> stack;
+    Method* topMethod;
+    bool isInFix;
+    u4 interpTotalTime; //Total amount of time spent in interpretation
+    u4 interpStartTime; //Last time entering interpretation code
+    bool hasStarted;
+    u4 startTime;
 };
 
 /* start point for an internal thread; mimics pthread args */
diff --git a/vm/alloc/Alloc.cpp b/vm/alloc/Alloc.cpp
index cfcb968..e28af32 100644
--- a/vm/alloc/Alloc.cpp
+++ b/vm/alloc/Alloc.cpp
@@ -192,6 +192,14 @@ Object* dvmAllocObject(ClassObject* clazz, int flags)
         dvmTrackAllocation(clazz, clazz->objectSize);   /* notify DDMS */
     }
 
+
+    /*Xin: Ideally, we shouldn't insert the allocation log
+     * in this file as it might include noise from the jvm.
+     * But it is always safe to include more allocations.*/
+
+    Thread* self = dvmThreadSelf();
+    LOG_ALLOC_MCC((u4) newObj, clazz->objectSize);
+
     return newObj;
 }
 
diff --git a/vm/interp/Interp.cpp b/vm/interp/Interp.cpp
index fa77523..2ca5e55 100644
--- a/vm/interp/Interp.cpp
+++ b/vm/interp/Interp.cpp
@@ -644,6 +644,7 @@ void dvmReportExceptionThrow(Thread* self, Object* exception)
  */
 void dvmReportInvoke(Thread* self, const Method* methodToCall)
 {
+    //logMethodEntrance(self);
     TRACE_METHOD_ENTER(self, methodToCall);
 }
 
@@ -656,6 +657,7 @@ void dvmReportInvoke(Thread* self, const Method* methodToCall)
  */
 void dvmReportPreNativeInvoke(const Method* methodToCall, Thread* self, u4* fp)
 {
+
 #if defined(WITH_JIT)
     /*
      * Actively building a trace?  If so, end it now.   The trace
@@ -679,14 +681,15 @@ void dvmReportPreNativeInvoke(const Method* methodToCall, Thread* self, u4* fp)
  */
 void dvmReportPostNativeInvoke(const Method* methodToCall, Thread* self, u4* fp)
 {
-    if (self->interpBreak.ctl.subMode & kSubModeDebuggerActive) {
-        Object* thisPtr = dvmGetThisPtr(self->interpSave.method, fp);
-        assert(thisPtr == NULL || dvmIsHeapAddress(thisPtr));
-        dvmDbgPostLocationEvent(methodToCall, -1, thisPtr, DBG_METHOD_EXIT);
-    }
-    if (self->interpBreak.ctl.subMode & kSubModeMethodTrace) {
-        dvmFastNativeMethodTraceExit(methodToCall, self);
-    }
+
+	if (self->interpBreak.ctl.subMode & kSubModeDebuggerActive) {
+		Object* thisPtr = dvmGetThisPtr(self->interpSave.method, fp);
+		assert(thisPtr == NULL || dvmIsHeapAddress(thisPtr));
+		dvmDbgPostLocationEvent(methodToCall, -1, thisPtr, DBG_METHOD_EXIT);
+	}
+	if (self->interpBreak.ctl.subMode & kSubModeMethodTrace) {
+		dvmFastNativeMethodTraceExit(methodToCall, self);
+	}
 }
 
 /*
@@ -1870,6 +1873,7 @@ void dvmCheckBefore(const u2 *pc, u4 *fp, Thread* self)
  */
 void dvmInterpret(Thread* self, const Method* method, JValue* pResult)
 {
+
     InterpSaveState interpSaveState;
     ExecutionSubModes savedSubModes;
 
@@ -1924,6 +1928,13 @@ void dvmInterpret(Thread* self, const Method* method, JValue* pResult)
     self->interpSave.curFrame = (u4*) self->interpSave.curFrame;
     self->interpSave.pc = method->insns;
 
+    if(gDvm.feature == FEATURE_TRACE || gDvm.feature == FEATURE_TIME){
+	    if(gDvm.isInstrSetupComplete &&  !gDvm.compare && !gDvm.stopLogging) { 
+		    if(!CHECK_STACK_SIZE(self))
+			    FIX_STACK(self);
+	    }
+    }
+
     assert(!dvmIsNativeMethod(method));
 
     /*
@@ -1954,7 +1965,6 @@ void dvmInterpret(Thread* self, const Method* method, JValue* pResult)
 
     // Call the interpreter
     (*stdInterp)(self);
-
     *pResult = self->interpSave.retval;
 
     /* Restore interpreter state from previous activation */
diff --git a/vm/interp/Stack.cpp b/vm/interp/Stack.cpp
index 1433f13..13090e5 100644
--- a/vm/interp/Stack.cpp
+++ b/vm/interp/Stack.cpp
@@ -511,7 +511,17 @@ void dvmCallMethodV(Thread* self, const Method* method, Object* obj,
     }
 #endif
 
-    //dvmDumpThreadStack(dvmThreadSelf());
+    {
+//	    for(int j = 0 ; j < verifyCount; j ++)
+//		    LOG_WRITE(OBJ_REGISTER, ins[j], 0 ,4);
+	    LOG_WRITE_PARAM(method, ins, (u4)verifyCount);
+	    //dvmDumpThreadStack(dvmThreadSelf());
+	    LOG_METHOD_ENTRANCE((uint32_t)method, method->clazz->descriptor, method->name,
+			    method->shorty,dvmIsNativeMethod(method));   
+//	    for(int j = 0 ; j < verifyCount; j ++)
+//		    LOG_READ(OBJ_REGISTER, ins[j], 0 ,4);
+	    LOG_READ_PARAM(method, ins, (u4)verifyCount);
+    }
 
     if (dvmIsNativeMethod(method)) {
         TRACE_METHOD_ENTER(self, method);
@@ -523,13 +533,17 @@ void dvmCallMethodV(Thread* self, const Method* method, Object* obj,
                               method, self);
         TRACE_METHOD_EXIT(self, method);
     } else {
-        dvmInterpret(self, method, pResult);
+	    dvmInterpret(self, method, pResult);
     }
 
+
 #ifndef NDEBUG
 bail:
 #endif
     dvmPopFrame(self);
+    LOG_WRITE_RET(method, pResult->j);
+    LOG_METHOD_EXIT_WITH_CHECK((uint32_t)method);   
+    LOG_READ_RET(method, pResult->j);
 }
 
 /*
@@ -618,6 +632,16 @@ void dvmCallMethodA(Thread* self, const Method* method, Object* obj,
     }
 #endif
 
+    {
+//	    for(int j = 0 ; j < verifyCount; j ++)
+//		    LOG_WRITE(OBJ_REGISTER, ins[j], 0 ,4);
+	    LOG_WRITE_PARAM(method,ins,(u4)verifyCount);
+	    LOG_METHOD_ENTRANCE((uint32_t)method, method->clazz->descriptor, method->name,
+			    method->shorty,dvmIsNativeMethod(method));     
+	    LOG_READ_PARAM(method,ins,(u4)verifyCount);
+//	    for(int j = 0 ; j < verifyCount; j ++)
+//		    LOG_READ(OBJ_REGISTER, ins[j], 0 ,4);
+    }
     if (dvmIsNativeMethod(method)) {
         TRACE_METHOD_ENTER(self, method);
         /*
@@ -628,11 +652,16 @@ void dvmCallMethodA(Thread* self, const Method* method, Object* obj,
                               method, self);
         TRACE_METHOD_EXIT(self, method);
     } else {
-        dvmInterpret(self, method, pResult);
+	dvmInterpret(self, method, pResult);
     }
 
+
 bail:
     dvmPopFrame(self);
+
+    LOG_WRITE_RET(method, pResult->j);
+    LOG_METHOD_EXIT_WITH_CHECK((uint32_t)method);
+    LOG_READ_RET(method, pResult->j);
 }
 
 static void throwArgumentTypeMismatch(int argIndex, ClassObject* expected, DataObject* arg) {
@@ -724,6 +753,21 @@ Object* dvmInvokeMethod(Object* obj, const Method* method,
     }
 #endif
 
+    {
+//	    for(int j = 0 ; j < verifyCount; j ++){
+//		    u4 vtemp = (u4)ins[j];
+//		    LOG_WRITE(OBJ_REGISTER, vtemp, 0 ,4);
+//	    }
+	    LOG_WRITE_PARAM(method, (u4*)ins,(u4)verifyCount);
+	    LOG_METHOD_ENTRANCE((uint32_t)method, method->clazz->descriptor, method->name,
+			    method->shorty,dvmIsNativeMethod(method));     
+	    LOG_READ_PARAM(method, (u4*)ins, (u4)verifyCount);
+	    //	    for(int j = 0 ; j < verifyCount; j ++){
+//		    u4 vtemp = (u4)ins[j];
+//		    LOG_READ(OBJ_REGISTER, vtemp, 0 ,4);
+//	    }
+    }
+
     if (dvmIsNativeMethod(method)) {
         TRACE_METHOD_ENTER(self, method);
         /*
@@ -744,6 +788,10 @@ Object* dvmInvokeMethod(Object* obj, const Method* method,
     dvmPopFrame(self);
     needPop = false;
 
+    LOG_WRITE_RET(method, retval.j);
+    LOG_METHOD_EXIT_WITH_CHECK((uint32_t)method);     
+    LOG_READ_RET(method, retval.j);
+
     /*
      * If an exception is raised, wrap and replace.  This is necessary
      * because the invoked method could have thrown a checked exception
@@ -771,6 +819,7 @@ Object* dvmInvokeMethod(Object* obj, const Method* method,
 bail:
     if (needPop) {
         dvmPopFrame(self);
+    	LOG_METHOD_EXIT_WITH_CHECK((uint32_t)method);     
     }
     return retObj;
 }
diff --git a/vm/mterp/Makefile-mterp b/vm/mterp/Makefile-mterp
old mode 100644
new mode 100755
diff --git a/vm/mterp/Mterp.cpp b/vm/mterp/Mterp.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/Mterp.h b/vm/mterp/Mterp.h
old mode 100644
new mode 100755
diff --git a/vm/mterp/NOTES.txt b/vm/mterp/NOTES.txt
old mode 100644
new mode 100755
diff --git a/vm/mterp/README.txt b/vm/mterp/README.txt
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_ADD_DOUBLE.S b/vm/mterp/arm-vfp/OP_ADD_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_ADD_DOUBLE_2ADDR.S b/vm/mterp/arm-vfp/OP_ADD_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_ADD_FLOAT.S b/vm/mterp/arm-vfp/OP_ADD_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_ADD_FLOAT_2ADDR.S b/vm/mterp/arm-vfp/OP_ADD_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_CMPG_DOUBLE.S b/vm/mterp/arm-vfp/OP_CMPG_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_CMPG_FLOAT.S b/vm/mterp/arm-vfp/OP_CMPG_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_CMPL_DOUBLE.S b/vm/mterp/arm-vfp/OP_CMPL_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_CMPL_FLOAT.S b/vm/mterp/arm-vfp/OP_CMPL_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_DIV_DOUBLE.S b/vm/mterp/arm-vfp/OP_DIV_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_DIV_DOUBLE_2ADDR.S b/vm/mterp/arm-vfp/OP_DIV_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_DIV_FLOAT.S b/vm/mterp/arm-vfp/OP_DIV_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_DIV_FLOAT_2ADDR.S b/vm/mterp/arm-vfp/OP_DIV_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_DOUBLE_TO_FLOAT.S b/vm/mterp/arm-vfp/OP_DOUBLE_TO_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_DOUBLE_TO_INT.S b/vm/mterp/arm-vfp/OP_DOUBLE_TO_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_FLOAT_TO_DOUBLE.S b/vm/mterp/arm-vfp/OP_FLOAT_TO_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_FLOAT_TO_INT.S b/vm/mterp/arm-vfp/OP_FLOAT_TO_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_INT_TO_DOUBLE.S b/vm/mterp/arm-vfp/OP_INT_TO_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_INT_TO_FLOAT.S b/vm/mterp/arm-vfp/OP_INT_TO_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_MUL_DOUBLE.S b/vm/mterp/arm-vfp/OP_MUL_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_MUL_DOUBLE_2ADDR.S b/vm/mterp/arm-vfp/OP_MUL_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_MUL_FLOAT.S b/vm/mterp/arm-vfp/OP_MUL_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_MUL_FLOAT_2ADDR.S b/vm/mterp/arm-vfp/OP_MUL_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_SUB_DOUBLE.S b/vm/mterp/arm-vfp/OP_SUB_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_SUB_DOUBLE_2ADDR.S b/vm/mterp/arm-vfp/OP_SUB_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_SUB_FLOAT.S b/vm/mterp/arm-vfp/OP_SUB_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/OP_SUB_FLOAT_2ADDR.S b/vm/mterp/arm-vfp/OP_SUB_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/README.txt b/vm/mterp/arm-vfp/README.txt
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/fbinop.S b/vm/mterp/arm-vfp/fbinop.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/fbinop2addr.S b/vm/mterp/arm-vfp/fbinop2addr.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/fbinopWide.S b/vm/mterp/arm-vfp/fbinopWide.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/fbinopWide2addr.S b/vm/mterp/arm-vfp/fbinopWide2addr.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/funop.S b/vm/mterp/arm-vfp/funop.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/funopNarrower.S b/vm/mterp/arm-vfp/funopNarrower.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/arm-vfp/funopWider.S b/vm/mterp/arm-vfp/funopWider.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_ADD_DOUBLE.S b/vm/mterp/armv5te/OP_ADD_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_ADD_DOUBLE_2ADDR.S b/vm/mterp/armv5te/OP_ADD_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_ADD_FLOAT.S b/vm/mterp/armv5te/OP_ADD_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_ADD_FLOAT_2ADDR.S b/vm/mterp/armv5te/OP_ADD_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_ADD_INT.S b/vm/mterp/armv5te/OP_ADD_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_ADD_INT_2ADDR.S b/vm/mterp/armv5te/OP_ADD_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_ADD_INT_LIT16.S b/vm/mterp/armv5te/OP_ADD_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_ADD_INT_LIT8.S b/vm/mterp/armv5te/OP_ADD_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_ADD_LONG.S b/vm/mterp/armv5te/OP_ADD_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_ADD_LONG_2ADDR.S b/vm/mterp/armv5te/OP_ADD_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_AGET.S b/vm/mterp/armv5te/OP_AGET.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_AGET_BOOLEAN.S b/vm/mterp/armv5te/OP_AGET_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_AGET_BYTE.S b/vm/mterp/armv5te/OP_AGET_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_AGET_CHAR.S b/vm/mterp/armv5te/OP_AGET_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_AGET_OBJECT.S b/vm/mterp/armv5te/OP_AGET_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_AGET_SHORT.S b/vm/mterp/armv5te/OP_AGET_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_AGET_WIDE.S b/vm/mterp/armv5te/OP_AGET_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_AND_INT.S b/vm/mterp/armv5te/OP_AND_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_AND_INT_2ADDR.S b/vm/mterp/armv5te/OP_AND_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_AND_INT_LIT16.S b/vm/mterp/armv5te/OP_AND_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_AND_INT_LIT8.S b/vm/mterp/armv5te/OP_AND_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_AND_LONG.S b/vm/mterp/armv5te/OP_AND_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_AND_LONG_2ADDR.S b/vm/mterp/armv5te/OP_AND_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_APUT.S b/vm/mterp/armv5te/OP_APUT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_APUT_BOOLEAN.S b/vm/mterp/armv5te/OP_APUT_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_APUT_BYTE.S b/vm/mterp/armv5te/OP_APUT_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_APUT_CHAR.S b/vm/mterp/armv5te/OP_APUT_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_APUT_OBJECT.S b/vm/mterp/armv5te/OP_APUT_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_APUT_SHORT.S b/vm/mterp/armv5te/OP_APUT_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_APUT_WIDE.S b/vm/mterp/armv5te/OP_APUT_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_ARRAY_LENGTH.S b/vm/mterp/armv5te/OP_ARRAY_LENGTH.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_BREAKPOINT.S b/vm/mterp/armv5te/OP_BREAKPOINT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CHECK_CAST.S b/vm/mterp/armv5te/OP_CHECK_CAST.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CMPG_DOUBLE.S b/vm/mterp/armv5te/OP_CMPG_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CMPG_FLOAT.S b/vm/mterp/armv5te/OP_CMPG_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CMPL_DOUBLE.S b/vm/mterp/armv5te/OP_CMPL_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CMPL_FLOAT.S b/vm/mterp/armv5te/OP_CMPL_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CMP_LONG.S b/vm/mterp/armv5te/OP_CMP_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CONST.S b/vm/mterp/armv5te/OP_CONST.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CONST_16.S b/vm/mterp/armv5te/OP_CONST_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CONST_4.S b/vm/mterp/armv5te/OP_CONST_4.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CONST_CLASS.S b/vm/mterp/armv5te/OP_CONST_CLASS.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CONST_HIGH16.S b/vm/mterp/armv5te/OP_CONST_HIGH16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CONST_STRING.S b/vm/mterp/armv5te/OP_CONST_STRING.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CONST_STRING_JUMBO.S b/vm/mterp/armv5te/OP_CONST_STRING_JUMBO.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CONST_WIDE.S b/vm/mterp/armv5te/OP_CONST_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CONST_WIDE_16.S b/vm/mterp/armv5te/OP_CONST_WIDE_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CONST_WIDE_32.S b/vm/mterp/armv5te/OP_CONST_WIDE_32.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_CONST_WIDE_HIGH16.S b/vm/mterp/armv5te/OP_CONST_WIDE_HIGH16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_DIV_DOUBLE.S b/vm/mterp/armv5te/OP_DIV_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_DIV_DOUBLE_2ADDR.S b/vm/mterp/armv5te/OP_DIV_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_DIV_FLOAT.S b/vm/mterp/armv5te/OP_DIV_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_DIV_FLOAT_2ADDR.S b/vm/mterp/armv5te/OP_DIV_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_DIV_INT.S b/vm/mterp/armv5te/OP_DIV_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_DIV_INT_2ADDR.S b/vm/mterp/armv5te/OP_DIV_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_DIV_INT_LIT16.S b/vm/mterp/armv5te/OP_DIV_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_DIV_INT_LIT8.S b/vm/mterp/armv5te/OP_DIV_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_DIV_LONG.S b/vm/mterp/armv5te/OP_DIV_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_DIV_LONG_2ADDR.S b/vm/mterp/armv5te/OP_DIV_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_DOUBLE_TO_FLOAT.S b/vm/mterp/armv5te/OP_DOUBLE_TO_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_DOUBLE_TO_INT.S b/vm/mterp/armv5te/OP_DOUBLE_TO_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_DOUBLE_TO_LONG.S b/vm/mterp/armv5te/OP_DOUBLE_TO_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_EXECUTE_INLINE.S b/vm/mterp/armv5te/OP_EXECUTE_INLINE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_EXECUTE_INLINE_RANGE.S b/vm/mterp/armv5te/OP_EXECUTE_INLINE_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_FILLED_NEW_ARRAY.S b/vm/mterp/armv5te/OP_FILLED_NEW_ARRAY.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_FILLED_NEW_ARRAY_RANGE.S b/vm/mterp/armv5te/OP_FILLED_NEW_ARRAY_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_FILL_ARRAY_DATA.S b/vm/mterp/armv5te/OP_FILL_ARRAY_DATA.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_FLOAT_TO_DOUBLE.S b/vm/mterp/armv5te/OP_FLOAT_TO_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_FLOAT_TO_INT.S b/vm/mterp/armv5te/OP_FLOAT_TO_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_FLOAT_TO_LONG.S b/vm/mterp/armv5te/OP_FLOAT_TO_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_GOTO.S b/vm/mterp/armv5te/OP_GOTO.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_GOTO_16.S b/vm/mterp/armv5te/OP_GOTO_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_GOTO_32.S b/vm/mterp/armv5te/OP_GOTO_32.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IF_EQ.S b/vm/mterp/armv5te/OP_IF_EQ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IF_EQZ.S b/vm/mterp/armv5te/OP_IF_EQZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IF_GE.S b/vm/mterp/armv5te/OP_IF_GE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IF_GEZ.S b/vm/mterp/armv5te/OP_IF_GEZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IF_GT.S b/vm/mterp/armv5te/OP_IF_GT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IF_GTZ.S b/vm/mterp/armv5te/OP_IF_GTZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IF_LE.S b/vm/mterp/armv5te/OP_IF_LE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IF_LEZ.S b/vm/mterp/armv5te/OP_IF_LEZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IF_LT.S b/vm/mterp/armv5te/OP_IF_LT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IF_LTZ.S b/vm/mterp/armv5te/OP_IF_LTZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IF_NE.S b/vm/mterp/armv5te/OP_IF_NE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IF_NEZ.S b/vm/mterp/armv5te/OP_IF_NEZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IGET.S b/vm/mterp/armv5te/OP_IGET.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IGET_BOOLEAN.S b/vm/mterp/armv5te/OP_IGET_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IGET_BYTE.S b/vm/mterp/armv5te/OP_IGET_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IGET_CHAR.S b/vm/mterp/armv5te/OP_IGET_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IGET_OBJECT.S b/vm/mterp/armv5te/OP_IGET_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IGET_OBJECT_QUICK.S b/vm/mterp/armv5te/OP_IGET_OBJECT_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IGET_OBJECT_VOLATILE.S b/vm/mterp/armv5te/OP_IGET_OBJECT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IGET_QUICK.S b/vm/mterp/armv5te/OP_IGET_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IGET_SHORT.S b/vm/mterp/armv5te/OP_IGET_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IGET_VOLATILE.S b/vm/mterp/armv5te/OP_IGET_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IGET_WIDE.S b/vm/mterp/armv5te/OP_IGET_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IGET_WIDE_QUICK.S b/vm/mterp/armv5te/OP_IGET_WIDE_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IGET_WIDE_VOLATILE.S b/vm/mterp/armv5te/OP_IGET_WIDE_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INSTANCE_OF.S b/vm/mterp/armv5te/OP_INSTANCE_OF.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INT_TO_BYTE.S b/vm/mterp/armv5te/OP_INT_TO_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INT_TO_CHAR.S b/vm/mterp/armv5te/OP_INT_TO_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INT_TO_DOUBLE.S b/vm/mterp/armv5te/OP_INT_TO_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INT_TO_FLOAT.S b/vm/mterp/armv5te/OP_INT_TO_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INT_TO_LONG.S b/vm/mterp/armv5te/OP_INT_TO_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INT_TO_SHORT.S b/vm/mterp/armv5te/OP_INT_TO_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INVOKE_DIRECT.S b/vm/mterp/armv5te/OP_INVOKE_DIRECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INVOKE_DIRECT_RANGE.S b/vm/mterp/armv5te/OP_INVOKE_DIRECT_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INVOKE_INTERFACE.S b/vm/mterp/armv5te/OP_INVOKE_INTERFACE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INVOKE_INTERFACE_RANGE.S b/vm/mterp/armv5te/OP_INVOKE_INTERFACE_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INVOKE_OBJECT_INIT_RANGE.S b/vm/mterp/armv5te/OP_INVOKE_OBJECT_INIT_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INVOKE_STATIC.S b/vm/mterp/armv5te/OP_INVOKE_STATIC.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INVOKE_STATIC_RANGE.S b/vm/mterp/armv5te/OP_INVOKE_STATIC_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INVOKE_SUPER.S b/vm/mterp/armv5te/OP_INVOKE_SUPER.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INVOKE_SUPER_QUICK.S b/vm/mterp/armv5te/OP_INVOKE_SUPER_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INVOKE_SUPER_QUICK_RANGE.S b/vm/mterp/armv5te/OP_INVOKE_SUPER_QUICK_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INVOKE_SUPER_RANGE.S b/vm/mterp/armv5te/OP_INVOKE_SUPER_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INVOKE_VIRTUAL.S b/vm/mterp/armv5te/OP_INVOKE_VIRTUAL.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INVOKE_VIRTUAL_QUICK.S b/vm/mterp/armv5te/OP_INVOKE_VIRTUAL_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INVOKE_VIRTUAL_QUICK_RANGE.S b/vm/mterp/armv5te/OP_INVOKE_VIRTUAL_QUICK_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_INVOKE_VIRTUAL_RANGE.S b/vm/mterp/armv5te/OP_INVOKE_VIRTUAL_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IPUT.S b/vm/mterp/armv5te/OP_IPUT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IPUT_BOOLEAN.S b/vm/mterp/armv5te/OP_IPUT_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IPUT_BYTE.S b/vm/mterp/armv5te/OP_IPUT_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IPUT_CHAR.S b/vm/mterp/armv5te/OP_IPUT_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IPUT_OBJECT.S b/vm/mterp/armv5te/OP_IPUT_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IPUT_OBJECT_QUICK.S b/vm/mterp/armv5te/OP_IPUT_OBJECT_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IPUT_OBJECT_VOLATILE.S b/vm/mterp/armv5te/OP_IPUT_OBJECT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IPUT_QUICK.S b/vm/mterp/armv5te/OP_IPUT_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IPUT_SHORT.S b/vm/mterp/armv5te/OP_IPUT_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IPUT_VOLATILE.S b/vm/mterp/armv5te/OP_IPUT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IPUT_WIDE.S b/vm/mterp/armv5te/OP_IPUT_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IPUT_WIDE_QUICK.S b/vm/mterp/armv5te/OP_IPUT_WIDE_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_IPUT_WIDE_VOLATILE.S b/vm/mterp/armv5te/OP_IPUT_WIDE_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_LONG_TO_DOUBLE.S b/vm/mterp/armv5te/OP_LONG_TO_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_LONG_TO_FLOAT.S b/vm/mterp/armv5te/OP_LONG_TO_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_LONG_TO_INT.S b/vm/mterp/armv5te/OP_LONG_TO_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MONITOR_ENTER.S b/vm/mterp/armv5te/OP_MONITOR_ENTER.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MONITOR_EXIT.S b/vm/mterp/armv5te/OP_MONITOR_EXIT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MOVE.S b/vm/mterp/armv5te/OP_MOVE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MOVE_16.S b/vm/mterp/armv5te/OP_MOVE_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MOVE_EXCEPTION.S b/vm/mterp/armv5te/OP_MOVE_EXCEPTION.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MOVE_FROM16.S b/vm/mterp/armv5te/OP_MOVE_FROM16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MOVE_OBJECT.S b/vm/mterp/armv5te/OP_MOVE_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MOVE_OBJECT_16.S b/vm/mterp/armv5te/OP_MOVE_OBJECT_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MOVE_OBJECT_FROM16.S b/vm/mterp/armv5te/OP_MOVE_OBJECT_FROM16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MOVE_RESULT.S b/vm/mterp/armv5te/OP_MOVE_RESULT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MOVE_RESULT_OBJECT.S b/vm/mterp/armv5te/OP_MOVE_RESULT_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MOVE_RESULT_WIDE.S b/vm/mterp/armv5te/OP_MOVE_RESULT_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MOVE_WIDE.S b/vm/mterp/armv5te/OP_MOVE_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MOVE_WIDE_16.S b/vm/mterp/armv5te/OP_MOVE_WIDE_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MOVE_WIDE_FROM16.S b/vm/mterp/armv5te/OP_MOVE_WIDE_FROM16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MUL_DOUBLE.S b/vm/mterp/armv5te/OP_MUL_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MUL_DOUBLE_2ADDR.S b/vm/mterp/armv5te/OP_MUL_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MUL_FLOAT.S b/vm/mterp/armv5te/OP_MUL_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MUL_FLOAT_2ADDR.S b/vm/mterp/armv5te/OP_MUL_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MUL_INT.S b/vm/mterp/armv5te/OP_MUL_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MUL_INT_2ADDR.S b/vm/mterp/armv5te/OP_MUL_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MUL_INT_LIT16.S b/vm/mterp/armv5te/OP_MUL_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MUL_INT_LIT8.S b/vm/mterp/armv5te/OP_MUL_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MUL_LONG.S b/vm/mterp/armv5te/OP_MUL_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_MUL_LONG_2ADDR.S b/vm/mterp/armv5te/OP_MUL_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_NEG_DOUBLE.S b/vm/mterp/armv5te/OP_NEG_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_NEG_FLOAT.S b/vm/mterp/armv5te/OP_NEG_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_NEG_INT.S b/vm/mterp/armv5te/OP_NEG_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_NEG_LONG.S b/vm/mterp/armv5te/OP_NEG_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_NEW_ARRAY.S b/vm/mterp/armv5te/OP_NEW_ARRAY.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_NEW_INSTANCE.S b/vm/mterp/armv5te/OP_NEW_INSTANCE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_NOP.S b/vm/mterp/armv5te/OP_NOP.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_NOT_INT.S b/vm/mterp/armv5te/OP_NOT_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_NOT_LONG.S b/vm/mterp/armv5te/OP_NOT_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_OR_INT.S b/vm/mterp/armv5te/OP_OR_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_OR_INT_2ADDR.S b/vm/mterp/armv5te/OP_OR_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_OR_INT_LIT16.S b/vm/mterp/armv5te/OP_OR_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_OR_INT_LIT8.S b/vm/mterp/armv5te/OP_OR_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_OR_LONG.S b/vm/mterp/armv5te/OP_OR_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_OR_LONG_2ADDR.S b/vm/mterp/armv5te/OP_OR_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_PACKED_SWITCH.S b/vm/mterp/armv5te/OP_PACKED_SWITCH.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_REM_DOUBLE.S b/vm/mterp/armv5te/OP_REM_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_REM_DOUBLE_2ADDR.S b/vm/mterp/armv5te/OP_REM_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_REM_FLOAT.S b/vm/mterp/armv5te/OP_REM_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_REM_FLOAT_2ADDR.S b/vm/mterp/armv5te/OP_REM_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_REM_INT.S b/vm/mterp/armv5te/OP_REM_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_REM_INT_2ADDR.S b/vm/mterp/armv5te/OP_REM_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_REM_INT_LIT16.S b/vm/mterp/armv5te/OP_REM_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_REM_INT_LIT8.S b/vm/mterp/armv5te/OP_REM_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_REM_LONG.S b/vm/mterp/armv5te/OP_REM_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_REM_LONG_2ADDR.S b/vm/mterp/armv5te/OP_REM_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_RETURN.S b/vm/mterp/armv5te/OP_RETURN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_RETURN_OBJECT.S b/vm/mterp/armv5te/OP_RETURN_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_RETURN_VOID.S b/vm/mterp/armv5te/OP_RETURN_VOID.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_RETURN_VOID_BARRIER.S b/vm/mterp/armv5te/OP_RETURN_VOID_BARRIER.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_RETURN_WIDE.S b/vm/mterp/armv5te/OP_RETURN_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_RSUB_INT.S b/vm/mterp/armv5te/OP_RSUB_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_RSUB_INT_LIT8.S b/vm/mterp/armv5te/OP_RSUB_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SGET.S b/vm/mterp/armv5te/OP_SGET.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SGET_BOOLEAN.S b/vm/mterp/armv5te/OP_SGET_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SGET_BYTE.S b/vm/mterp/armv5te/OP_SGET_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SGET_CHAR.S b/vm/mterp/armv5te/OP_SGET_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SGET_OBJECT.S b/vm/mterp/armv5te/OP_SGET_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SGET_OBJECT_VOLATILE.S b/vm/mterp/armv5te/OP_SGET_OBJECT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SGET_SHORT.S b/vm/mterp/armv5te/OP_SGET_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SGET_VOLATILE.S b/vm/mterp/armv5te/OP_SGET_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SGET_WIDE.S b/vm/mterp/armv5te/OP_SGET_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SGET_WIDE_VOLATILE.S b/vm/mterp/armv5te/OP_SGET_WIDE_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SHL_INT.S b/vm/mterp/armv5te/OP_SHL_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SHL_INT_2ADDR.S b/vm/mterp/armv5te/OP_SHL_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SHL_INT_LIT8.S b/vm/mterp/armv5te/OP_SHL_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SHL_LONG.S b/vm/mterp/armv5te/OP_SHL_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SHL_LONG_2ADDR.S b/vm/mterp/armv5te/OP_SHL_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SHR_INT.S b/vm/mterp/armv5te/OP_SHR_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SHR_INT_2ADDR.S b/vm/mterp/armv5te/OP_SHR_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SHR_INT_LIT8.S b/vm/mterp/armv5te/OP_SHR_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SHR_LONG.S b/vm/mterp/armv5te/OP_SHR_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SHR_LONG_2ADDR.S b/vm/mterp/armv5te/OP_SHR_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SPARSE_SWITCH.S b/vm/mterp/armv5te/OP_SPARSE_SWITCH.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SPUT.S b/vm/mterp/armv5te/OP_SPUT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SPUT_BOOLEAN.S b/vm/mterp/armv5te/OP_SPUT_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SPUT_BYTE.S b/vm/mterp/armv5te/OP_SPUT_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SPUT_CHAR.S b/vm/mterp/armv5te/OP_SPUT_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SPUT_OBJECT.S b/vm/mterp/armv5te/OP_SPUT_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SPUT_OBJECT_VOLATILE.S b/vm/mterp/armv5te/OP_SPUT_OBJECT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SPUT_SHORT.S b/vm/mterp/armv5te/OP_SPUT_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SPUT_VOLATILE.S b/vm/mterp/armv5te/OP_SPUT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SPUT_WIDE.S b/vm/mterp/armv5te/OP_SPUT_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SPUT_WIDE_VOLATILE.S b/vm/mterp/armv5te/OP_SPUT_WIDE_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SUB_DOUBLE.S b/vm/mterp/armv5te/OP_SUB_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SUB_DOUBLE_2ADDR.S b/vm/mterp/armv5te/OP_SUB_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SUB_FLOAT.S b/vm/mterp/armv5te/OP_SUB_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SUB_FLOAT_2ADDR.S b/vm/mterp/armv5te/OP_SUB_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SUB_INT.S b/vm/mterp/armv5te/OP_SUB_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SUB_INT_2ADDR.S b/vm/mterp/armv5te/OP_SUB_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SUB_LONG.S b/vm/mterp/armv5te/OP_SUB_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_SUB_LONG_2ADDR.S b/vm/mterp/armv5te/OP_SUB_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_THROW.S b/vm/mterp/armv5te/OP_THROW.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_THROW_VERIFICATION_ERROR.S b/vm/mterp/armv5te/OP_THROW_VERIFICATION_ERROR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_UNUSED_3E.S b/vm/mterp/armv5te/OP_UNUSED_3E.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_UNUSED_3F.S b/vm/mterp/armv5te/OP_UNUSED_3F.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_UNUSED_40.S b/vm/mterp/armv5te/OP_UNUSED_40.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_UNUSED_41.S b/vm/mterp/armv5te/OP_UNUSED_41.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_UNUSED_42.S b/vm/mterp/armv5te/OP_UNUSED_42.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_UNUSED_43.S b/vm/mterp/armv5te/OP_UNUSED_43.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_UNUSED_73.S b/vm/mterp/armv5te/OP_UNUSED_73.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_UNUSED_79.S b/vm/mterp/armv5te/OP_UNUSED_79.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_UNUSED_7A.S b/vm/mterp/armv5te/OP_UNUSED_7A.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_UNUSED_FF.S b/vm/mterp/armv5te/OP_UNUSED_FF.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_USHR_INT.S b/vm/mterp/armv5te/OP_USHR_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_USHR_INT_2ADDR.S b/vm/mterp/armv5te/OP_USHR_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_USHR_INT_LIT8.S b/vm/mterp/armv5te/OP_USHR_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_USHR_LONG.S b/vm/mterp/armv5te/OP_USHR_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_USHR_LONG_2ADDR.S b/vm/mterp/armv5te/OP_USHR_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_XOR_INT.S b/vm/mterp/armv5te/OP_XOR_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_XOR_INT_2ADDR.S b/vm/mterp/armv5te/OP_XOR_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_XOR_INT_LIT16.S b/vm/mterp/armv5te/OP_XOR_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_XOR_INT_LIT8.S b/vm/mterp/armv5te/OP_XOR_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_XOR_LONG.S b/vm/mterp/armv5te/OP_XOR_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/OP_XOR_LONG_2ADDR.S b/vm/mterp/armv5te/OP_XOR_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/alt_stub.S b/vm/mterp/armv5te/alt_stub.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/bincmp.S b/vm/mterp/armv5te/bincmp.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/binop.S b/vm/mterp/armv5te/binop.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/binop2addr.S b/vm/mterp/armv5te/binop2addr.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/binopLit16.S b/vm/mterp/armv5te/binopLit16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/binopLit8.S b/vm/mterp/armv5te/binopLit8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/binopWide.S b/vm/mterp/armv5te/binopWide.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/binopWide2addr.S b/vm/mterp/armv5te/binopWide2addr.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/debug.cpp b/vm/mterp/armv5te/debug.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/entry.S b/vm/mterp/armv5te/entry.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/footer.S b/vm/mterp/armv5te/footer.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/header.S b/vm/mterp/armv5te/header.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/platform.S b/vm/mterp/armv5te/platform.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/stub.S b/vm/mterp/armv5te/stub.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/unop.S b/vm/mterp/armv5te/unop.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/unopNarrower.S b/vm/mterp/armv5te/unopNarrower.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/unopWide.S b/vm/mterp/armv5te/unopWide.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/unopWider.S b/vm/mterp/armv5te/unopWider.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/unused.S b/vm/mterp/armv5te/unused.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv5te/zcmp.S b/vm/mterp/armv5te/zcmp.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6/OP_INT_TO_BYTE.S b/vm/mterp/armv6/OP_INT_TO_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6/OP_INT_TO_CHAR.S b/vm/mterp/armv6/OP_INT_TO_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6/OP_INT_TO_SHORT.S b/vm/mterp/armv6/OP_INT_TO_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_ADD_DOUBLE_2ADDR.S b/vm/mterp/armv6t2/OP_ADD_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_ADD_FLOAT_2ADDR.S b/vm/mterp/armv6t2/OP_ADD_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_ADD_INT_2ADDR.S b/vm/mterp/armv6t2/OP_ADD_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_ADD_INT_LIT16.S b/vm/mterp/armv6t2/OP_ADD_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_ADD_LONG_2ADDR.S b/vm/mterp/armv6t2/OP_ADD_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_AND_INT_2ADDR.S b/vm/mterp/armv6t2/OP_AND_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_AND_INT_LIT16.S b/vm/mterp/armv6t2/OP_AND_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_AND_LONG_2ADDR.S b/vm/mterp/armv6t2/OP_AND_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_ARRAY_LENGTH.S b/vm/mterp/armv6t2/OP_ARRAY_LENGTH.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_CONST_4.S b/vm/mterp/armv6t2/OP_CONST_4.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_DIV_DOUBLE_2ADDR.S b/vm/mterp/armv6t2/OP_DIV_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_DIV_FLOAT_2ADDR.S b/vm/mterp/armv6t2/OP_DIV_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_DIV_INT_2ADDR.S b/vm/mterp/armv6t2/OP_DIV_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_DIV_INT_LIT16.S b/vm/mterp/armv6t2/OP_DIV_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_DIV_LONG_2ADDR.S b/vm/mterp/armv6t2/OP_DIV_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_DOUBLE_TO_FLOAT.S b/vm/mterp/armv6t2/OP_DOUBLE_TO_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_DOUBLE_TO_INT.S b/vm/mterp/armv6t2/OP_DOUBLE_TO_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_DOUBLE_TO_LONG.S b/vm/mterp/armv6t2/OP_DOUBLE_TO_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_FLOAT_TO_DOUBLE.S b/vm/mterp/armv6t2/OP_FLOAT_TO_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_FLOAT_TO_INT.S b/vm/mterp/armv6t2/OP_FLOAT_TO_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_FLOAT_TO_LONG.S b/vm/mterp/armv6t2/OP_FLOAT_TO_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_IF_EQ.S b/vm/mterp/armv6t2/OP_IF_EQ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_IF_GE.S b/vm/mterp/armv6t2/OP_IF_GE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_IF_GT.S b/vm/mterp/armv6t2/OP_IF_GT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_IF_LE.S b/vm/mterp/armv6t2/OP_IF_LE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_IF_LT.S b/vm/mterp/armv6t2/OP_IF_LT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_IF_NE.S b/vm/mterp/armv6t2/OP_IF_NE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_IGET.S b/vm/mterp/armv6t2/OP_IGET.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_IGET_QUICK.S b/vm/mterp/armv6t2/OP_IGET_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_IGET_WIDE.S b/vm/mterp/armv6t2/OP_IGET_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_IGET_WIDE_QUICK.S b/vm/mterp/armv6t2/OP_IGET_WIDE_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_INT_TO_BYTE.S b/vm/mterp/armv6t2/OP_INT_TO_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_INT_TO_CHAR.S b/vm/mterp/armv6t2/OP_INT_TO_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_INT_TO_DOUBLE.S b/vm/mterp/armv6t2/OP_INT_TO_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_INT_TO_FLOAT.S b/vm/mterp/armv6t2/OP_INT_TO_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_INT_TO_LONG.S b/vm/mterp/armv6t2/OP_INT_TO_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_INT_TO_SHORT.S b/vm/mterp/armv6t2/OP_INT_TO_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_IPUT.S b/vm/mterp/armv6t2/OP_IPUT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_IPUT_QUICK.S b/vm/mterp/armv6t2/OP_IPUT_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_IPUT_WIDE.S b/vm/mterp/armv6t2/OP_IPUT_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_IPUT_WIDE_QUICK.S b/vm/mterp/armv6t2/OP_IPUT_WIDE_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_LONG_TO_DOUBLE.S b/vm/mterp/armv6t2/OP_LONG_TO_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_LONG_TO_FLOAT.S b/vm/mterp/armv6t2/OP_LONG_TO_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_MOVE.S b/vm/mterp/armv6t2/OP_MOVE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_MOVE_WIDE.S b/vm/mterp/armv6t2/OP_MOVE_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_MUL_DOUBLE_2ADDR.S b/vm/mterp/armv6t2/OP_MUL_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_MUL_FLOAT_2ADDR.S b/vm/mterp/armv6t2/OP_MUL_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_MUL_INT_2ADDR.S b/vm/mterp/armv6t2/OP_MUL_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_MUL_INT_LIT16.S b/vm/mterp/armv6t2/OP_MUL_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_MUL_LONG_2ADDR.S b/vm/mterp/armv6t2/OP_MUL_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_NEG_DOUBLE.S b/vm/mterp/armv6t2/OP_NEG_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_NEG_FLOAT.S b/vm/mterp/armv6t2/OP_NEG_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_NEG_INT.S b/vm/mterp/armv6t2/OP_NEG_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_NEG_LONG.S b/vm/mterp/armv6t2/OP_NEG_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_NOT_INT.S b/vm/mterp/armv6t2/OP_NOT_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_NOT_LONG.S b/vm/mterp/armv6t2/OP_NOT_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_OR_INT_2ADDR.S b/vm/mterp/armv6t2/OP_OR_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_OR_INT_LIT16.S b/vm/mterp/armv6t2/OP_OR_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_OR_LONG_2ADDR.S b/vm/mterp/armv6t2/OP_OR_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_REM_DOUBLE_2ADDR.S b/vm/mterp/armv6t2/OP_REM_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_REM_FLOAT_2ADDR.S b/vm/mterp/armv6t2/OP_REM_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_REM_INT_2ADDR.S b/vm/mterp/armv6t2/OP_REM_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_REM_INT_LIT16.S b/vm/mterp/armv6t2/OP_REM_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_REM_LONG_2ADDR.S b/vm/mterp/armv6t2/OP_REM_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_RSUB_INT.S b/vm/mterp/armv6t2/OP_RSUB_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_SHL_INT_2ADDR.S b/vm/mterp/armv6t2/OP_SHL_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_SHL_LONG_2ADDR.S b/vm/mterp/armv6t2/OP_SHL_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_SHR_INT_2ADDR.S b/vm/mterp/armv6t2/OP_SHR_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_SHR_LONG_2ADDR.S b/vm/mterp/armv6t2/OP_SHR_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_SUB_DOUBLE_2ADDR.S b/vm/mterp/armv6t2/OP_SUB_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_SUB_FLOAT_2ADDR.S b/vm/mterp/armv6t2/OP_SUB_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_SUB_INT_2ADDR.S b/vm/mterp/armv6t2/OP_SUB_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_SUB_LONG_2ADDR.S b/vm/mterp/armv6t2/OP_SUB_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_USHR_INT_2ADDR.S b/vm/mterp/armv6t2/OP_USHR_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_USHR_LONG_2ADDR.S b/vm/mterp/armv6t2/OP_USHR_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_XOR_INT_2ADDR.S b/vm/mterp/armv6t2/OP_XOR_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_XOR_INT_LIT16.S b/vm/mterp/armv6t2/OP_XOR_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/OP_XOR_LONG_2ADDR.S b/vm/mterp/armv6t2/OP_XOR_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/bincmp.S b/vm/mterp/armv6t2/bincmp.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/binop2addr.S b/vm/mterp/armv6t2/binop2addr.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/binopLit16.S b/vm/mterp/armv6t2/binopLit16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/binopWide2addr.S b/vm/mterp/armv6t2/binopWide2addr.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/unop.S b/vm/mterp/armv6t2/unop.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/unopNarrower.S b/vm/mterp/armv6t2/unopNarrower.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/unopWide.S b/vm/mterp/armv6t2/unopWide.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv6t2/unopWider.S b/vm/mterp/armv6t2/unopWider.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/armv7-a/platform.S b/vm/mterp/armv7-a/platform.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_ADD_DOUBLE.cpp b/vm/mterp/c/OP_ADD_DOUBLE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_ADD_DOUBLE_2ADDR.cpp b/vm/mterp/c/OP_ADD_DOUBLE_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_ADD_FLOAT.cpp b/vm/mterp/c/OP_ADD_FLOAT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_ADD_FLOAT_2ADDR.cpp b/vm/mterp/c/OP_ADD_FLOAT_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_ADD_INT.cpp b/vm/mterp/c/OP_ADD_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_ADD_INT_2ADDR.cpp b/vm/mterp/c/OP_ADD_INT_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_ADD_INT_LIT16.cpp b/vm/mterp/c/OP_ADD_INT_LIT16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_ADD_INT_LIT8.cpp b/vm/mterp/c/OP_ADD_INT_LIT8.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_ADD_LONG.cpp b/vm/mterp/c/OP_ADD_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_ADD_LONG_2ADDR.cpp b/vm/mterp/c/OP_ADD_LONG_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_AGET.cpp b/vm/mterp/c/OP_AGET.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_AGET_BOOLEAN.cpp b/vm/mterp/c/OP_AGET_BOOLEAN.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_AGET_BYTE.cpp b/vm/mterp/c/OP_AGET_BYTE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_AGET_CHAR.cpp b/vm/mterp/c/OP_AGET_CHAR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_AGET_OBJECT.cpp b/vm/mterp/c/OP_AGET_OBJECT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_AGET_SHORT.cpp b/vm/mterp/c/OP_AGET_SHORT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_AGET_WIDE.cpp b/vm/mterp/c/OP_AGET_WIDE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_AND_INT.cpp b/vm/mterp/c/OP_AND_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_AND_INT_2ADDR.cpp b/vm/mterp/c/OP_AND_INT_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_AND_INT_LIT16.cpp b/vm/mterp/c/OP_AND_INT_LIT16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_AND_INT_LIT8.cpp b/vm/mterp/c/OP_AND_INT_LIT8.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_AND_LONG.cpp b/vm/mterp/c/OP_AND_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_AND_LONG_2ADDR.cpp b/vm/mterp/c/OP_AND_LONG_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_APUT.cpp b/vm/mterp/c/OP_APUT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_APUT_BOOLEAN.cpp b/vm/mterp/c/OP_APUT_BOOLEAN.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_APUT_BYTE.cpp b/vm/mterp/c/OP_APUT_BYTE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_APUT_CHAR.cpp b/vm/mterp/c/OP_APUT_CHAR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_APUT_OBJECT.cpp b/vm/mterp/c/OP_APUT_OBJECT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_APUT_SHORT.cpp b/vm/mterp/c/OP_APUT_SHORT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_APUT_WIDE.cpp b/vm/mterp/c/OP_APUT_WIDE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_ARRAY_LENGTH.cpp b/vm/mterp/c/OP_ARRAY_LENGTH.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_BREAKPOINT.cpp b/vm/mterp/c/OP_BREAKPOINT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CHECK_CAST.cpp b/vm/mterp/c/OP_CHECK_CAST.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CMPG_DOUBLE.cpp b/vm/mterp/c/OP_CMPG_DOUBLE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CMPG_FLOAT.cpp b/vm/mterp/c/OP_CMPG_FLOAT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CMPL_DOUBLE.cpp b/vm/mterp/c/OP_CMPL_DOUBLE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CMPL_FLOAT.cpp b/vm/mterp/c/OP_CMPL_FLOAT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CMP_LONG.cpp b/vm/mterp/c/OP_CMP_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CONST.cpp b/vm/mterp/c/OP_CONST.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CONST_16.cpp b/vm/mterp/c/OP_CONST_16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CONST_4.cpp b/vm/mterp/c/OP_CONST_4.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CONST_CLASS.cpp b/vm/mterp/c/OP_CONST_CLASS.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CONST_HIGH16.cpp b/vm/mterp/c/OP_CONST_HIGH16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CONST_STRING.cpp b/vm/mterp/c/OP_CONST_STRING.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CONST_STRING_JUMBO.cpp b/vm/mterp/c/OP_CONST_STRING_JUMBO.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CONST_WIDE.cpp b/vm/mterp/c/OP_CONST_WIDE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CONST_WIDE_16.cpp b/vm/mterp/c/OP_CONST_WIDE_16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CONST_WIDE_32.cpp b/vm/mterp/c/OP_CONST_WIDE_32.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_CONST_WIDE_HIGH16.cpp b/vm/mterp/c/OP_CONST_WIDE_HIGH16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_DIV_DOUBLE.cpp b/vm/mterp/c/OP_DIV_DOUBLE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_DIV_DOUBLE_2ADDR.cpp b/vm/mterp/c/OP_DIV_DOUBLE_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_DIV_FLOAT.cpp b/vm/mterp/c/OP_DIV_FLOAT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_DIV_FLOAT_2ADDR.cpp b/vm/mterp/c/OP_DIV_FLOAT_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_DIV_INT.cpp b/vm/mterp/c/OP_DIV_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_DIV_INT_2ADDR.cpp b/vm/mterp/c/OP_DIV_INT_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_DIV_INT_LIT16.cpp b/vm/mterp/c/OP_DIV_INT_LIT16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_DIV_INT_LIT8.cpp b/vm/mterp/c/OP_DIV_INT_LIT8.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_DIV_LONG.cpp b/vm/mterp/c/OP_DIV_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_DIV_LONG_2ADDR.cpp b/vm/mterp/c/OP_DIV_LONG_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_DOUBLE_TO_FLOAT.cpp b/vm/mterp/c/OP_DOUBLE_TO_FLOAT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_DOUBLE_TO_INT.cpp b/vm/mterp/c/OP_DOUBLE_TO_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_DOUBLE_TO_LONG.cpp b/vm/mterp/c/OP_DOUBLE_TO_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_EXECUTE_INLINE.cpp b/vm/mterp/c/OP_EXECUTE_INLINE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_EXECUTE_INLINE_RANGE.cpp b/vm/mterp/c/OP_EXECUTE_INLINE_RANGE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_FILLED_NEW_ARRAY.cpp b/vm/mterp/c/OP_FILLED_NEW_ARRAY.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_FILLED_NEW_ARRAY_RANGE.cpp b/vm/mterp/c/OP_FILLED_NEW_ARRAY_RANGE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_FILL_ARRAY_DATA.cpp b/vm/mterp/c/OP_FILL_ARRAY_DATA.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_FLOAT_TO_DOUBLE.cpp b/vm/mterp/c/OP_FLOAT_TO_DOUBLE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_FLOAT_TO_INT.cpp b/vm/mterp/c/OP_FLOAT_TO_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_FLOAT_TO_LONG.cpp b/vm/mterp/c/OP_FLOAT_TO_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_GOTO.cpp b/vm/mterp/c/OP_GOTO.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_GOTO_16.cpp b/vm/mterp/c/OP_GOTO_16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_GOTO_32.cpp b/vm/mterp/c/OP_GOTO_32.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IF_EQ.cpp b/vm/mterp/c/OP_IF_EQ.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IF_EQZ.cpp b/vm/mterp/c/OP_IF_EQZ.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IF_GE.cpp b/vm/mterp/c/OP_IF_GE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IF_GEZ.cpp b/vm/mterp/c/OP_IF_GEZ.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IF_GT.cpp b/vm/mterp/c/OP_IF_GT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IF_GTZ.cpp b/vm/mterp/c/OP_IF_GTZ.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IF_LE.cpp b/vm/mterp/c/OP_IF_LE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IF_LEZ.cpp b/vm/mterp/c/OP_IF_LEZ.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IF_LT.cpp b/vm/mterp/c/OP_IF_LT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IF_LTZ.cpp b/vm/mterp/c/OP_IF_LTZ.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IF_NE.cpp b/vm/mterp/c/OP_IF_NE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IF_NEZ.cpp b/vm/mterp/c/OP_IF_NEZ.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IGET.cpp b/vm/mterp/c/OP_IGET.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IGET_BOOLEAN.cpp b/vm/mterp/c/OP_IGET_BOOLEAN.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IGET_BYTE.cpp b/vm/mterp/c/OP_IGET_BYTE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IGET_CHAR.cpp b/vm/mterp/c/OP_IGET_CHAR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IGET_OBJECT.cpp b/vm/mterp/c/OP_IGET_OBJECT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IGET_OBJECT_QUICK.cpp b/vm/mterp/c/OP_IGET_OBJECT_QUICK.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IGET_OBJECT_VOLATILE.cpp b/vm/mterp/c/OP_IGET_OBJECT_VOLATILE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IGET_QUICK.cpp b/vm/mterp/c/OP_IGET_QUICK.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IGET_SHORT.cpp b/vm/mterp/c/OP_IGET_SHORT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IGET_VOLATILE.cpp b/vm/mterp/c/OP_IGET_VOLATILE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IGET_WIDE.cpp b/vm/mterp/c/OP_IGET_WIDE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IGET_WIDE_QUICK.cpp b/vm/mterp/c/OP_IGET_WIDE_QUICK.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IGET_WIDE_VOLATILE.cpp b/vm/mterp/c/OP_IGET_WIDE_VOLATILE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INSTANCE_OF.cpp b/vm/mterp/c/OP_INSTANCE_OF.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INT_TO_BYTE.cpp b/vm/mterp/c/OP_INT_TO_BYTE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INT_TO_CHAR.cpp b/vm/mterp/c/OP_INT_TO_CHAR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INT_TO_DOUBLE.cpp b/vm/mterp/c/OP_INT_TO_DOUBLE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INT_TO_FLOAT.cpp b/vm/mterp/c/OP_INT_TO_FLOAT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INT_TO_LONG.cpp b/vm/mterp/c/OP_INT_TO_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INT_TO_SHORT.cpp b/vm/mterp/c/OP_INT_TO_SHORT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INVOKE_DIRECT.cpp b/vm/mterp/c/OP_INVOKE_DIRECT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INVOKE_DIRECT_RANGE.cpp b/vm/mterp/c/OP_INVOKE_DIRECT_RANGE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INVOKE_INTERFACE.cpp b/vm/mterp/c/OP_INVOKE_INTERFACE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INVOKE_INTERFACE_RANGE.cpp b/vm/mterp/c/OP_INVOKE_INTERFACE_RANGE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INVOKE_OBJECT_INIT_RANGE.cpp b/vm/mterp/c/OP_INVOKE_OBJECT_INIT_RANGE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INVOKE_STATIC.cpp b/vm/mterp/c/OP_INVOKE_STATIC.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INVOKE_STATIC_RANGE.cpp b/vm/mterp/c/OP_INVOKE_STATIC_RANGE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INVOKE_SUPER.cpp b/vm/mterp/c/OP_INVOKE_SUPER.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INVOKE_SUPER_QUICK.cpp b/vm/mterp/c/OP_INVOKE_SUPER_QUICK.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INVOKE_SUPER_QUICK_RANGE.cpp b/vm/mterp/c/OP_INVOKE_SUPER_QUICK_RANGE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INVOKE_SUPER_RANGE.cpp b/vm/mterp/c/OP_INVOKE_SUPER_RANGE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INVOKE_VIRTUAL.cpp b/vm/mterp/c/OP_INVOKE_VIRTUAL.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INVOKE_VIRTUAL_QUICK.cpp b/vm/mterp/c/OP_INVOKE_VIRTUAL_QUICK.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INVOKE_VIRTUAL_QUICK_RANGE.cpp b/vm/mterp/c/OP_INVOKE_VIRTUAL_QUICK_RANGE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_INVOKE_VIRTUAL_RANGE.cpp b/vm/mterp/c/OP_INVOKE_VIRTUAL_RANGE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IPUT.cpp b/vm/mterp/c/OP_IPUT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IPUT_BOOLEAN.cpp b/vm/mterp/c/OP_IPUT_BOOLEAN.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IPUT_BYTE.cpp b/vm/mterp/c/OP_IPUT_BYTE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IPUT_CHAR.cpp b/vm/mterp/c/OP_IPUT_CHAR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IPUT_OBJECT.cpp b/vm/mterp/c/OP_IPUT_OBJECT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IPUT_OBJECT_QUICK.cpp b/vm/mterp/c/OP_IPUT_OBJECT_QUICK.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IPUT_OBJECT_VOLATILE.cpp b/vm/mterp/c/OP_IPUT_OBJECT_VOLATILE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IPUT_QUICK.cpp b/vm/mterp/c/OP_IPUT_QUICK.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IPUT_SHORT.cpp b/vm/mterp/c/OP_IPUT_SHORT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IPUT_VOLATILE.cpp b/vm/mterp/c/OP_IPUT_VOLATILE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IPUT_WIDE.cpp b/vm/mterp/c/OP_IPUT_WIDE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IPUT_WIDE_QUICK.cpp b/vm/mterp/c/OP_IPUT_WIDE_QUICK.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_IPUT_WIDE_VOLATILE.cpp b/vm/mterp/c/OP_IPUT_WIDE_VOLATILE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_LONG_TO_DOUBLE.cpp b/vm/mterp/c/OP_LONG_TO_DOUBLE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_LONG_TO_FLOAT.cpp b/vm/mterp/c/OP_LONG_TO_FLOAT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_LONG_TO_INT.cpp b/vm/mterp/c/OP_LONG_TO_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MONITOR_ENTER.cpp b/vm/mterp/c/OP_MONITOR_ENTER.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MONITOR_EXIT.cpp b/vm/mterp/c/OP_MONITOR_EXIT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MOVE.cpp b/vm/mterp/c/OP_MOVE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MOVE_16.cpp b/vm/mterp/c/OP_MOVE_16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MOVE_EXCEPTION.cpp b/vm/mterp/c/OP_MOVE_EXCEPTION.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MOVE_FROM16.cpp b/vm/mterp/c/OP_MOVE_FROM16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MOVE_OBJECT.cpp b/vm/mterp/c/OP_MOVE_OBJECT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MOVE_OBJECT_16.cpp b/vm/mterp/c/OP_MOVE_OBJECT_16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MOVE_OBJECT_FROM16.cpp b/vm/mterp/c/OP_MOVE_OBJECT_FROM16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MOVE_RESULT.cpp b/vm/mterp/c/OP_MOVE_RESULT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MOVE_RESULT_OBJECT.cpp b/vm/mterp/c/OP_MOVE_RESULT_OBJECT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MOVE_RESULT_WIDE.cpp b/vm/mterp/c/OP_MOVE_RESULT_WIDE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MOVE_WIDE.cpp b/vm/mterp/c/OP_MOVE_WIDE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MOVE_WIDE_16.cpp b/vm/mterp/c/OP_MOVE_WIDE_16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MOVE_WIDE_FROM16.cpp b/vm/mterp/c/OP_MOVE_WIDE_FROM16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MUL_DOUBLE.cpp b/vm/mterp/c/OP_MUL_DOUBLE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MUL_DOUBLE_2ADDR.cpp b/vm/mterp/c/OP_MUL_DOUBLE_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MUL_FLOAT.cpp b/vm/mterp/c/OP_MUL_FLOAT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MUL_FLOAT_2ADDR.cpp b/vm/mterp/c/OP_MUL_FLOAT_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MUL_INT.cpp b/vm/mterp/c/OP_MUL_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MUL_INT_2ADDR.cpp b/vm/mterp/c/OP_MUL_INT_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MUL_INT_LIT16.cpp b/vm/mterp/c/OP_MUL_INT_LIT16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MUL_INT_LIT8.cpp b/vm/mterp/c/OP_MUL_INT_LIT8.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MUL_LONG.cpp b/vm/mterp/c/OP_MUL_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_MUL_LONG_2ADDR.cpp b/vm/mterp/c/OP_MUL_LONG_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_NEG_DOUBLE.cpp b/vm/mterp/c/OP_NEG_DOUBLE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_NEG_FLOAT.cpp b/vm/mterp/c/OP_NEG_FLOAT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_NEG_INT.cpp b/vm/mterp/c/OP_NEG_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_NEG_LONG.cpp b/vm/mterp/c/OP_NEG_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_NEW_ARRAY.cpp b/vm/mterp/c/OP_NEW_ARRAY.cpp
old mode 100644
new mode 100755
index 6d6771a..4965b49
--- a/vm/mterp/c/OP_NEW_ARRAY.cpp
+++ b/vm/mterp/c/OP_NEW_ARRAY.cpp
@@ -27,9 +27,12 @@ HANDLE_OPCODE(OP_NEW_ARRAY /*vA, vB, class@CCCC*/)
         assert(dvmIsClassInitialized(arrayClass));
 
         newArray = dvmAllocArrayByClass(arrayClass, length, ALLOC_DONT_TRACK);
+/*	u4 objAddr = (u4)newArray; */
         if (newArray == NULL)
             GOTO_exceptionThrown();
         SET_REGISTER(vdst, (u4) newArray);
+/*	u4 objSize = dvmArrayObjectSize(newArray);*/
+/*	LOG_ALLOC(objAddr,objSize); */
     }
     FINISH(2);
 OP_END
diff --git a/vm/mterp/c/OP_NEW_INSTANCE.cpp b/vm/mterp/c/OP_NEW_INSTANCE.cpp
old mode 100644
new mode 100755
index b0b9c18..18aa674
--- a/vm/mterp/c/OP_NEW_INSTANCE.cpp
+++ b/vm/mterp/c/OP_NEW_INSTANCE.cpp
@@ -43,6 +43,7 @@ HANDLE_OPCODE(OP_NEW_INSTANCE /*vAA, class@BBBB*/)
         if (newObj == NULL)
             GOTO_exceptionThrown();
         SET_REGISTER(vdst, (u4) newObj);
+//	LOG_ALLOC((u4) newObj, clazz->objectSize);
     }
     FINISH(2);
 OP_END
diff --git a/vm/mterp/c/OP_NOP.cpp b/vm/mterp/c/OP_NOP.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_NOT_INT.cpp b/vm/mterp/c/OP_NOT_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_NOT_LONG.cpp b/vm/mterp/c/OP_NOT_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_OR_INT.cpp b/vm/mterp/c/OP_OR_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_OR_INT_2ADDR.cpp b/vm/mterp/c/OP_OR_INT_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_OR_INT_LIT16.cpp b/vm/mterp/c/OP_OR_INT_LIT16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_OR_INT_LIT8.cpp b/vm/mterp/c/OP_OR_INT_LIT8.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_OR_LONG.cpp b/vm/mterp/c/OP_OR_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_OR_LONG_2ADDR.cpp b/vm/mterp/c/OP_OR_LONG_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_PACKED_SWITCH.cpp b/vm/mterp/c/OP_PACKED_SWITCH.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_REM_DOUBLE.cpp b/vm/mterp/c/OP_REM_DOUBLE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_REM_DOUBLE_2ADDR.cpp b/vm/mterp/c/OP_REM_DOUBLE_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_REM_FLOAT.cpp b/vm/mterp/c/OP_REM_FLOAT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_REM_FLOAT_2ADDR.cpp b/vm/mterp/c/OP_REM_FLOAT_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_REM_INT.cpp b/vm/mterp/c/OP_REM_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_REM_INT_2ADDR.cpp b/vm/mterp/c/OP_REM_INT_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_REM_INT_LIT16.cpp b/vm/mterp/c/OP_REM_INT_LIT16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_REM_INT_LIT8.cpp b/vm/mterp/c/OP_REM_INT_LIT8.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_REM_LONG.cpp b/vm/mterp/c/OP_REM_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_REM_LONG_2ADDR.cpp b/vm/mterp/c/OP_REM_LONG_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_RETURN.cpp b/vm/mterp/c/OP_RETURN.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_RETURN_OBJECT.cpp b/vm/mterp/c/OP_RETURN_OBJECT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_RETURN_VOID.cpp b/vm/mterp/c/OP_RETURN_VOID.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_RETURN_VOID_BARRIER.cpp b/vm/mterp/c/OP_RETURN_VOID_BARRIER.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_RETURN_WIDE.cpp b/vm/mterp/c/OP_RETURN_WIDE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_RSUB_INT.cpp b/vm/mterp/c/OP_RSUB_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_RSUB_INT_LIT8.cpp b/vm/mterp/c/OP_RSUB_INT_LIT8.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SGET.cpp b/vm/mterp/c/OP_SGET.cpp
old mode 100644
new mode 100755
index 5297cd7..4c12865
--- a/vm/mterp/c/OP_SGET.cpp
+++ b/vm/mterp/c/OP_SGET.cpp
@@ -1,2 +1,2 @@
-HANDLE_SGET_X(OP_SGET,                  "", Int, )
+HANDLE_SGET_X(OP_SGET,                  "", Int, 4,)
 OP_END
diff --git a/vm/mterp/c/OP_SGET_BOOLEAN.cpp b/vm/mterp/c/OP_SGET_BOOLEAN.cpp
old mode 100644
new mode 100755
index 7c5d45e..9f981ae
--- a/vm/mterp/c/OP_SGET_BOOLEAN.cpp
+++ b/vm/mterp/c/OP_SGET_BOOLEAN.cpp
@@ -1,2 +1,2 @@
-HANDLE_SGET_X(OP_SGET_BOOLEAN,          "", Int, )
+HANDLE_SGET_X(OP_SGET_BOOLEAN,          "", Int,1, )
 OP_END
diff --git a/vm/mterp/c/OP_SGET_BYTE.cpp b/vm/mterp/c/OP_SGET_BYTE.cpp
old mode 100644
new mode 100755
index b37cab4..3888113
--- a/vm/mterp/c/OP_SGET_BYTE.cpp
+++ b/vm/mterp/c/OP_SGET_BYTE.cpp
@@ -1,2 +1,2 @@
-HANDLE_SGET_X(OP_SGET_BYTE,             "", Int, )
+HANDLE_SGET_X(OP_SGET_BYTE,             "", Int, 1,)
 OP_END
diff --git a/vm/mterp/c/OP_SGET_CHAR.cpp b/vm/mterp/c/OP_SGET_CHAR.cpp
old mode 100644
new mode 100755
index 7ede5ec..ddb4864
--- a/vm/mterp/c/OP_SGET_CHAR.cpp
+++ b/vm/mterp/c/OP_SGET_CHAR.cpp
@@ -1,2 +1,2 @@
-HANDLE_SGET_X(OP_SGET_CHAR,             "", Int, )
+HANDLE_SGET_X(OP_SGET_CHAR,             "", Int, 2,)
 OP_END
diff --git a/vm/mterp/c/OP_SGET_OBJECT.cpp b/vm/mterp/c/OP_SGET_OBJECT.cpp
old mode 100644
new mode 100755
index 9f3b63d..04d9a0a
--- a/vm/mterp/c/OP_SGET_OBJECT.cpp
+++ b/vm/mterp/c/OP_SGET_OBJECT.cpp
@@ -1,2 +1,2 @@
-HANDLE_SGET_X(OP_SGET_OBJECT,           "-object", Object, _AS_OBJECT)
+HANDLE_SGET_X(OP_SGET_OBJECT,           "-object", Object,4, _AS_OBJECT)
 OP_END
diff --git a/vm/mterp/c/OP_SGET_OBJECT_VOLATILE.cpp b/vm/mterp/c/OP_SGET_OBJECT_VOLATILE.cpp
old mode 100644
new mode 100755
index 0a9049f..4a4038f
--- a/vm/mterp/c/OP_SGET_OBJECT_VOLATILE.cpp
+++ b/vm/mterp/c/OP_SGET_OBJECT_VOLATILE.cpp
@@ -1,2 +1,2 @@
-HANDLE_SGET_X(OP_SGET_OBJECT_VOLATILE,  "-object-volatile", ObjectVolatile, _AS_OBJECT)
+HANDLE_SGET_X(OP_SGET_OBJECT_VOLATILE,  "-object-volatile", ObjectVolatile, 4, _AS_OBJECT)
 OP_END
diff --git a/vm/mterp/c/OP_SGET_SHORT.cpp b/vm/mterp/c/OP_SGET_SHORT.cpp
old mode 100644
new mode 100755
index cd1fe4c..28d74d4
--- a/vm/mterp/c/OP_SGET_SHORT.cpp
+++ b/vm/mterp/c/OP_SGET_SHORT.cpp
@@ -1,2 +1,2 @@
-HANDLE_SGET_X(OP_SGET_SHORT,            "", Int, )
+HANDLE_SGET_X(OP_SGET_SHORT,            "", Int,2, )
 OP_END
diff --git a/vm/mterp/c/OP_SGET_VOLATILE.cpp b/vm/mterp/c/OP_SGET_VOLATILE.cpp
old mode 100644
new mode 100755
index 6713a54..efe3857
--- a/vm/mterp/c/OP_SGET_VOLATILE.cpp
+++ b/vm/mterp/c/OP_SGET_VOLATILE.cpp
@@ -1,2 +1,2 @@
-HANDLE_SGET_X(OP_SGET_VOLATILE,         "-volatile", IntVolatile, )
+HANDLE_SGET_X(OP_SGET_VOLATILE,         "-volatile", IntVolatile, 4,)
 OP_END
diff --git a/vm/mterp/c/OP_SGET_WIDE.cpp b/vm/mterp/c/OP_SGET_WIDE.cpp
old mode 100644
new mode 100755
index 817c6e7..3bf6e8d
--- a/vm/mterp/c/OP_SGET_WIDE.cpp
+++ b/vm/mterp/c/OP_SGET_WIDE.cpp
@@ -1,2 +1,2 @@
-HANDLE_SGET_X(OP_SGET_WIDE,             "-wide", Long, _WIDE)
+HANDLE_SGET_X(OP_SGET_WIDE,             "-wide", Long, 8, _WIDE)
 OP_END
diff --git a/vm/mterp/c/OP_SGET_WIDE_VOLATILE.cpp b/vm/mterp/c/OP_SGET_WIDE_VOLATILE.cpp
old mode 100644
new mode 100755
index 26a67bf..01683ee
--- a/vm/mterp/c/OP_SGET_WIDE_VOLATILE.cpp
+++ b/vm/mterp/c/OP_SGET_WIDE_VOLATILE.cpp
@@ -1,2 +1,2 @@
-HANDLE_SGET_X(OP_SGET_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, _WIDE)
+HANDLE_SGET_X(OP_SGET_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, 8, _WIDE)
 OP_END
diff --git a/vm/mterp/c/OP_SHL_INT.cpp b/vm/mterp/c/OP_SHL_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SHL_INT_2ADDR.cpp b/vm/mterp/c/OP_SHL_INT_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SHL_INT_LIT8.cpp b/vm/mterp/c/OP_SHL_INT_LIT8.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SHL_LONG.cpp b/vm/mterp/c/OP_SHL_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SHL_LONG_2ADDR.cpp b/vm/mterp/c/OP_SHL_LONG_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SHR_INT.cpp b/vm/mterp/c/OP_SHR_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SHR_INT_2ADDR.cpp b/vm/mterp/c/OP_SHR_INT_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SHR_INT_LIT8.cpp b/vm/mterp/c/OP_SHR_INT_LIT8.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SHR_LONG.cpp b/vm/mterp/c/OP_SHR_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SHR_LONG_2ADDR.cpp b/vm/mterp/c/OP_SHR_LONG_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SPARSE_SWITCH.cpp b/vm/mterp/c/OP_SPARSE_SWITCH.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SPUT.cpp b/vm/mterp/c/OP_SPUT.cpp
old mode 100644
new mode 100755
index 286e64c..c0c7eb7
--- a/vm/mterp/c/OP_SPUT.cpp
+++ b/vm/mterp/c/OP_SPUT.cpp
@@ -1,2 +1,2 @@
-HANDLE_SPUT_X(OP_SPUT,                  "", Int, )
+HANDLE_SPUT_X(OP_SPUT,                  "", Int, 4, )
 OP_END
diff --git a/vm/mterp/c/OP_SPUT_BOOLEAN.cpp b/vm/mterp/c/OP_SPUT_BOOLEAN.cpp
old mode 100644
new mode 100755
index 55ceb11..a49e3a2
--- a/vm/mterp/c/OP_SPUT_BOOLEAN.cpp
+++ b/vm/mterp/c/OP_SPUT_BOOLEAN.cpp
@@ -1,2 +1,2 @@
-HANDLE_SPUT_X(OP_SPUT_BOOLEAN,          "", Int, )
+HANDLE_SPUT_X(OP_SPUT_BOOLEAN,          "", Int,1, )
 OP_END
diff --git a/vm/mterp/c/OP_SPUT_BYTE.cpp b/vm/mterp/c/OP_SPUT_BYTE.cpp
old mode 100644
new mode 100755
index d242fe1..2a3ca4c
--- a/vm/mterp/c/OP_SPUT_BYTE.cpp
+++ b/vm/mterp/c/OP_SPUT_BYTE.cpp
@@ -1,2 +1,2 @@
-HANDLE_SPUT_X(OP_SPUT_BYTE,             "", Int, )
+HANDLE_SPUT_X(OP_SPUT_BYTE,             "", Int, 1, )
 OP_END
diff --git a/vm/mterp/c/OP_SPUT_CHAR.cpp b/vm/mterp/c/OP_SPUT_CHAR.cpp
old mode 100644
new mode 100755
index 18a2f06..4e27795
--- a/vm/mterp/c/OP_SPUT_CHAR.cpp
+++ b/vm/mterp/c/OP_SPUT_CHAR.cpp
@@ -1,2 +1,2 @@
-HANDLE_SPUT_X(OP_SPUT_CHAR,             "", Int, )
+HANDLE_SPUT_X(OP_SPUT_CHAR,             "", Int, 2, )
 OP_END
diff --git a/vm/mterp/c/OP_SPUT_OBJECT.cpp b/vm/mterp/c/OP_SPUT_OBJECT.cpp
old mode 100644
new mode 100755
index fb223d6..06e0c3a
--- a/vm/mterp/c/OP_SPUT_OBJECT.cpp
+++ b/vm/mterp/c/OP_SPUT_OBJECT.cpp
@@ -1,2 +1,2 @@
-HANDLE_SPUT_X(OP_SPUT_OBJECT,           "-object", Object, _AS_OBJECT)
+HANDLE_SPUT_X(OP_SPUT_OBJECT,           "-object", Object, 4, _AS_OBJECT)
 OP_END
diff --git a/vm/mterp/c/OP_SPUT_OBJECT_VOLATILE.cpp b/vm/mterp/c/OP_SPUT_OBJECT_VOLATILE.cpp
old mode 100644
new mode 100755
index 38d6c0d..3bc123f
--- a/vm/mterp/c/OP_SPUT_OBJECT_VOLATILE.cpp
+++ b/vm/mterp/c/OP_SPUT_OBJECT_VOLATILE.cpp
@@ -1,2 +1,2 @@
-HANDLE_SPUT_X(OP_SPUT_OBJECT_VOLATILE,  "-object-volatile", ObjectVolatile, _AS_OBJECT)
+HANDLE_SPUT_X(OP_SPUT_OBJECT_VOLATILE,  "-object-volatile", ObjectVolatile, 4, _AS_OBJECT)
 OP_END
diff --git a/vm/mterp/c/OP_SPUT_SHORT.cpp b/vm/mterp/c/OP_SPUT_SHORT.cpp
old mode 100644
new mode 100755
index c6cd8d6..5301bf7
--- a/vm/mterp/c/OP_SPUT_SHORT.cpp
+++ b/vm/mterp/c/OP_SPUT_SHORT.cpp
@@ -1,2 +1,2 @@
-HANDLE_SPUT_X(OP_SPUT_SHORT,            "", Int, )
+HANDLE_SPUT_X(OP_SPUT_SHORT,            "", Int, 2, )
 OP_END
diff --git a/vm/mterp/c/OP_SPUT_VOLATILE.cpp b/vm/mterp/c/OP_SPUT_VOLATILE.cpp
old mode 100644
new mode 100755
index 7899d05..e457e1c
--- a/vm/mterp/c/OP_SPUT_VOLATILE.cpp
+++ b/vm/mterp/c/OP_SPUT_VOLATILE.cpp
@@ -1,2 +1,2 @@
-HANDLE_SPUT_X(OP_SPUT_VOLATILE,         "-volatile", IntVolatile, )
+HANDLE_SPUT_X(OP_SPUT_VOLATILE,         "-volatile", IntVolatile, 4, )
 OP_END
diff --git a/vm/mterp/c/OP_SPUT_WIDE.cpp b/vm/mterp/c/OP_SPUT_WIDE.cpp
old mode 100644
new mode 100755
index 0c74651..431e96e
--- a/vm/mterp/c/OP_SPUT_WIDE.cpp
+++ b/vm/mterp/c/OP_SPUT_WIDE.cpp
@@ -1,2 +1,2 @@
-HANDLE_SPUT_X(OP_SPUT_WIDE,             "-wide", Long, _WIDE)
+HANDLE_SPUT_X(OP_SPUT_WIDE,             "-wide", Long, 8, _WIDE)
 OP_END
diff --git a/vm/mterp/c/OP_SPUT_WIDE_VOLATILE.cpp b/vm/mterp/c/OP_SPUT_WIDE_VOLATILE.cpp
old mode 100644
new mode 100755
index bdf552c..50903d4
--- a/vm/mterp/c/OP_SPUT_WIDE_VOLATILE.cpp
+++ b/vm/mterp/c/OP_SPUT_WIDE_VOLATILE.cpp
@@ -1,2 +1,2 @@
-HANDLE_SPUT_X(OP_SPUT_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, _WIDE)
+HANDLE_SPUT_X(OP_SPUT_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, 8, _WIDE)
 OP_END
diff --git a/vm/mterp/c/OP_SUB_DOUBLE.cpp b/vm/mterp/c/OP_SUB_DOUBLE.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SUB_DOUBLE_2ADDR.cpp b/vm/mterp/c/OP_SUB_DOUBLE_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SUB_FLOAT.cpp b/vm/mterp/c/OP_SUB_FLOAT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SUB_FLOAT_2ADDR.cpp b/vm/mterp/c/OP_SUB_FLOAT_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SUB_INT.cpp b/vm/mterp/c/OP_SUB_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SUB_INT_2ADDR.cpp b/vm/mterp/c/OP_SUB_INT_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SUB_LONG.cpp b/vm/mterp/c/OP_SUB_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_SUB_LONG_2ADDR.cpp b/vm/mterp/c/OP_SUB_LONG_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_THROW.cpp b/vm/mterp/c/OP_THROW.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_THROW_VERIFICATION_ERROR.cpp b/vm/mterp/c/OP_THROW_VERIFICATION_ERROR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_UNUSED_3E.cpp b/vm/mterp/c/OP_UNUSED_3E.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_UNUSED_3F.cpp b/vm/mterp/c/OP_UNUSED_3F.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_UNUSED_40.cpp b/vm/mterp/c/OP_UNUSED_40.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_UNUSED_41.cpp b/vm/mterp/c/OP_UNUSED_41.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_UNUSED_42.cpp b/vm/mterp/c/OP_UNUSED_42.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_UNUSED_43.cpp b/vm/mterp/c/OP_UNUSED_43.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_UNUSED_73.cpp b/vm/mterp/c/OP_UNUSED_73.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_UNUSED_79.cpp b/vm/mterp/c/OP_UNUSED_79.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_UNUSED_7A.cpp b/vm/mterp/c/OP_UNUSED_7A.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_UNUSED_FF.cpp b/vm/mterp/c/OP_UNUSED_FF.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_USHR_INT.cpp b/vm/mterp/c/OP_USHR_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_USHR_INT_2ADDR.cpp b/vm/mterp/c/OP_USHR_INT_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_USHR_INT_LIT8.cpp b/vm/mterp/c/OP_USHR_INT_LIT8.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_USHR_LONG.cpp b/vm/mterp/c/OP_USHR_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_USHR_LONG_2ADDR.cpp b/vm/mterp/c/OP_USHR_LONG_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_XOR_INT.cpp b/vm/mterp/c/OP_XOR_INT.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_XOR_INT_2ADDR.cpp b/vm/mterp/c/OP_XOR_INT_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_XOR_INT_LIT16.cpp b/vm/mterp/c/OP_XOR_INT_LIT16.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_XOR_INT_LIT8.cpp b/vm/mterp/c/OP_XOR_INT_LIT8.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_XOR_LONG.cpp b/vm/mterp/c/OP_XOR_LONG.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/OP_XOR_LONG_2ADDR.cpp b/vm/mterp/c/OP_XOR_LONG_2ADDR.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/gotoTargets.cpp b/vm/mterp/c/gotoTargets.cpp
old mode 100644
new mode 100755
index 452bee8..5c4834c
--- a/vm/mterp/c/gotoTargets.cpp
+++ b/vm/mterp/c/gotoTargets.cpp
@@ -565,12 +565,21 @@ GOTO_TARGET(returnFromMethod)
             GOTO_bail();
         }
 
+	uint32_t maddr = (uint32_t)curMethod;
+
         /* update thread FP, and reset local variables */
         self->interpSave.curFrame = fp;
         curMethod = SAVEAREA_FROM_FP(fp)->method;
         self->interpSave.method = curMethod;
-        //methodClass = curMethod->clazz;
+	//methodClass = curMethod->clazz;
         methodClassDex = curMethod->clazz->pDvmDex;
+
+	LOG_WRITE_RET(curMethod, retval.j);
+
+	LOG_METHOD_EXIT_WITH_CHECK(maddr);
+
+	LOG_READ_RET(curMethod, retval.j);
+
         pc = saveArea->savedPc;
         ILOGD("> (return to %s.%s %s)", curMethod->clazz->descriptor,
             curMethod->name, curMethod->shorty);
@@ -765,8 +774,12 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
         //printf(" --> %s.%s %s\n", methodToCall->clazz->descriptor,
         //    methodToCall->name, methodToCall->shorty);
 
+//	LOG_METHOD_ENTRANCE((uint32_t)methodToCall, methodToCall->clazz->descriptor, methodToCall->name,
+//			    methodToCall->shorty,dvmIsNativeMethod(methodToCall));
+	
         u4* outs;
         int i;
+	u4 argc;
 
         /*
          * Copy args.  This may corrupt vsrc1/vdst.
@@ -776,6 +789,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             // so few args it won't matter much
             assert(vsrc1 <= curMethod->outsSize);
             assert(vsrc1 == methodToCall->insSize);
+	    argc = vsrc1;
             outs = OUTS_FROM_FP(fp, vsrc1);
             for (i = 0; i < vsrc1; i++)
                 outs[i] = GET_REGISTER(vdst+i);
@@ -787,6 +801,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             assert(count <= 5);
 
             outs = OUTS_FROM_FP(fp, count);
+	    argc = count;
 #if 0
             if (count == 5) {
                 outs[4] = GET_REGISTER(vsrc1 & 0x0f);
@@ -816,6 +831,18 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             }
 #endif
         }
+	{
+//		for(u4 j = 0 ; j < argc ;j++){
+//			LOG_WRITE(OBJ_REGISTER, outs[j], 0, 4);
+//		}
+		LOG_WRITE_PARAM(methodToCall, outs, argc);
+		LOG_METHOD_ENTRANCE((uint32_t)methodToCall, methodToCall->clazz->descriptor, methodToCall->name,
+				methodToCall->shorty,dvmIsNativeMethod(methodToCall));
+//		for(u4 j = 0 ; j < argc ;j++){
+//			LOG_READ(OBJ_REGISTER, outs[j], 0, 4);
+//		}
+		LOG_READ_PARAM(methodToCall,outs,argc);
+	}
     }
 
     /*
@@ -900,6 +927,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             pc = methodToCall->insns;
             fp = newFp;
             self->interpSave.curFrame = fp;
+	            
 #ifdef EASY_GDB
             debugSaveArea = SAVEAREA_FROM_FP(newFp);
 #endif
@@ -914,6 +942,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
 
             self->interpSave.curFrame = newFp;
 
+
             DUMP_REGS(methodToCall, newFp, true);   // show input args
 
             if (self->interpBreak.ctl.subMode != 0) {
@@ -923,6 +952,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             ILOGD("> native <-- %s.%s %s", methodToCall->clazz->descriptor,
                   methodToCall->name, methodToCall->shorty);
 
+
             /*
              * Jump through native call bridge.  Because we leave no
              * space for locals on native calls, "newFp" points directly
@@ -930,6 +960,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
              */
             (*methodToCall->nativeFunc)(newFp, &retval, methodToCall, self);
 
+
             if (self->interpBreak.ctl.subMode != 0) {
                 dvmReportPostNativeInvoke(methodToCall, self, newSaveArea->prevFrame);
             }
@@ -939,16 +970,29 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             self->interpSave.curFrame = newSaveArea->prevFrame;
             fp = newSaveArea->prevFrame;
 
+	    bool isExceptionThrown = dvmCheckException(self);
+
+	    if(!isExceptionThrown){
+		    LOG_WRITE_RET(methodToCall, retval.j);
+	    }
+
+	    LOG_METHOD_EXIT_WITH_CHECK((uint32_t)methodToCall);
+
+	    if(!isExceptionThrown){
+		    LOG_READ_RET(methodToCall, retval.j);
+	    }
+
             /*
              * If the native code threw an exception, or interpreted code
              * invoked by the native call threw one and nobody has cleared
              * it, jump to our local exception handling.
              */
-            if (dvmCheckException(self)) {
+ //           if (dvmCheckException(self)) {
+	    if(isExceptionThrown){
                 ALOGV("Exception thrown by/below native code");
                 GOTO_exceptionThrown();
-            }
-
+             } 
+		
             ILOGD("> retval=0x%llx (leaving native)", retval.j);
             ILOGD("> (return from native %s.%s to %s.%s %s)",
                 methodToCall->clazz->descriptor, methodToCall->name,
diff --git a/vm/mterp/c/header.cpp b/vm/mterp/c/header.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/c/opcommon.cpp b/vm/mterp/c/opcommon.cpp
old mode 100644
new mode 100755
index a49ed86..dd45a61
--- a/vm/mterp/c/opcommon.cpp
+++ b/vm/mterp/c/opcommon.cpp
@@ -448,7 +448,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;    /* array ptr */                        \
         vsrc2 = arrayInfo >> 8;      /* index */                            \
         ILOGV("|aget%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -459,6 +462,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         SET_REGISTER##_regsize(vdst,                                        \
             ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)]);      \
         ILOGV("+ AGET[%d]=%#x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));   \
+	LOG_READ(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -473,7 +477,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;   /* BB: array ptr */                     \
         vsrc2 = arrayInfo >> 8;     /* CC: index */                         \
         ILOGV("|aput%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -484,6 +491,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         ILOGV("+ APUT[%d]=0x%08x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));\
         ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)] =          \
             GET_REGISTER##_regsize(vdst);                                   \
+        LOG_WRITE(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -514,7 +522,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iget%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -527,6 +536,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             dvmGetField##_ftype(obj, ifield->byteOffset));                  \
         ILOGV("+ IGET '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -539,12 +549,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iget%s-quick v%d,v%d,field@+%u",                            \
             (_opname), vdst, vsrc1, ref);                                   \
+	u4 objAddr = GET_REGISTER(vsrc1);            \
         obj = (Object*) GET_REGISTER(vsrc1);                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         SET_REGISTER##_regsize(vdst, dvmGetField##_ftype(obj, ref));        \
         ILOGV("+ IGETQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ref,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -558,7 +570,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iput%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1);  \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -571,6 +584,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             GET_REGISTER##_regsize(vdst));                                  \
         ILOGV("+ IPUT '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -583,12 +597,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iput%s-quick v%d,v%d,field@0x%04x",                         \
             (_opname), vdst, vsrc1, ref);                                   \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         dvmSetField##_ftype(obj, ref, GET_REGISTER##_regsize(vdst));        \
         ILOGV("+ IPUTQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ref, obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -600,7 +616,7 @@ GOTO_TARGET_DECL(exceptionThrown);
  * This is controlled by the JIT_STUB_HACK maco.
  */
 
-#define HANDLE_SGET_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SGET_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -617,13 +633,15 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         SET_REGISTER##_regsize(vdst, dvmGetStaticField##_ftype(sfield));    \
         ILOGV("+ SGET '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_READ(OBJ_STATIC,sfAddr,0, _fsize);\
     }                                                                       \
     FINISH(2);
 
-#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -640,8 +658,10 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         dvmSetStaticField##_ftype(sfield, GET_REGISTER##_regsize(vdst));    \
         ILOGV("+ SPUT '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_WRITE(OBJ_STATIC,sfAddr,0,_fsize);\
     }                                                                       \
     FINISH(2);
diff --git a/vm/mterp/common/FindInterface.h b/vm/mterp/common/FindInterface.h
old mode 100644
new mode 100755
diff --git a/vm/mterp/common/asm-constants.h b/vm/mterp/common/asm-constants.h
old mode 100644
new mode 100755
diff --git a/vm/mterp/common/jit-config.h b/vm/mterp/common/jit-config.h
old mode 100644
new mode 100755
diff --git a/vm/mterp/common/mips-defines.h b/vm/mterp/common/mips-defines.h
old mode 100644
new mode 100755
diff --git a/vm/mterp/config-allstubs b/vm/mterp/config-allstubs
old mode 100644
new mode 100755
diff --git a/vm/mterp/config-armv5te b/vm/mterp/config-armv5te
old mode 100644
new mode 100755
diff --git a/vm/mterp/config-armv5te-vfp b/vm/mterp/config-armv5te-vfp
old mode 100644
new mode 100755
diff --git a/vm/mterp/config-armv7-a b/vm/mterp/config-armv7-a
old mode 100644
new mode 100755
diff --git a/vm/mterp/config-armv7-a-neon b/vm/mterp/config-armv7-a-neon
old mode 100644
new mode 100755
diff --git a/vm/mterp/config-mips b/vm/mterp/config-mips
old mode 100644
new mode 100755
diff --git a/vm/mterp/config-portable b/vm/mterp/config-portable
old mode 100644
new mode 100755
diff --git a/vm/mterp/config-x86 b/vm/mterp/config-x86
old mode 100644
new mode 100755
diff --git a/vm/mterp/cstubs/enddefs.cpp b/vm/mterp/cstubs/enddefs.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/cstubs/entry.cpp b/vm/mterp/cstubs/entry.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/cstubs/stubdefs.cpp b/vm/mterp/cstubs/stubdefs.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_ADD_DOUBLE.S b/vm/mterp/mips/OP_ADD_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_ADD_DOUBLE_2ADDR.S b/vm/mterp/mips/OP_ADD_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_ADD_FLOAT.S b/vm/mterp/mips/OP_ADD_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_ADD_FLOAT_2ADDR.S b/vm/mterp/mips/OP_ADD_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_ADD_INT.S b/vm/mterp/mips/OP_ADD_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_ADD_INT_2ADDR.S b/vm/mterp/mips/OP_ADD_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_ADD_INT_LIT16.S b/vm/mterp/mips/OP_ADD_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_ADD_INT_LIT8.S b/vm/mterp/mips/OP_ADD_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_ADD_LONG.S b/vm/mterp/mips/OP_ADD_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_ADD_LONG_2ADDR.S b/vm/mterp/mips/OP_ADD_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_AGET.S b/vm/mterp/mips/OP_AGET.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_AGET_BOOLEAN.S b/vm/mterp/mips/OP_AGET_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_AGET_BYTE.S b/vm/mterp/mips/OP_AGET_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_AGET_CHAR.S b/vm/mterp/mips/OP_AGET_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_AGET_OBJECT.S b/vm/mterp/mips/OP_AGET_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_AGET_SHORT.S b/vm/mterp/mips/OP_AGET_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_AGET_WIDE.S b/vm/mterp/mips/OP_AGET_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_AND_INT.S b/vm/mterp/mips/OP_AND_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_AND_INT_2ADDR.S b/vm/mterp/mips/OP_AND_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_AND_INT_LIT16.S b/vm/mterp/mips/OP_AND_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_AND_INT_LIT8.S b/vm/mterp/mips/OP_AND_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_AND_LONG.S b/vm/mterp/mips/OP_AND_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_AND_LONG_2ADDR.S b/vm/mterp/mips/OP_AND_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_APUT.S b/vm/mterp/mips/OP_APUT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_APUT_BOOLEAN.S b/vm/mterp/mips/OP_APUT_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_APUT_BYTE.S b/vm/mterp/mips/OP_APUT_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_APUT_CHAR.S b/vm/mterp/mips/OP_APUT_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_APUT_OBJECT.S b/vm/mterp/mips/OP_APUT_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_APUT_SHORT.S b/vm/mterp/mips/OP_APUT_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_APUT_WIDE.S b/vm/mterp/mips/OP_APUT_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_ARRAY_LENGTH.S b/vm/mterp/mips/OP_ARRAY_LENGTH.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_BREAKPOINT.S b/vm/mterp/mips/OP_BREAKPOINT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CHECK_CAST.S b/vm/mterp/mips/OP_CHECK_CAST.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CMPG_DOUBLE.S b/vm/mterp/mips/OP_CMPG_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CMPG_FLOAT.S b/vm/mterp/mips/OP_CMPG_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CMPL_DOUBLE.S b/vm/mterp/mips/OP_CMPL_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CMPL_FLOAT.S b/vm/mterp/mips/OP_CMPL_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CMP_LONG.S b/vm/mterp/mips/OP_CMP_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CONST.S b/vm/mterp/mips/OP_CONST.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CONST_16.S b/vm/mterp/mips/OP_CONST_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CONST_4.S b/vm/mterp/mips/OP_CONST_4.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CONST_CLASS.S b/vm/mterp/mips/OP_CONST_CLASS.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CONST_HIGH16.S b/vm/mterp/mips/OP_CONST_HIGH16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CONST_STRING.S b/vm/mterp/mips/OP_CONST_STRING.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CONST_STRING_JUMBO.S b/vm/mterp/mips/OP_CONST_STRING_JUMBO.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CONST_WIDE.S b/vm/mterp/mips/OP_CONST_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CONST_WIDE_16.S b/vm/mterp/mips/OP_CONST_WIDE_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CONST_WIDE_32.S b/vm/mterp/mips/OP_CONST_WIDE_32.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_CONST_WIDE_HIGH16.S b/vm/mterp/mips/OP_CONST_WIDE_HIGH16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_DIV_DOUBLE.S b/vm/mterp/mips/OP_DIV_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_DIV_DOUBLE_2ADDR.S b/vm/mterp/mips/OP_DIV_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_DIV_FLOAT.S b/vm/mterp/mips/OP_DIV_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_DIV_FLOAT_2ADDR.S b/vm/mterp/mips/OP_DIV_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_DIV_INT.S b/vm/mterp/mips/OP_DIV_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_DIV_INT_2ADDR.S b/vm/mterp/mips/OP_DIV_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_DIV_INT_LIT16.S b/vm/mterp/mips/OP_DIV_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_DIV_INT_LIT8.S b/vm/mterp/mips/OP_DIV_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_DIV_LONG.S b/vm/mterp/mips/OP_DIV_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_DIV_LONG_2ADDR.S b/vm/mterp/mips/OP_DIV_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_DOUBLE_TO_FLOAT.S b/vm/mterp/mips/OP_DOUBLE_TO_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_DOUBLE_TO_INT.S b/vm/mterp/mips/OP_DOUBLE_TO_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_DOUBLE_TO_LONG.S b/vm/mterp/mips/OP_DOUBLE_TO_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_EXECUTE_INLINE.S b/vm/mterp/mips/OP_EXECUTE_INLINE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_EXECUTE_INLINE_RANGE.S b/vm/mterp/mips/OP_EXECUTE_INLINE_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_FILLED_NEW_ARRAY.S b/vm/mterp/mips/OP_FILLED_NEW_ARRAY.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_FILLED_NEW_ARRAY_RANGE.S b/vm/mterp/mips/OP_FILLED_NEW_ARRAY_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_FILL_ARRAY_DATA.S b/vm/mterp/mips/OP_FILL_ARRAY_DATA.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_FLOAT_TO_DOUBLE.S b/vm/mterp/mips/OP_FLOAT_TO_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_FLOAT_TO_INT.S b/vm/mterp/mips/OP_FLOAT_TO_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_FLOAT_TO_LONG.S b/vm/mterp/mips/OP_FLOAT_TO_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_GOTO.S b/vm/mterp/mips/OP_GOTO.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_GOTO_16.S b/vm/mterp/mips/OP_GOTO_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_GOTO_32.S b/vm/mterp/mips/OP_GOTO_32.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IF_EQ.S b/vm/mterp/mips/OP_IF_EQ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IF_EQZ.S b/vm/mterp/mips/OP_IF_EQZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IF_GE.S b/vm/mterp/mips/OP_IF_GE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IF_GEZ.S b/vm/mterp/mips/OP_IF_GEZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IF_GT.S b/vm/mterp/mips/OP_IF_GT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IF_GTZ.S b/vm/mterp/mips/OP_IF_GTZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IF_LE.S b/vm/mterp/mips/OP_IF_LE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IF_LEZ.S b/vm/mterp/mips/OP_IF_LEZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IF_LT.S b/vm/mterp/mips/OP_IF_LT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IF_LTZ.S b/vm/mterp/mips/OP_IF_LTZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IF_NE.S b/vm/mterp/mips/OP_IF_NE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IF_NEZ.S b/vm/mterp/mips/OP_IF_NEZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IGET.S b/vm/mterp/mips/OP_IGET.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IGET_BOOLEAN.S b/vm/mterp/mips/OP_IGET_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IGET_BYTE.S b/vm/mterp/mips/OP_IGET_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IGET_CHAR.S b/vm/mterp/mips/OP_IGET_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IGET_OBJECT.S b/vm/mterp/mips/OP_IGET_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IGET_OBJECT_QUICK.S b/vm/mterp/mips/OP_IGET_OBJECT_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IGET_OBJECT_VOLATILE.S b/vm/mterp/mips/OP_IGET_OBJECT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IGET_QUICK.S b/vm/mterp/mips/OP_IGET_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IGET_SHORT.S b/vm/mterp/mips/OP_IGET_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IGET_VOLATILE.S b/vm/mterp/mips/OP_IGET_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IGET_WIDE.S b/vm/mterp/mips/OP_IGET_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IGET_WIDE_QUICK.S b/vm/mterp/mips/OP_IGET_WIDE_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IGET_WIDE_VOLATILE.S b/vm/mterp/mips/OP_IGET_WIDE_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INSTANCE_OF.S b/vm/mterp/mips/OP_INSTANCE_OF.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INT_TO_BYTE.S b/vm/mterp/mips/OP_INT_TO_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INT_TO_CHAR.S b/vm/mterp/mips/OP_INT_TO_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INT_TO_DOUBLE.S b/vm/mterp/mips/OP_INT_TO_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INT_TO_FLOAT.S b/vm/mterp/mips/OP_INT_TO_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INT_TO_LONG.S b/vm/mterp/mips/OP_INT_TO_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INT_TO_SHORT.S b/vm/mterp/mips/OP_INT_TO_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INVOKE_DIRECT.S b/vm/mterp/mips/OP_INVOKE_DIRECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INVOKE_DIRECT_RANGE.S b/vm/mterp/mips/OP_INVOKE_DIRECT_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INVOKE_INTERFACE.S b/vm/mterp/mips/OP_INVOKE_INTERFACE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INVOKE_INTERFACE_RANGE.S b/vm/mterp/mips/OP_INVOKE_INTERFACE_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INVOKE_OBJECT_INIT_RANGE.S b/vm/mterp/mips/OP_INVOKE_OBJECT_INIT_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INVOKE_STATIC.S b/vm/mterp/mips/OP_INVOKE_STATIC.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INVOKE_STATIC_RANGE.S b/vm/mterp/mips/OP_INVOKE_STATIC_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INVOKE_SUPER.S b/vm/mterp/mips/OP_INVOKE_SUPER.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INVOKE_SUPER_QUICK.S b/vm/mterp/mips/OP_INVOKE_SUPER_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INVOKE_SUPER_QUICK_RANGE.S b/vm/mterp/mips/OP_INVOKE_SUPER_QUICK_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INVOKE_SUPER_RANGE.S b/vm/mterp/mips/OP_INVOKE_SUPER_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INVOKE_VIRTUAL.S b/vm/mterp/mips/OP_INVOKE_VIRTUAL.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INVOKE_VIRTUAL_QUICK.S b/vm/mterp/mips/OP_INVOKE_VIRTUAL_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INVOKE_VIRTUAL_QUICK_RANGE.S b/vm/mterp/mips/OP_INVOKE_VIRTUAL_QUICK_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_INVOKE_VIRTUAL_RANGE.S b/vm/mterp/mips/OP_INVOKE_VIRTUAL_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IPUT.S b/vm/mterp/mips/OP_IPUT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IPUT_BOOLEAN.S b/vm/mterp/mips/OP_IPUT_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IPUT_BYTE.S b/vm/mterp/mips/OP_IPUT_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IPUT_CHAR.S b/vm/mterp/mips/OP_IPUT_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IPUT_OBJECT.S b/vm/mterp/mips/OP_IPUT_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IPUT_OBJECT_QUICK.S b/vm/mterp/mips/OP_IPUT_OBJECT_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IPUT_OBJECT_VOLATILE.S b/vm/mterp/mips/OP_IPUT_OBJECT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IPUT_QUICK.S b/vm/mterp/mips/OP_IPUT_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IPUT_SHORT.S b/vm/mterp/mips/OP_IPUT_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IPUT_VOLATILE.S b/vm/mterp/mips/OP_IPUT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IPUT_WIDE.S b/vm/mterp/mips/OP_IPUT_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IPUT_WIDE_QUICK.S b/vm/mterp/mips/OP_IPUT_WIDE_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_IPUT_WIDE_VOLATILE.S b/vm/mterp/mips/OP_IPUT_WIDE_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_LONG_TO_DOUBLE.S b/vm/mterp/mips/OP_LONG_TO_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_LONG_TO_FLOAT.S b/vm/mterp/mips/OP_LONG_TO_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_LONG_TO_INT.S b/vm/mterp/mips/OP_LONG_TO_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MONITOR_ENTER.S b/vm/mterp/mips/OP_MONITOR_ENTER.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MONITOR_EXIT.S b/vm/mterp/mips/OP_MONITOR_EXIT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MOVE.S b/vm/mterp/mips/OP_MOVE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MOVE_16.S b/vm/mterp/mips/OP_MOVE_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MOVE_EXCEPTION.S b/vm/mterp/mips/OP_MOVE_EXCEPTION.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MOVE_FROM16.S b/vm/mterp/mips/OP_MOVE_FROM16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MOVE_OBJECT.S b/vm/mterp/mips/OP_MOVE_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MOVE_OBJECT_16.S b/vm/mterp/mips/OP_MOVE_OBJECT_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MOVE_OBJECT_FROM16.S b/vm/mterp/mips/OP_MOVE_OBJECT_FROM16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MOVE_RESULT.S b/vm/mterp/mips/OP_MOVE_RESULT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MOVE_RESULT_OBJECT.S b/vm/mterp/mips/OP_MOVE_RESULT_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MOVE_RESULT_WIDE.S b/vm/mterp/mips/OP_MOVE_RESULT_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MOVE_WIDE.S b/vm/mterp/mips/OP_MOVE_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MOVE_WIDE_16.S b/vm/mterp/mips/OP_MOVE_WIDE_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MOVE_WIDE_FROM16.S b/vm/mterp/mips/OP_MOVE_WIDE_FROM16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MUL_DOUBLE.S b/vm/mterp/mips/OP_MUL_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MUL_DOUBLE_2ADDR.S b/vm/mterp/mips/OP_MUL_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MUL_FLOAT.S b/vm/mterp/mips/OP_MUL_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MUL_FLOAT_2ADDR.S b/vm/mterp/mips/OP_MUL_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MUL_INT.S b/vm/mterp/mips/OP_MUL_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MUL_INT_2ADDR.S b/vm/mterp/mips/OP_MUL_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MUL_INT_LIT16.S b/vm/mterp/mips/OP_MUL_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MUL_INT_LIT8.S b/vm/mterp/mips/OP_MUL_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MUL_LONG.S b/vm/mterp/mips/OP_MUL_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_MUL_LONG_2ADDR.S b/vm/mterp/mips/OP_MUL_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_NEG_DOUBLE.S b/vm/mterp/mips/OP_NEG_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_NEG_FLOAT.S b/vm/mterp/mips/OP_NEG_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_NEG_INT.S b/vm/mterp/mips/OP_NEG_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_NEG_LONG.S b/vm/mterp/mips/OP_NEG_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_NEW_ARRAY.S b/vm/mterp/mips/OP_NEW_ARRAY.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_NEW_INSTANCE.S b/vm/mterp/mips/OP_NEW_INSTANCE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_NOP.S b/vm/mterp/mips/OP_NOP.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_NOT_INT.S b/vm/mterp/mips/OP_NOT_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_NOT_LONG.S b/vm/mterp/mips/OP_NOT_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_OR_INT.S b/vm/mterp/mips/OP_OR_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_OR_INT_2ADDR.S b/vm/mterp/mips/OP_OR_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_OR_INT_LIT16.S b/vm/mterp/mips/OP_OR_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_OR_INT_LIT8.S b/vm/mterp/mips/OP_OR_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_OR_LONG.S b/vm/mterp/mips/OP_OR_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_OR_LONG_2ADDR.S b/vm/mterp/mips/OP_OR_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_PACKED_SWITCH.S b/vm/mterp/mips/OP_PACKED_SWITCH.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_REM_DOUBLE.S b/vm/mterp/mips/OP_REM_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_REM_DOUBLE_2ADDR.S b/vm/mterp/mips/OP_REM_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_REM_FLOAT.S b/vm/mterp/mips/OP_REM_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_REM_FLOAT_2ADDR.S b/vm/mterp/mips/OP_REM_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_REM_INT.S b/vm/mterp/mips/OP_REM_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_REM_INT_2ADDR.S b/vm/mterp/mips/OP_REM_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_REM_INT_LIT16.S b/vm/mterp/mips/OP_REM_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_REM_INT_LIT8.S b/vm/mterp/mips/OP_REM_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_REM_LONG.S b/vm/mterp/mips/OP_REM_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_REM_LONG_2ADDR.S b/vm/mterp/mips/OP_REM_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_RETURN.S b/vm/mterp/mips/OP_RETURN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_RETURN_OBJECT.S b/vm/mterp/mips/OP_RETURN_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_RETURN_VOID.S b/vm/mterp/mips/OP_RETURN_VOID.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_RETURN_VOID_BARRIER.S b/vm/mterp/mips/OP_RETURN_VOID_BARRIER.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_RETURN_WIDE.S b/vm/mterp/mips/OP_RETURN_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_RSUB_INT.S b/vm/mterp/mips/OP_RSUB_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_RSUB_INT_LIT8.S b/vm/mterp/mips/OP_RSUB_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SGET.S b/vm/mterp/mips/OP_SGET.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SGET_BOOLEAN.S b/vm/mterp/mips/OP_SGET_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SGET_BYTE.S b/vm/mterp/mips/OP_SGET_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SGET_CHAR.S b/vm/mterp/mips/OP_SGET_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SGET_OBJECT.S b/vm/mterp/mips/OP_SGET_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SGET_OBJECT_VOLATILE.S b/vm/mterp/mips/OP_SGET_OBJECT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SGET_SHORT.S b/vm/mterp/mips/OP_SGET_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SGET_VOLATILE.S b/vm/mterp/mips/OP_SGET_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SGET_WIDE.S b/vm/mterp/mips/OP_SGET_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SGET_WIDE_VOLATILE.S b/vm/mterp/mips/OP_SGET_WIDE_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SHL_INT.S b/vm/mterp/mips/OP_SHL_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SHL_INT_2ADDR.S b/vm/mterp/mips/OP_SHL_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SHL_INT_LIT8.S b/vm/mterp/mips/OP_SHL_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SHL_LONG.S b/vm/mterp/mips/OP_SHL_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SHL_LONG_2ADDR.S b/vm/mterp/mips/OP_SHL_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SHR_INT.S b/vm/mterp/mips/OP_SHR_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SHR_INT_2ADDR.S b/vm/mterp/mips/OP_SHR_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SHR_INT_LIT8.S b/vm/mterp/mips/OP_SHR_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SHR_LONG.S b/vm/mterp/mips/OP_SHR_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SHR_LONG_2ADDR.S b/vm/mterp/mips/OP_SHR_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SPARSE_SWITCH.S b/vm/mterp/mips/OP_SPARSE_SWITCH.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SPUT.S b/vm/mterp/mips/OP_SPUT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SPUT_BOOLEAN.S b/vm/mterp/mips/OP_SPUT_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SPUT_BYTE.S b/vm/mterp/mips/OP_SPUT_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SPUT_CHAR.S b/vm/mterp/mips/OP_SPUT_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SPUT_OBJECT.S b/vm/mterp/mips/OP_SPUT_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SPUT_OBJECT_VOLATILE.S b/vm/mterp/mips/OP_SPUT_OBJECT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SPUT_SHORT.S b/vm/mterp/mips/OP_SPUT_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SPUT_VOLATILE.S b/vm/mterp/mips/OP_SPUT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SPUT_WIDE.S b/vm/mterp/mips/OP_SPUT_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SPUT_WIDE_VOLATILE.S b/vm/mterp/mips/OP_SPUT_WIDE_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SUB_DOUBLE.S b/vm/mterp/mips/OP_SUB_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SUB_DOUBLE_2ADDR.S b/vm/mterp/mips/OP_SUB_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SUB_FLOAT.S b/vm/mterp/mips/OP_SUB_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SUB_FLOAT_2ADDR.S b/vm/mterp/mips/OP_SUB_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SUB_INT.S b/vm/mterp/mips/OP_SUB_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SUB_INT_2ADDR.S b/vm/mterp/mips/OP_SUB_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SUB_LONG.S b/vm/mterp/mips/OP_SUB_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_SUB_LONG_2ADDR.S b/vm/mterp/mips/OP_SUB_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_THROW.S b/vm/mterp/mips/OP_THROW.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_THROW_VERIFICATION_ERROR.S b/vm/mterp/mips/OP_THROW_VERIFICATION_ERROR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_3E.S b/vm/mterp/mips/OP_UNUSED_3E.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_3F.S b/vm/mterp/mips/OP_UNUSED_3F.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_40.S b/vm/mterp/mips/OP_UNUSED_40.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_41.S b/vm/mterp/mips/OP_UNUSED_41.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_42.S b/vm/mterp/mips/OP_UNUSED_42.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_43.S b/vm/mterp/mips/OP_UNUSED_43.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_73.S b/vm/mterp/mips/OP_UNUSED_73.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_79.S b/vm/mterp/mips/OP_UNUSED_79.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_7A.S b/vm/mterp/mips/OP_UNUSED_7A.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_E3.S b/vm/mterp/mips/OP_UNUSED_E3.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_E4.S b/vm/mterp/mips/OP_UNUSED_E4.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_E5.S b/vm/mterp/mips/OP_UNUSED_E5.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_E6.S b/vm/mterp/mips/OP_UNUSED_E6.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_E7.S b/vm/mterp/mips/OP_UNUSED_E7.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_E8.S b/vm/mterp/mips/OP_UNUSED_E8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_E9.S b/vm/mterp/mips/OP_UNUSED_E9.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_EA.S b/vm/mterp/mips/OP_UNUSED_EA.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_EB.S b/vm/mterp/mips/OP_UNUSED_EB.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_EC.S b/vm/mterp/mips/OP_UNUSED_EC.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_ED.S b/vm/mterp/mips/OP_UNUSED_ED.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_EF.S b/vm/mterp/mips/OP_UNUSED_EF.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_F1.S b/vm/mterp/mips/OP_UNUSED_F1.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_FC.S b/vm/mterp/mips/OP_UNUSED_FC.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_FD.S b/vm/mterp/mips/OP_UNUSED_FD.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_FE.S b/vm/mterp/mips/OP_UNUSED_FE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_UNUSED_FF.S b/vm/mterp/mips/OP_UNUSED_FF.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_USHR_INT.S b/vm/mterp/mips/OP_USHR_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_USHR_INT_2ADDR.S b/vm/mterp/mips/OP_USHR_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_USHR_INT_LIT8.S b/vm/mterp/mips/OP_USHR_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_USHR_LONG.S b/vm/mterp/mips/OP_USHR_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_USHR_LONG_2ADDR.S b/vm/mterp/mips/OP_USHR_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_XOR_INT.S b/vm/mterp/mips/OP_XOR_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_XOR_INT_2ADDR.S b/vm/mterp/mips/OP_XOR_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_XOR_INT_LIT16.S b/vm/mterp/mips/OP_XOR_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_XOR_INT_LIT8.S b/vm/mterp/mips/OP_XOR_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_XOR_LONG.S b/vm/mterp/mips/OP_XOR_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/OP_XOR_LONG_2ADDR.S b/vm/mterp/mips/OP_XOR_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/alt_stub.S b/vm/mterp/mips/alt_stub.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/bincmp.S b/vm/mterp/mips/bincmp.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/binflop.S b/vm/mterp/mips/binflop.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/binflop2addr.S b/vm/mterp/mips/binflop2addr.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/binflopWide.S b/vm/mterp/mips/binflopWide.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/binflopWide2addr.S b/vm/mterp/mips/binflopWide2addr.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/binop.S b/vm/mterp/mips/binop.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/binop2addr.S b/vm/mterp/mips/binop2addr.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/binopLit16.S b/vm/mterp/mips/binopLit16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/binopLit8.S b/vm/mterp/mips/binopLit8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/binopWide.S b/vm/mterp/mips/binopWide.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/binopWide2addr.S b/vm/mterp/mips/binopWide2addr.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/debug.cpp b/vm/mterp/mips/debug.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/entry.S b/vm/mterp/mips/entry.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/footer.S b/vm/mterp/mips/footer.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/header.S b/vm/mterp/mips/header.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/platform.S b/vm/mterp/mips/platform.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/stub.S b/vm/mterp/mips/stub.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/unflop.S b/vm/mterp/mips/unflop.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/unflopWide.S b/vm/mterp/mips/unflopWide.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/unflopWider.S b/vm/mterp/mips/unflopWider.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/unop.S b/vm/mterp/mips/unop.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/unopNarrower.S b/vm/mterp/mips/unopNarrower.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/unopWide.S b/vm/mterp/mips/unopWide.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/unopWider.S b/vm/mterp/mips/unopWider.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/unused.S b/vm/mterp/mips/unused.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/mips/zcmp.S b/vm/mterp/mips/zcmp.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/out/InterpAsm-allstubs.S b/vm/mterp/out/InterpAsm-allstubs.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/out/InterpAsm-armv5te-vfp.S b/vm/mterp/out/InterpAsm-armv5te-vfp.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/out/InterpAsm-armv5te.S b/vm/mterp/out/InterpAsm-armv5te.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/out/InterpAsm-armv7-a-neon.S b/vm/mterp/out/InterpAsm-armv7-a-neon.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/out/InterpAsm-armv7-a.S b/vm/mterp/out/InterpAsm-armv7-a.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/out/InterpAsm-mips.S b/vm/mterp/out/InterpAsm-mips.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/out/InterpAsm-x86.S b/vm/mterp/out/InterpAsm-x86.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/out/InterpC-allstubs.cpp b/vm/mterp/out/InterpC-allstubs.cpp
old mode 100644
new mode 100755
index 1ef8783..d3e3230
--- a/vm/mterp/out/InterpC-allstubs.cpp
+++ b/vm/mterp/out/InterpC-allstubs.cpp
@@ -964,7 +964,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;    /* array ptr */                        \
         vsrc2 = arrayInfo >> 8;      /* index */                            \
         ILOGV("|aget%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -975,6 +978,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         SET_REGISTER##_regsize(vdst,                                        \
             ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)]);      \
         ILOGV("+ AGET[%d]=%#x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));   \
+	LOG_READ(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -989,7 +993,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;   /* BB: array ptr */                     \
         vsrc2 = arrayInfo >> 8;     /* CC: index */                         \
         ILOGV("|aput%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -1000,6 +1007,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         ILOGV("+ APUT[%d]=0x%08x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));\
         ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)] =          \
             GET_REGISTER##_regsize(vdst);                                   \
+        LOG_WRITE(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1030,7 +1038,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iget%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -1043,6 +1052,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             dvmGetField##_ftype(obj, ifield->byteOffset));                  \
         ILOGV("+ IGET '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1055,12 +1065,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iget%s-quick v%d,v%d,field@+%u",                            \
             (_opname), vdst, vsrc1, ref);                                   \
+	u4 objAddr = GET_REGISTER(vsrc1);            \
         obj = (Object*) GET_REGISTER(vsrc1);                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         SET_REGISTER##_regsize(vdst, dvmGetField##_ftype(obj, ref));        \
         ILOGV("+ IGETQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ref,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1074,7 +1086,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iput%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1);  \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -1087,6 +1100,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             GET_REGISTER##_regsize(vdst));                                  \
         ILOGV("+ IPUT '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1099,12 +1113,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iput%s-quick v%d,v%d,field@0x%04x",                         \
             (_opname), vdst, vsrc1, ref);                                   \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         dvmSetField##_ftype(obj, ref, GET_REGISTER##_regsize(vdst));        \
         ILOGV("+ IPUTQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ref, obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1116,7 +1132,7 @@ GOTO_TARGET_DECL(exceptionThrown);
  * This is controlled by the JIT_STUB_HACK maco.
  */
 
-#define HANDLE_SGET_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SGET_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -1133,13 +1149,15 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         SET_REGISTER##_regsize(vdst, dvmGetStaticField##_ftype(sfield));    \
         ILOGV("+ SGET '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_READ(OBJ_STATIC,sfAddr,0, _fsize);\
     }                                                                       \
     FINISH(2);
 
-#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -1156,9 +1174,11 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         dvmSetStaticField##_ftype(sfield, GET_REGISTER##_regsize(vdst));    \
         ILOGV("+ SPUT '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_WRITE(OBJ_STATIC,sfAddr,0,_fsize);\
     }                                                                       \
     FINISH(2);
 
@@ -1681,6 +1701,7 @@ HANDLE_OPCODE(OP_NEW_INSTANCE /*vAA, class@BBBB*/)
         if (newObj == NULL)
             GOTO_exceptionThrown();
         SET_REGISTER(vdst, (u4) newObj);
+//	LOG_ALLOC((u4) newObj, clazz->objectSize);
     }
     FINISH(2);
 OP_END
@@ -1715,9 +1736,12 @@ HANDLE_OPCODE(OP_NEW_ARRAY /*vA, vB, class@CCCC*/)
         assert(dvmIsClassInitialized(arrayClass));
 
         newArray = dvmAllocArrayByClass(arrayClass, length, ALLOC_DONT_TRACK);
+/*	u4 objAddr = (u4)newArray; */
         if (newArray == NULL)
             GOTO_exceptionThrown();
         SET_REGISTER(vdst, (u4) newArray);
+/*	u4 objSize = dvmArrayObjectSize(newArray);*/
+/*	LOG_ALLOC(objAddr,objSize); */
     }
     FINISH(2);
 OP_END
@@ -2147,59 +2171,59 @@ HANDLE_IPUT_X(OP_IPUT_SHORT,            "", Int, )
 OP_END
 
 /* File: c/OP_SGET.cpp */
-HANDLE_SGET_X(OP_SGET,                  "", Int, )
+HANDLE_SGET_X(OP_SGET,                  "", Int, 4,)
 OP_END
 
 /* File: c/OP_SGET_WIDE.cpp */
-HANDLE_SGET_X(OP_SGET_WIDE,             "-wide", Long, _WIDE)
+HANDLE_SGET_X(OP_SGET_WIDE,             "-wide", Long, 8, _WIDE)
 OP_END
 
 /* File: c/OP_SGET_OBJECT.cpp */
-HANDLE_SGET_X(OP_SGET_OBJECT,           "-object", Object, _AS_OBJECT)
+HANDLE_SGET_X(OP_SGET_OBJECT,           "-object", Object,4, _AS_OBJECT)
 OP_END
 
 /* File: c/OP_SGET_BOOLEAN.cpp */
-HANDLE_SGET_X(OP_SGET_BOOLEAN,          "", Int, )
+HANDLE_SGET_X(OP_SGET_BOOLEAN,          "", Int,1, )
 OP_END
 
 /* File: c/OP_SGET_BYTE.cpp */
-HANDLE_SGET_X(OP_SGET_BYTE,             "", Int, )
+HANDLE_SGET_X(OP_SGET_BYTE,             "", Int, 1,)
 OP_END
 
 /* File: c/OP_SGET_CHAR.cpp */
-HANDLE_SGET_X(OP_SGET_CHAR,             "", Int, )
+HANDLE_SGET_X(OP_SGET_CHAR,             "", Int, 2,)
 OP_END
 
 /* File: c/OP_SGET_SHORT.cpp */
-HANDLE_SGET_X(OP_SGET_SHORT,            "", Int, )
+HANDLE_SGET_X(OP_SGET_SHORT,            "", Int,2, )
 OP_END
 
 /* File: c/OP_SPUT.cpp */
-HANDLE_SPUT_X(OP_SPUT,                  "", Int, )
+HANDLE_SPUT_X(OP_SPUT,                  "", Int, 4, )
 OP_END
 
 /* File: c/OP_SPUT_WIDE.cpp */
-HANDLE_SPUT_X(OP_SPUT_WIDE,             "-wide", Long, _WIDE)
+HANDLE_SPUT_X(OP_SPUT_WIDE,             "-wide", Long, 8, _WIDE)
 OP_END
 
 /* File: c/OP_SPUT_OBJECT.cpp */
-HANDLE_SPUT_X(OP_SPUT_OBJECT,           "-object", Object, _AS_OBJECT)
+HANDLE_SPUT_X(OP_SPUT_OBJECT,           "-object", Object, 4, _AS_OBJECT)
 OP_END
 
 /* File: c/OP_SPUT_BOOLEAN.cpp */
-HANDLE_SPUT_X(OP_SPUT_BOOLEAN,          "", Int, )
+HANDLE_SPUT_X(OP_SPUT_BOOLEAN,          "", Int,1, )
 OP_END
 
 /* File: c/OP_SPUT_BYTE.cpp */
-HANDLE_SPUT_X(OP_SPUT_BYTE,             "", Int, )
+HANDLE_SPUT_X(OP_SPUT_BYTE,             "", Int, 1, )
 OP_END
 
 /* File: c/OP_SPUT_CHAR.cpp */
-HANDLE_SPUT_X(OP_SPUT_CHAR,             "", Int, )
+HANDLE_SPUT_X(OP_SPUT_CHAR,             "", Int, 2, )
 OP_END
 
 /* File: c/OP_SPUT_SHORT.cpp */
-HANDLE_SPUT_X(OP_SPUT_SHORT,            "", Int, )
+HANDLE_SPUT_X(OP_SPUT_SHORT,            "", Int, 2, )
 OP_END
 
 /* File: c/OP_INVOKE_VIRTUAL.cpp */
@@ -2745,11 +2769,11 @@ HANDLE_IPUT_X(OP_IPUT_VOLATILE,         "-volatile", IntVolatile, )
 OP_END
 
 /* File: c/OP_SGET_VOLATILE.cpp */
-HANDLE_SGET_X(OP_SGET_VOLATILE,         "-volatile", IntVolatile, )
+HANDLE_SGET_X(OP_SGET_VOLATILE,         "-volatile", IntVolatile, 4,)
 OP_END
 
 /* File: c/OP_SPUT_VOLATILE.cpp */
-HANDLE_SPUT_X(OP_SPUT_VOLATILE,         "-volatile", IntVolatile, )
+HANDLE_SPUT_X(OP_SPUT_VOLATILE,         "-volatile", IntVolatile, 4, )
 OP_END
 
 /* File: c/OP_IGET_OBJECT_VOLATILE.cpp */
@@ -2765,11 +2789,11 @@ HANDLE_IPUT_X(OP_IPUT_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, _WIDE)
 OP_END
 
 /* File: c/OP_SGET_WIDE_VOLATILE.cpp */
-HANDLE_SGET_X(OP_SGET_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, _WIDE)
+HANDLE_SGET_X(OP_SGET_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, 8, _WIDE)
 OP_END
 
 /* File: c/OP_SPUT_WIDE_VOLATILE.cpp */
-HANDLE_SPUT_X(OP_SPUT_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, _WIDE)
+HANDLE_SPUT_X(OP_SPUT_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, 8, _WIDE)
 OP_END
 
 /* File: c/OP_BREAKPOINT.cpp */
@@ -3003,11 +3027,11 @@ HANDLE_IPUT_X(OP_IPUT_OBJECT_VOLATILE,  "-object-volatile", ObjectVolatile, _AS_
 OP_END
 
 /* File: c/OP_SGET_OBJECT_VOLATILE.cpp */
-HANDLE_SGET_X(OP_SGET_OBJECT_VOLATILE,  "-object-volatile", ObjectVolatile, _AS_OBJECT)
+HANDLE_SGET_X(OP_SGET_OBJECT_VOLATILE,  "-object-volatile", ObjectVolatile, 4, _AS_OBJECT)
 OP_END
 
 /* File: c/OP_SPUT_OBJECT_VOLATILE.cpp */
-HANDLE_SPUT_X(OP_SPUT_OBJECT_VOLATILE,  "-object-volatile", ObjectVolatile, _AS_OBJECT)
+HANDLE_SPUT_X(OP_SPUT_OBJECT_VOLATILE,  "-object-volatile", ObjectVolatile, 4, _AS_OBJECT)
 OP_END
 
 /* File: c/OP_UNUSED_FF.cpp */
@@ -3651,12 +3675,21 @@ GOTO_TARGET(returnFromMethod)
             GOTO_bail();
         }
 
+	uint32_t maddr = (uint32_t)curMethod;
+
         /* update thread FP, and reset local variables */
         self->interpSave.curFrame = fp;
         curMethod = SAVEAREA_FROM_FP(fp)->method;
         self->interpSave.method = curMethod;
-        //methodClass = curMethod->clazz;
+	//methodClass = curMethod->clazz;
         methodClassDex = curMethod->clazz->pDvmDex;
+
+	LOG_WRITE_RET(curMethod, retval.j);
+
+	LOG_METHOD_EXIT_WITH_CHECK(maddr);
+
+	LOG_READ_RET(curMethod, retval.j);
+
         pc = saveArea->savedPc;
         ILOGD("> (return to %s.%s %s)", curMethod->clazz->descriptor,
             curMethod->name, curMethod->shorty);
@@ -3851,8 +3884,12 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
         //printf(" --> %s.%s %s\n", methodToCall->clazz->descriptor,
         //    methodToCall->name, methodToCall->shorty);
 
+//	LOG_METHOD_ENTRANCE((uint32_t)methodToCall, methodToCall->clazz->descriptor, methodToCall->name,
+//			    methodToCall->shorty,dvmIsNativeMethod(methodToCall));
+	
         u4* outs;
         int i;
+	u4 argc;
 
         /*
          * Copy args.  This may corrupt vsrc1/vdst.
@@ -3862,6 +3899,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             // so few args it won't matter much
             assert(vsrc1 <= curMethod->outsSize);
             assert(vsrc1 == methodToCall->insSize);
+	    argc = vsrc1;
             outs = OUTS_FROM_FP(fp, vsrc1);
             for (i = 0; i < vsrc1; i++)
                 outs[i] = GET_REGISTER(vdst+i);
@@ -3873,6 +3911,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             assert(count <= 5);
 
             outs = OUTS_FROM_FP(fp, count);
+	    argc = count;
 #if 0
             if (count == 5) {
                 outs[4] = GET_REGISTER(vsrc1 & 0x0f);
@@ -3902,6 +3941,18 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             }
 #endif
         }
+	{
+//		for(u4 j = 0 ; j < argc ;j++){
+//			LOG_WRITE(OBJ_REGISTER, outs[j], 0, 4);
+//		}
+		LOG_WRITE_PARAM(methodToCall, outs, argc);
+		LOG_METHOD_ENTRANCE((uint32_t)methodToCall, methodToCall->clazz->descriptor, methodToCall->name,
+				methodToCall->shorty,dvmIsNativeMethod(methodToCall));
+//		for(u4 j = 0 ; j < argc ;j++){
+//			LOG_READ(OBJ_REGISTER, outs[j], 0, 4);
+//		}
+		LOG_READ_PARAM(methodToCall,outs,argc);
+	}
     }
 
     /*
@@ -3986,6 +4037,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             pc = methodToCall->insns;
             fp = newFp;
             self->interpSave.curFrame = fp;
+	            
 #ifdef EASY_GDB
             debugSaveArea = SAVEAREA_FROM_FP(newFp);
 #endif
@@ -4000,6 +4052,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
 
             self->interpSave.curFrame = newFp;
 
+
             DUMP_REGS(methodToCall, newFp, true);   // show input args
 
             if (self->interpBreak.ctl.subMode != 0) {
@@ -4009,6 +4062,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             ILOGD("> native <-- %s.%s %s", methodToCall->clazz->descriptor,
                   methodToCall->name, methodToCall->shorty);
 
+
             /*
              * Jump through native call bridge.  Because we leave no
              * space for locals on native calls, "newFp" points directly
@@ -4016,6 +4070,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
              */
             (*methodToCall->nativeFunc)(newFp, &retval, methodToCall, self);
 
+
             if (self->interpBreak.ctl.subMode != 0) {
                 dvmReportPostNativeInvoke(methodToCall, self, newSaveArea->prevFrame);
             }
@@ -4025,16 +4080,29 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             self->interpSave.curFrame = newSaveArea->prevFrame;
             fp = newSaveArea->prevFrame;
 
+	    bool isExceptionThrown = dvmCheckException(self);
+
+	    if(!isExceptionThrown){
+		    LOG_WRITE_RET(methodToCall, retval.j);
+	    }
+
+	    LOG_METHOD_EXIT_WITH_CHECK((uint32_t)methodToCall);
+
+	    if(!isExceptionThrown){
+		    LOG_READ_RET(methodToCall, retval.j);
+	    }
+
             /*
              * If the native code threw an exception, or interpreted code
              * invoked by the native call threw one and nobody has cleared
              * it, jump to our local exception handling.
              */
-            if (dvmCheckException(self)) {
+ //           if (dvmCheckException(self)) {
+	    if(isExceptionThrown){
                 ALOGV("Exception thrown by/below native code");
                 GOTO_exceptionThrown();
-            }
-
+             } 
+		
             ILOGD("> retval=0x%llx (leaving native)", retval.j);
             ILOGD("> (return from native %s.%s to %s.%s %s)",
                 methodToCall->clazz->descriptor, methodToCall->name,
diff --git a/vm/mterp/out/InterpC-armv5te-vfp.cpp b/vm/mterp/out/InterpC-armv5te-vfp.cpp
old mode 100644
new mode 100755
index 9d6b458..97e2e6a
--- a/vm/mterp/out/InterpC-armv5te-vfp.cpp
+++ b/vm/mterp/out/InterpC-armv5te-vfp.cpp
@@ -964,7 +964,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;    /* array ptr */                        \
         vsrc2 = arrayInfo >> 8;      /* index */                            \
         ILOGV("|aget%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -975,6 +978,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         SET_REGISTER##_regsize(vdst,                                        \
             ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)]);      \
         ILOGV("+ AGET[%d]=%#x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));   \
+	LOG_READ(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -989,7 +993,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;   /* BB: array ptr */                     \
         vsrc2 = arrayInfo >> 8;     /* CC: index */                         \
         ILOGV("|aput%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -1000,6 +1007,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         ILOGV("+ APUT[%d]=0x%08x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));\
         ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)] =          \
             GET_REGISTER##_regsize(vdst);                                   \
+        LOG_WRITE(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1030,7 +1038,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iget%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -1043,6 +1052,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             dvmGetField##_ftype(obj, ifield->byteOffset));                  \
         ILOGV("+ IGET '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1055,12 +1065,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iget%s-quick v%d,v%d,field@+%u",                            \
             (_opname), vdst, vsrc1, ref);                                   \
+	u4 objAddr = GET_REGISTER(vsrc1);            \
         obj = (Object*) GET_REGISTER(vsrc1);                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         SET_REGISTER##_regsize(vdst, dvmGetField##_ftype(obj, ref));        \
         ILOGV("+ IGETQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ref,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1074,7 +1086,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iput%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1);  \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -1087,6 +1100,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             GET_REGISTER##_regsize(vdst));                                  \
         ILOGV("+ IPUT '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1099,12 +1113,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iput%s-quick v%d,v%d,field@0x%04x",                         \
             (_opname), vdst, vsrc1, ref);                                   \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         dvmSetField##_ftype(obj, ref, GET_REGISTER##_regsize(vdst));        \
         ILOGV("+ IPUTQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ref, obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1116,7 +1132,7 @@ GOTO_TARGET_DECL(exceptionThrown);
  * This is controlled by the JIT_STUB_HACK maco.
  */
 
-#define HANDLE_SGET_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SGET_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -1133,13 +1149,15 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         SET_REGISTER##_regsize(vdst, dvmGetStaticField##_ftype(sfield));    \
         ILOGV("+ SGET '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_READ(OBJ_STATIC,sfAddr,0, _fsize);\
     }                                                                       \
     FINISH(2);
 
-#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -1156,9 +1174,11 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         dvmSetStaticField##_ftype(sfield, GET_REGISTER##_regsize(vdst));    \
         ILOGV("+ SPUT '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_WRITE(OBJ_STATIC,sfAddr,0,_fsize);\
     }                                                                       \
     FINISH(2);
 
diff --git a/vm/mterp/out/InterpC-armv5te.cpp b/vm/mterp/out/InterpC-armv5te.cpp
old mode 100644
new mode 100755
index 99831b1..70b52ac
--- a/vm/mterp/out/InterpC-armv5te.cpp
+++ b/vm/mterp/out/InterpC-armv5te.cpp
@@ -964,7 +964,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;    /* array ptr */                        \
         vsrc2 = arrayInfo >> 8;      /* index */                            \
         ILOGV("|aget%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -975,6 +978,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         SET_REGISTER##_regsize(vdst,                                        \
             ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)]);      \
         ILOGV("+ AGET[%d]=%#x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));   \
+	LOG_READ(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -989,7 +993,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;   /* BB: array ptr */                     \
         vsrc2 = arrayInfo >> 8;     /* CC: index */                         \
         ILOGV("|aput%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -1000,6 +1007,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         ILOGV("+ APUT[%d]=0x%08x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));\
         ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)] =          \
             GET_REGISTER##_regsize(vdst);                                   \
+        LOG_WRITE(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1030,7 +1038,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iget%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -1043,6 +1052,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             dvmGetField##_ftype(obj, ifield->byteOffset));                  \
         ILOGV("+ IGET '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1055,12 +1065,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iget%s-quick v%d,v%d,field@+%u",                            \
             (_opname), vdst, vsrc1, ref);                                   \
+	u4 objAddr = GET_REGISTER(vsrc1);            \
         obj = (Object*) GET_REGISTER(vsrc1);                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         SET_REGISTER##_regsize(vdst, dvmGetField##_ftype(obj, ref));        \
         ILOGV("+ IGETQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ref,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1074,7 +1086,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iput%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1);  \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -1087,6 +1100,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             GET_REGISTER##_regsize(vdst));                                  \
         ILOGV("+ IPUT '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1099,12 +1113,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iput%s-quick v%d,v%d,field@0x%04x",                         \
             (_opname), vdst, vsrc1, ref);                                   \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         dvmSetField##_ftype(obj, ref, GET_REGISTER##_regsize(vdst));        \
         ILOGV("+ IPUTQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ref, obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1116,7 +1132,7 @@ GOTO_TARGET_DECL(exceptionThrown);
  * This is controlled by the JIT_STUB_HACK maco.
  */
 
-#define HANDLE_SGET_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SGET_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -1133,13 +1149,15 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         SET_REGISTER##_regsize(vdst, dvmGetStaticField##_ftype(sfield));    \
         ILOGV("+ SGET '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_READ(OBJ_STATIC,sfAddr,0, _fsize);\
     }                                                                       \
     FINISH(2);
 
-#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -1156,9 +1174,11 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         dvmSetStaticField##_ftype(sfield, GET_REGISTER##_regsize(vdst));    \
         ILOGV("+ SPUT '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_WRITE(OBJ_STATIC,sfAddr,0,_fsize);\
     }                                                                       \
     FINISH(2);
 
diff --git a/vm/mterp/out/InterpC-armv7-a-neon.cpp b/vm/mterp/out/InterpC-armv7-a-neon.cpp
old mode 100644
new mode 100755
index 7a3434c..5f3496a
--- a/vm/mterp/out/InterpC-armv7-a-neon.cpp
+++ b/vm/mterp/out/InterpC-armv7-a-neon.cpp
@@ -964,7 +964,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;    /* array ptr */                        \
         vsrc2 = arrayInfo >> 8;      /* index */                            \
         ILOGV("|aget%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -975,6 +978,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         SET_REGISTER##_regsize(vdst,                                        \
             ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)]);      \
         ILOGV("+ AGET[%d]=%#x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));   \
+	LOG_READ(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -989,7 +993,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;   /* BB: array ptr */                     \
         vsrc2 = arrayInfo >> 8;     /* CC: index */                         \
         ILOGV("|aput%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -1000,6 +1007,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         ILOGV("+ APUT[%d]=0x%08x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));\
         ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)] =          \
             GET_REGISTER##_regsize(vdst);                                   \
+        LOG_WRITE(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1030,7 +1038,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iget%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -1043,6 +1052,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             dvmGetField##_ftype(obj, ifield->byteOffset));                  \
         ILOGV("+ IGET '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1055,12 +1065,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iget%s-quick v%d,v%d,field@+%u",                            \
             (_opname), vdst, vsrc1, ref);                                   \
+	u4 objAddr = GET_REGISTER(vsrc1);            \
         obj = (Object*) GET_REGISTER(vsrc1);                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         SET_REGISTER##_regsize(vdst, dvmGetField##_ftype(obj, ref));        \
         ILOGV("+ IGETQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ref,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1074,7 +1086,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iput%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1);  \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -1087,6 +1100,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             GET_REGISTER##_regsize(vdst));                                  \
         ILOGV("+ IPUT '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1099,12 +1113,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iput%s-quick v%d,v%d,field@0x%04x",                         \
             (_opname), vdst, vsrc1, ref);                                   \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         dvmSetField##_ftype(obj, ref, GET_REGISTER##_regsize(vdst));        \
         ILOGV("+ IPUTQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ref, obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1116,7 +1132,7 @@ GOTO_TARGET_DECL(exceptionThrown);
  * This is controlled by the JIT_STUB_HACK maco.
  */
 
-#define HANDLE_SGET_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SGET_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -1133,13 +1149,15 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         SET_REGISTER##_regsize(vdst, dvmGetStaticField##_ftype(sfield));    \
         ILOGV("+ SGET '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_READ(OBJ_STATIC,sfAddr,0, _fsize);\
     }                                                                       \
     FINISH(2);
 
-#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -1156,9 +1174,11 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         dvmSetStaticField##_ftype(sfield, GET_REGISTER##_regsize(vdst));    \
         ILOGV("+ SPUT '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_WRITE(OBJ_STATIC,sfAddr,0,_fsize);\
     }                                                                       \
     FINISH(2);
 
diff --git a/vm/mterp/out/InterpC-armv7-a.cpp b/vm/mterp/out/InterpC-armv7-a.cpp
old mode 100644
new mode 100755
index 1dcfb68..4e33364
--- a/vm/mterp/out/InterpC-armv7-a.cpp
+++ b/vm/mterp/out/InterpC-armv7-a.cpp
@@ -964,7 +964,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;    /* array ptr */                        \
         vsrc2 = arrayInfo >> 8;      /* index */                            \
         ILOGV("|aget%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -975,6 +978,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         SET_REGISTER##_regsize(vdst,                                        \
             ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)]);      \
         ILOGV("+ AGET[%d]=%#x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));   \
+	LOG_READ(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -989,7 +993,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;   /* BB: array ptr */                     \
         vsrc2 = arrayInfo >> 8;     /* CC: index */                         \
         ILOGV("|aput%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -1000,6 +1007,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         ILOGV("+ APUT[%d]=0x%08x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));\
         ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)] =          \
             GET_REGISTER##_regsize(vdst);                                   \
+        LOG_WRITE(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1030,7 +1038,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iget%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -1043,6 +1052,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             dvmGetField##_ftype(obj, ifield->byteOffset));                  \
         ILOGV("+ IGET '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1055,12 +1065,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iget%s-quick v%d,v%d,field@+%u",                            \
             (_opname), vdst, vsrc1, ref);                                   \
+	u4 objAddr = GET_REGISTER(vsrc1);            \
         obj = (Object*) GET_REGISTER(vsrc1);                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         SET_REGISTER##_regsize(vdst, dvmGetField##_ftype(obj, ref));        \
         ILOGV("+ IGETQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ref,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1074,7 +1086,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iput%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1);  \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -1087,6 +1100,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             GET_REGISTER##_regsize(vdst));                                  \
         ILOGV("+ IPUT '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1099,12 +1113,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iput%s-quick v%d,v%d,field@0x%04x",                         \
             (_opname), vdst, vsrc1, ref);                                   \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         dvmSetField##_ftype(obj, ref, GET_REGISTER##_regsize(vdst));        \
         ILOGV("+ IPUTQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ref, obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1116,7 +1132,7 @@ GOTO_TARGET_DECL(exceptionThrown);
  * This is controlled by the JIT_STUB_HACK maco.
  */
 
-#define HANDLE_SGET_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SGET_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -1133,13 +1149,15 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         SET_REGISTER##_regsize(vdst, dvmGetStaticField##_ftype(sfield));    \
         ILOGV("+ SGET '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_READ(OBJ_STATIC,sfAddr,0, _fsize);\
     }                                                                       \
     FINISH(2);
 
-#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -1156,9 +1174,11 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         dvmSetStaticField##_ftype(sfield, GET_REGISTER##_regsize(vdst));    \
         ILOGV("+ SPUT '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_WRITE(OBJ_STATIC,sfAddr,0,_fsize);\
     }                                                                       \
     FINISH(2);
 
diff --git a/vm/mterp/out/InterpC-mips.cpp b/vm/mterp/out/InterpC-mips.cpp
old mode 100644
new mode 100755
index 69260da..00f5779
--- a/vm/mterp/out/InterpC-mips.cpp
+++ b/vm/mterp/out/InterpC-mips.cpp
@@ -964,7 +964,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;    /* array ptr */                        \
         vsrc2 = arrayInfo >> 8;      /* index */                            \
         ILOGV("|aget%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -975,6 +978,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         SET_REGISTER##_regsize(vdst,                                        \
             ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)]);      \
         ILOGV("+ AGET[%d]=%#x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));   \
+	LOG_READ(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -989,7 +993,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;   /* BB: array ptr */                     \
         vsrc2 = arrayInfo >> 8;     /* CC: index */                         \
         ILOGV("|aput%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -1000,6 +1007,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         ILOGV("+ APUT[%d]=0x%08x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));\
         ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)] =          \
             GET_REGISTER##_regsize(vdst);                                   \
+        LOG_WRITE(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1030,7 +1038,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iget%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -1043,6 +1052,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             dvmGetField##_ftype(obj, ifield->byteOffset));                  \
         ILOGV("+ IGET '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1055,12 +1065,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iget%s-quick v%d,v%d,field@+%u",                            \
             (_opname), vdst, vsrc1, ref);                                   \
+	u4 objAddr = GET_REGISTER(vsrc1);            \
         obj = (Object*) GET_REGISTER(vsrc1);                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         SET_REGISTER##_regsize(vdst, dvmGetField##_ftype(obj, ref));        \
         ILOGV("+ IGETQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ref,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1074,7 +1086,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iput%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1);  \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -1087,6 +1100,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             GET_REGISTER##_regsize(vdst));                                  \
         ILOGV("+ IPUT '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1099,12 +1113,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iput%s-quick v%d,v%d,field@0x%04x",                         \
             (_opname), vdst, vsrc1, ref);                                   \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         dvmSetField##_ftype(obj, ref, GET_REGISTER##_regsize(vdst));        \
         ILOGV("+ IPUTQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ref, obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1116,7 +1132,7 @@ GOTO_TARGET_DECL(exceptionThrown);
  * This is controlled by the JIT_STUB_HACK maco.
  */
 
-#define HANDLE_SGET_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SGET_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -1133,13 +1149,15 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         SET_REGISTER##_regsize(vdst, dvmGetStaticField##_ftype(sfield));    \
         ILOGV("+ SGET '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_READ(OBJ_STATIC,sfAddr,0, _fsize);\
     }                                                                       \
     FINISH(2);
 
-#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -1156,9 +1174,11 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         dvmSetStaticField##_ftype(sfield, GET_REGISTER##_regsize(vdst));    \
         ILOGV("+ SPUT '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_WRITE(OBJ_STATIC,sfAddr,0,_fsize);\
     }                                                                       \
     FINISH(2);
 
@@ -1756,12 +1776,21 @@ GOTO_TARGET(returnFromMethod)
             GOTO_bail();
         }
 
+	uint32_t maddr = (uint32_t)curMethod;
+
         /* update thread FP, and reset local variables */
         self->interpSave.curFrame = fp;
         curMethod = SAVEAREA_FROM_FP(fp)->method;
         self->interpSave.method = curMethod;
-        //methodClass = curMethod->clazz;
+	//methodClass = curMethod->clazz;
         methodClassDex = curMethod->clazz->pDvmDex;
+
+	LOG_WRITE_RET(curMethod, retval.j);
+
+	LOG_METHOD_EXIT_WITH_CHECK(maddr);
+
+	LOG_READ_RET(curMethod, retval.j);
+
         pc = saveArea->savedPc;
         ILOGD("> (return to %s.%s %s)", curMethod->clazz->descriptor,
             curMethod->name, curMethod->shorty);
@@ -1956,8 +1985,12 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
         //printf(" --> %s.%s %s\n", methodToCall->clazz->descriptor,
         //    methodToCall->name, methodToCall->shorty);
 
+//	LOG_METHOD_ENTRANCE((uint32_t)methodToCall, methodToCall->clazz->descriptor, methodToCall->name,
+//			    methodToCall->shorty,dvmIsNativeMethod(methodToCall));
+	
         u4* outs;
         int i;
+	u4 argc;
 
         /*
          * Copy args.  This may corrupt vsrc1/vdst.
@@ -1967,6 +2000,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             // so few args it won't matter much
             assert(vsrc1 <= curMethod->outsSize);
             assert(vsrc1 == methodToCall->insSize);
+	    argc = vsrc1;
             outs = OUTS_FROM_FP(fp, vsrc1);
             for (i = 0; i < vsrc1; i++)
                 outs[i] = GET_REGISTER(vdst+i);
@@ -1978,6 +2012,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             assert(count <= 5);
 
             outs = OUTS_FROM_FP(fp, count);
+	    argc = count;
 #if 0
             if (count == 5) {
                 outs[4] = GET_REGISTER(vsrc1 & 0x0f);
@@ -2007,6 +2042,18 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             }
 #endif
         }
+	{
+//		for(u4 j = 0 ; j < argc ;j++){
+//			LOG_WRITE(OBJ_REGISTER, outs[j], 0, 4);
+//		}
+		LOG_WRITE_PARAM(methodToCall, outs, argc);
+		LOG_METHOD_ENTRANCE((uint32_t)methodToCall, methodToCall->clazz->descriptor, methodToCall->name,
+				methodToCall->shorty,dvmIsNativeMethod(methodToCall));
+//		for(u4 j = 0 ; j < argc ;j++){
+//			LOG_READ(OBJ_REGISTER, outs[j], 0, 4);
+//		}
+		LOG_READ_PARAM(methodToCall,outs,argc);
+	}
     }
 
     /*
@@ -2091,6 +2138,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             pc = methodToCall->insns;
             fp = newFp;
             self->interpSave.curFrame = fp;
+	            
 #ifdef EASY_GDB
             debugSaveArea = SAVEAREA_FROM_FP(newFp);
 #endif
@@ -2105,6 +2153,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
 
             self->interpSave.curFrame = newFp;
 
+
             DUMP_REGS(methodToCall, newFp, true);   // show input args
 
             if (self->interpBreak.ctl.subMode != 0) {
@@ -2114,6 +2163,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             ILOGD("> native <-- %s.%s %s", methodToCall->clazz->descriptor,
                   methodToCall->name, methodToCall->shorty);
 
+
             /*
              * Jump through native call bridge.  Because we leave no
              * space for locals on native calls, "newFp" points directly
@@ -2121,6 +2171,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
              */
             (*methodToCall->nativeFunc)(newFp, &retval, methodToCall, self);
 
+
             if (self->interpBreak.ctl.subMode != 0) {
                 dvmReportPostNativeInvoke(methodToCall, self, newSaveArea->prevFrame);
             }
@@ -2130,16 +2181,29 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             self->interpSave.curFrame = newSaveArea->prevFrame;
             fp = newSaveArea->prevFrame;
 
+	    bool isExceptionThrown = dvmCheckException(self);
+
+	    if(!isExceptionThrown){
+		    LOG_WRITE_RET(methodToCall, retval.j);
+	    }
+
+	    LOG_METHOD_EXIT_WITH_CHECK((uint32_t)methodToCall);
+
+	    if(!isExceptionThrown){
+		    LOG_READ_RET(methodToCall, retval.j);
+	    }
+
             /*
              * If the native code threw an exception, or interpreted code
              * invoked by the native call threw one and nobody has cleared
              * it, jump to our local exception handling.
              */
-            if (dvmCheckException(self)) {
+ //           if (dvmCheckException(self)) {
+	    if(isExceptionThrown){
                 ALOGV("Exception thrown by/below native code");
                 GOTO_exceptionThrown();
-            }
-
+             } 
+		
             ILOGD("> retval=0x%llx (leaving native)", retval.j);
             ILOGD("> (return from native %s.%s to %s.%s %s)",
                 methodToCall->clazz->descriptor, methodToCall->name,
diff --git a/vm/mterp/out/InterpC-portable.cpp b/vm/mterp/out/InterpC-portable.cpp
old mode 100644
new mode 100755
index 0328aa8..c2fb60c
--- a/vm/mterp/out/InterpC-portable.cpp
+++ b/vm/mterp/out/InterpC-portable.cpp
@@ -411,7 +411,65 @@ static inline bool checkForNullExportPC(Object* obj, u4* fp, const u2* pc)
  * "u2 inst".
  */
 # define H(_op)             &&op_##_op
-# define HANDLE_OPCODE(_op) op_##_op:
+# define HANDLE_OPCODE(_op) op_##_op: \
+	if(gDvm.isInstrSetupComplete && !self->isLogDone){\
+		if(gDvm.feature == FEATURE_COUNT){\
+			if(!self->hasStarted){\
+				self->hasStarted = true;\
+				self->startTime = getThreadTime();\
+			}\
+			self->instrCount = safeIncre(self->instrCount);\
+			if(gDvm.isBoundHit){ \
+				u4 ct = getThreadTime();\
+				ALOGD("TIME MODEL. uid: %u, feature: %u, dalvik thread id: %u, posix thread id: %d, instruction count: %u, method count: %u,total time %u",gDvm.targetInstrUID, gDvm.feature, self->threadId, self->systemTid, self->instrCount, self->methodCount, ct - self->startTime);\
+				self->isLogDone = true; \
+			}\
+		}\
+		else if(gDvm.feature == FEATURE_TIME){			      \
+			/*self->instrCount++;*/\
+			if(!self->hasStarted){\
+				self->hasStarted = true;\
+				self->startTime = getThreadTime();\
+			}\
+			self->instrCount = safeIncre(self->instrCount);\
+			if(curMethod !=NULL){\
+				Method* topM = self->topMethod;\
+				if(topM != curMethod){\
+					LOGX("TraceDebug: method entry or return missing in thread %u for instruction %s", self->systemTid, #_op);	\
+					LOGX("TraceDebug: %u currentMethod is %s.%s(%s)",self->systemTid, curMethod->clazz->descriptor,curMethod->name,curMethod->shorty); \
+					if(topM != NULL){\
+					LOGX("TraceDebug: %u topMethod is %s.%s(%s)", self->systemTid, topM->clazz->descriptor,topM->name,topM->shorty);}\
+					else{\
+						LOGX("TraceDebug: topMethod is null");	\
+					}\
+					FIX_STACK(self); \
+				}\
+			}\
+			if(gDvm.isBoundHit){ \
+				updateTotalTime();\
+				u4 ct = getThreadTime();\
+				ALOGD("TIME MODEL. uid: %u, feature: %u, dalvik thread id: %u, posix thread id: %d, instruction count: %u, method count: %u, java time: %u, total time %u", gDvm.targetInstrUID, gDvm.feature, self->threadId, self->systemTid, self->instrCount, self->methodCount, self->interpTotalTime, ct - self->startTime);\
+				self->isLogDone = true; \
+			}\
+		}\
+		else if(gDvm.feature==FEATURE_TRACE){\
+			self->instrCount = safeIncre(self->instrCount);\
+			if(curMethod !=NULL){\
+				Method* topM = self->topMethod;\
+				if(topM != curMethod){\
+					LOGX("TraceDebug: method entry or return missing in thread %u for instruction %s", self->systemTid, #_op);	\
+					LOGX("TraceDebug: %u currentMethod is %s.%s(%s)",self->systemTid, curMethod->clazz->descriptor,curMethod->name,curMethod->shorty); \
+					if(topM != NULL){\
+					LOGX("TraceDebug: %u topMethod is %s.%s(%s)", self->systemTid, topM->clazz->descriptor,topM->name,topM->shorty);}\
+					else{\
+						LOGX("TraceDebug: topMethod is null");	\
+					}\
+					FIX_STACK(self); \
+				}\
+			}\
+			\
+		}\
+	}
 # define FINISH(_offset) {                                                  \
         ADJUST_PC(_offset);                                                 \
         inst = FETCH(0);                                                    \
@@ -910,7 +968,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;    /* array ptr */                        \
         vsrc2 = arrayInfo >> 8;      /* index */                            \
         ILOGV("|aget%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -921,6 +982,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         SET_REGISTER##_regsize(vdst,                                        \
             ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)]);      \
         ILOGV("+ AGET[%d]=%#x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));   \
+	LOG_READ(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -935,7 +997,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;   /* BB: array ptr */                     \
         vsrc2 = arrayInfo >> 8;     /* CC: index */                         \
         ILOGV("|aput%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -946,6 +1011,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         ILOGV("+ APUT[%d]=0x%08x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));\
         ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)] =          \
             GET_REGISTER##_regsize(vdst);                                   \
+        LOG_WRITE(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -976,7 +1042,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iget%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -989,6 +1056,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             dvmGetField##_ftype(obj, ifield->byteOffset));                  \
         ILOGV("+ IGET '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1001,12 +1069,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iget%s-quick v%d,v%d,field@+%u",                            \
             (_opname), vdst, vsrc1, ref);                                   \
+	u4 objAddr = GET_REGISTER(vsrc1);            \
         obj = (Object*) GET_REGISTER(vsrc1);                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         SET_REGISTER##_regsize(vdst, dvmGetField##_ftype(obj, ref));        \
         ILOGV("+ IGETQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ref,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1020,7 +1090,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iput%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1);  \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -1033,6 +1104,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             GET_REGISTER##_regsize(vdst));                                  \
         ILOGV("+ IPUT '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1045,12 +1117,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iput%s-quick v%d,v%d,field@0x%04x",                         \
             (_opname), vdst, vsrc1, ref);                                   \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         dvmSetField##_ftype(obj, ref, GET_REGISTER##_regsize(vdst));        \
         ILOGV("+ IPUTQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ref, obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1062,7 +1136,7 @@ GOTO_TARGET_DECL(exceptionThrown);
  * This is controlled by the JIT_STUB_HACK maco.
  */
 
-#define HANDLE_SGET_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SGET_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -1079,13 +1153,15 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         SET_REGISTER##_regsize(vdst, dvmGetStaticField##_ftype(sfield));    \
         ILOGV("+ SGET '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_READ(OBJ_STATIC,sfAddr,0, _fsize);\
     }                                                                       \
     FINISH(2);
 
-#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -1102,9 +1178,11 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         dvmSetStaticField##_ftype(sfield, GET_REGISTER##_regsize(vdst));    \
         ILOGV("+ SPUT '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_WRITE(OBJ_STATIC,sfAddr,0,_fsize);\
     }                                                                       \
     FINISH(2);
 
@@ -1692,6 +1770,7 @@ HANDLE_OPCODE(OP_NEW_INSTANCE /*vAA, class@BBBB*/)
         if (newObj == NULL)
             GOTO_exceptionThrown();
         SET_REGISTER(vdst, (u4) newObj);
+//	LOG_ALLOC((u4) newObj, clazz->objectSize);
     }
     FINISH(2);
 OP_END
@@ -1726,9 +1805,12 @@ HANDLE_OPCODE(OP_NEW_ARRAY /*vA, vB, class@CCCC*/)
         assert(dvmIsClassInitialized(arrayClass));
 
         newArray = dvmAllocArrayByClass(arrayClass, length, ALLOC_DONT_TRACK);
+/*	u4 objAddr = (u4)newArray; */
         if (newArray == NULL)
             GOTO_exceptionThrown();
         SET_REGISTER(vdst, (u4) newArray);
+/*	u4 objSize = dvmArrayObjectSize(newArray);*/
+/*	LOG_ALLOC(objAddr,objSize); */
     }
     FINISH(2);
 OP_END
@@ -2158,59 +2240,59 @@ HANDLE_IPUT_X(OP_IPUT_SHORT,            "", Int, )
 OP_END
 
 /* File: c/OP_SGET.cpp */
-HANDLE_SGET_X(OP_SGET,                  "", Int, )
+HANDLE_SGET_X(OP_SGET,                  "", Int, 4,)
 OP_END
 
 /* File: c/OP_SGET_WIDE.cpp */
-HANDLE_SGET_X(OP_SGET_WIDE,             "-wide", Long, _WIDE)
+HANDLE_SGET_X(OP_SGET_WIDE,             "-wide", Long, 8, _WIDE)
 OP_END
 
 /* File: c/OP_SGET_OBJECT.cpp */
-HANDLE_SGET_X(OP_SGET_OBJECT,           "-object", Object, _AS_OBJECT)
+HANDLE_SGET_X(OP_SGET_OBJECT,           "-object", Object,4, _AS_OBJECT)
 OP_END
 
 /* File: c/OP_SGET_BOOLEAN.cpp */
-HANDLE_SGET_X(OP_SGET_BOOLEAN,          "", Int, )
+HANDLE_SGET_X(OP_SGET_BOOLEAN,          "", Int,1, )
 OP_END
 
 /* File: c/OP_SGET_BYTE.cpp */
-HANDLE_SGET_X(OP_SGET_BYTE,             "", Int, )
+HANDLE_SGET_X(OP_SGET_BYTE,             "", Int, 1,)
 OP_END
 
 /* File: c/OP_SGET_CHAR.cpp */
-HANDLE_SGET_X(OP_SGET_CHAR,             "", Int, )
+HANDLE_SGET_X(OP_SGET_CHAR,             "", Int, 2,)
 OP_END
 
 /* File: c/OP_SGET_SHORT.cpp */
-HANDLE_SGET_X(OP_SGET_SHORT,            "", Int, )
+HANDLE_SGET_X(OP_SGET_SHORT,            "", Int,2, )
 OP_END
 
 /* File: c/OP_SPUT.cpp */
-HANDLE_SPUT_X(OP_SPUT,                  "", Int, )
+HANDLE_SPUT_X(OP_SPUT,                  "", Int, 4, )
 OP_END
 
 /* File: c/OP_SPUT_WIDE.cpp */
-HANDLE_SPUT_X(OP_SPUT_WIDE,             "-wide", Long, _WIDE)
+HANDLE_SPUT_X(OP_SPUT_WIDE,             "-wide", Long, 8, _WIDE)
 OP_END
 
 /* File: c/OP_SPUT_OBJECT.cpp */
-HANDLE_SPUT_X(OP_SPUT_OBJECT,           "-object", Object, _AS_OBJECT)
+HANDLE_SPUT_X(OP_SPUT_OBJECT,           "-object", Object, 4, _AS_OBJECT)
 OP_END
 
 /* File: c/OP_SPUT_BOOLEAN.cpp */
-HANDLE_SPUT_X(OP_SPUT_BOOLEAN,          "", Int, )
+HANDLE_SPUT_X(OP_SPUT_BOOLEAN,          "", Int,1, )
 OP_END
 
 /* File: c/OP_SPUT_BYTE.cpp */
-HANDLE_SPUT_X(OP_SPUT_BYTE,             "", Int, )
+HANDLE_SPUT_X(OP_SPUT_BYTE,             "", Int, 1, )
 OP_END
 
 /* File: c/OP_SPUT_CHAR.cpp */
-HANDLE_SPUT_X(OP_SPUT_CHAR,             "", Int, )
+HANDLE_SPUT_X(OP_SPUT_CHAR,             "", Int, 2, )
 OP_END
 
 /* File: c/OP_SPUT_SHORT.cpp */
-HANDLE_SPUT_X(OP_SPUT_SHORT,            "", Int, )
+HANDLE_SPUT_X(OP_SPUT_SHORT,            "", Int, 2, )
 OP_END
 
 /* File: c/OP_INVOKE_VIRTUAL.cpp */
@@ -2756,11 +2838,11 @@ HANDLE_IPUT_X(OP_IPUT_VOLATILE,         "-volatile", IntVolatile, )
 OP_END
 
 /* File: c/OP_SGET_VOLATILE.cpp */
-HANDLE_SGET_X(OP_SGET_VOLATILE,         "-volatile", IntVolatile, )
+HANDLE_SGET_X(OP_SGET_VOLATILE,         "-volatile", IntVolatile, 4,)
 OP_END
 
 /* File: c/OP_SPUT_VOLATILE.cpp */
-HANDLE_SPUT_X(OP_SPUT_VOLATILE,         "-volatile", IntVolatile, )
+HANDLE_SPUT_X(OP_SPUT_VOLATILE,         "-volatile", IntVolatile, 4, )
 OP_END
 
 /* File: c/OP_IGET_OBJECT_VOLATILE.cpp */
@@ -2776,11 +2858,11 @@ HANDLE_IPUT_X(OP_IPUT_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, _WIDE)
 OP_END
 
 /* File: c/OP_SGET_WIDE_VOLATILE.cpp */
-HANDLE_SGET_X(OP_SGET_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, _WIDE)
+HANDLE_SGET_X(OP_SGET_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, 8, _WIDE)
 OP_END
 
 /* File: c/OP_SPUT_WIDE_VOLATILE.cpp */
-HANDLE_SPUT_X(OP_SPUT_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, _WIDE)
+HANDLE_SPUT_X(OP_SPUT_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, 8, _WIDE)
 OP_END
 
 /* File: c/OP_BREAKPOINT.cpp */
@@ -3014,11 +3096,11 @@ HANDLE_IPUT_X(OP_IPUT_OBJECT_VOLATILE,  "-object-volatile", ObjectVolatile, _AS_
 OP_END
 
 /* File: c/OP_SGET_OBJECT_VOLATILE.cpp */
-HANDLE_SGET_X(OP_SGET_OBJECT_VOLATILE,  "-object-volatile", ObjectVolatile, _AS_OBJECT)
+HANDLE_SGET_X(OP_SGET_OBJECT_VOLATILE,  "-object-volatile", ObjectVolatile, 4, _AS_OBJECT)
 OP_END
 
 /* File: c/OP_SPUT_OBJECT_VOLATILE.cpp */
-HANDLE_SPUT_X(OP_SPUT_OBJECT_VOLATILE,  "-object-volatile", ObjectVolatile, _AS_OBJECT)
+HANDLE_SPUT_X(OP_SPUT_OBJECT_VOLATILE,  "-object-volatile", ObjectVolatile, 4, _AS_OBJECT)
 OP_END
 
 /* File: c/OP_UNUSED_FF.cpp */
@@ -3599,12 +3681,21 @@ GOTO_TARGET(returnFromMethod)
             GOTO_bail();
         }
 
+	uint32_t maddr = (uint32_t)curMethod;
+
         /* update thread FP, and reset local variables */
         self->interpSave.curFrame = fp;
         curMethod = SAVEAREA_FROM_FP(fp)->method;
         self->interpSave.method = curMethod;
-        //methodClass = curMethod->clazz;
+	//methodClass = curMethod->clazz;
         methodClassDex = curMethod->clazz->pDvmDex;
+
+	LOG_WRITE_RET(curMethod, retval.j);
+
+	LOG_METHOD_EXIT_WITH_CHECK(maddr);
+
+	LOG_READ_RET(curMethod, retval.j);
+
         pc = saveArea->savedPc;
         ILOGD("> (return to %s.%s %s)", curMethod->clazz->descriptor,
             curMethod->name, curMethod->shorty);
@@ -3799,8 +3890,12 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
         //printf(" --> %s.%s %s\n", methodToCall->clazz->descriptor,
         //    methodToCall->name, methodToCall->shorty);
 
+//	LOG_METHOD_ENTRANCE((uint32_t)methodToCall, methodToCall->clazz->descriptor, methodToCall->name,
+//			    methodToCall->shorty,dvmIsNativeMethod(methodToCall));
+	
         u4* outs;
         int i;
+	u4 argc;
 
         /*
          * Copy args.  This may corrupt vsrc1/vdst.
@@ -3810,6 +3905,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             // so few args it won't matter much
             assert(vsrc1 <= curMethod->outsSize);
             assert(vsrc1 == methodToCall->insSize);
+	    argc = vsrc1;
             outs = OUTS_FROM_FP(fp, vsrc1);
             for (i = 0; i < vsrc1; i++)
                 outs[i] = GET_REGISTER(vdst+i);
@@ -3821,6 +3917,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             assert(count <= 5);
 
             outs = OUTS_FROM_FP(fp, count);
+	    argc = count;
 #if 0
             if (count == 5) {
                 outs[4] = GET_REGISTER(vsrc1 & 0x0f);
@@ -3850,6 +3947,18 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             }
 #endif
         }
+	{
+//		for(u4 j = 0 ; j < argc ;j++){
+//			LOG_WRITE(OBJ_REGISTER, outs[j], 0, 4);
+//		}
+		LOG_WRITE_PARAM(methodToCall, outs, argc);
+		LOG_METHOD_ENTRANCE((uint32_t)methodToCall, methodToCall->clazz->descriptor, methodToCall->name,
+				methodToCall->shorty,dvmIsNativeMethod(methodToCall));
+//		for(u4 j = 0 ; j < argc ;j++){
+//			LOG_READ(OBJ_REGISTER, outs[j], 0, 4);
+//		}
+		LOG_READ_PARAM(methodToCall,outs,argc);
+	}
     }
 
     /*
@@ -3934,6 +4043,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             pc = methodToCall->insns;
             fp = newFp;
             self->interpSave.curFrame = fp;
+	            
 #ifdef EASY_GDB
             debugSaveArea = SAVEAREA_FROM_FP(newFp);
 #endif
@@ -3948,6 +4058,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
 
             self->interpSave.curFrame = newFp;
 
+
             DUMP_REGS(methodToCall, newFp, true);   // show input args
 
             if (self->interpBreak.ctl.subMode != 0) {
@@ -3957,6 +4068,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             ILOGD("> native <-- %s.%s %s", methodToCall->clazz->descriptor,
                   methodToCall->name, methodToCall->shorty);
 
+
             /*
              * Jump through native call bridge.  Because we leave no
              * space for locals on native calls, "newFp" points directly
@@ -3964,6 +4076,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
              */
             (*methodToCall->nativeFunc)(newFp, &retval, methodToCall, self);
 
+
             if (self->interpBreak.ctl.subMode != 0) {
                 dvmReportPostNativeInvoke(methodToCall, self, newSaveArea->prevFrame);
             }
@@ -3973,16 +4086,29 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             self->interpSave.curFrame = newSaveArea->prevFrame;
             fp = newSaveArea->prevFrame;
 
+	    bool isExceptionThrown = dvmCheckException(self);
+
+	    if(!isExceptionThrown){
+		    LOG_WRITE_RET(methodToCall, retval.j);
+	    }
+
+	    LOG_METHOD_EXIT_WITH_CHECK((uint32_t)methodToCall);
+
+	    if(!isExceptionThrown){
+		    LOG_READ_RET(methodToCall, retval.j);
+	    }
+
             /*
              * If the native code threw an exception, or interpreted code
              * invoked by the native call threw one and nobody has cleared
              * it, jump to our local exception handling.
              */
-            if (dvmCheckException(self)) {
+ //           if (dvmCheckException(self)) {
+	    if(isExceptionThrown){
                 ALOGV("Exception thrown by/below native code");
                 GOTO_exceptionThrown();
-            }
-
+             } 
+		
             ILOGD("> retval=0x%llx (leaving native)", retval.j);
             ILOGD("> (return from native %s.%s to %s.%s %s)",
                 methodToCall->clazz->descriptor, methodToCall->name,
diff --git a/vm/mterp/out/InterpC-x86.cpp b/vm/mterp/out/InterpC-x86.cpp
old mode 100644
new mode 100755
index 77dc888..ea7478e
--- a/vm/mterp/out/InterpC-x86.cpp
+++ b/vm/mterp/out/InterpC-x86.cpp
@@ -964,7 +964,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;    /* array ptr */                        \
         vsrc2 = arrayInfo >> 8;      /* index */                            \
         ILOGV("|aget%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -975,6 +978,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         SET_REGISTER##_regsize(vdst,                                        \
             ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)]);      \
         ILOGV("+ AGET[%d]=%#x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));   \
+	LOG_READ(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -989,7 +993,10 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = arrayInfo & 0xff;   /* BB: array ptr */                     \
         vsrc2 = arrayInfo >> 8;     /* CC: index */                         \
         ILOGV("|aput%s v%d,v%d,v%d", (_opname), vdst, vsrc1, vsrc2);        \
-        arrayObj = (ArrayObject*) GET_REGISTER(vsrc1);                      \
+	u4 objAddr = GET_REGISTER(vsrc1);\
+	u4 arrIdx = GET_REGISTER(vsrc2);\
+        arrayObj = (ArrayObject*) objAddr;                      \
+	u4 objSize = dvmArrayObjectSize(arrayObj);\
         if (!checkForNull((Object*) arrayObj))                              \
             GOTO_exceptionThrown();                                         \
         if (GET_REGISTER(vsrc2) >= arrayObj->length) {                      \
@@ -1000,6 +1007,7 @@ GOTO_TARGET_DECL(exceptionThrown);
         ILOGV("+ APUT[%d]=0x%08x", GET_REGISTER(vsrc2), GET_REGISTER(vdst));\
         ((_type*)(void*)arrayObj->contents)[GET_REGISTER(vsrc2)] =          \
             GET_REGISTER##_regsize(vdst);                                   \
+        LOG_WRITE(OBJ_ARRAY,objAddr,arrIdx*sizeof(_type),objSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1030,7 +1038,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iget%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -1043,6 +1052,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             dvmGetField##_ftype(obj, ifield->byteOffset));                  \
         ILOGV("+ IGET '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1055,12 +1065,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iget%s-quick v%d,v%d,field@+%u",                            \
             (_opname), vdst, vsrc1, ref);                                   \
+	u4 objAddr = GET_REGISTER(vsrc1);            \
         obj = (Object*) GET_REGISTER(vsrc1);                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         SET_REGISTER##_regsize(vdst, dvmGetField##_ftype(obj, ref));        \
         ILOGV("+ IGETQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_READ(OBJ_REF,objAddr,ref,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1074,7 +1086,8 @@ GOTO_TARGET_DECL(exceptionThrown);
         vsrc1 = INST_B(inst);   /* object ptr */                            \
         ref = FETCH(1);         /* field ref */                             \
         ILOGV("|iput%s v%d,v%d,field@0x%04x", (_opname), vdst, vsrc1, ref); \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1);  \
+        obj = (Object*) objAddr;                                \
         if (!checkForNull(obj))                                             \
             GOTO_exceptionThrown();                                         \
         ifield = (InstField*) dvmDexGetResolvedField(methodClassDex, ref);  \
@@ -1087,6 +1100,7 @@ GOTO_TARGET_DECL(exceptionThrown);
             GET_REGISTER##_regsize(vdst));                                  \
         ILOGV("+ IPUT '%s'=0x%08llx", ifield->name,                         \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ifield->byteOffset,obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1099,12 +1113,14 @@ GOTO_TARGET_DECL(exceptionThrown);
         ref = FETCH(1);         /* field offset */                          \
         ILOGV("|iput%s-quick v%d,v%d,field@0x%04x",                         \
             (_opname), vdst, vsrc1, ref);                                   \
-        obj = (Object*) GET_REGISTER(vsrc1);                                \
+	u4 objAddr = GET_REGISTER(vsrc1); \
+        obj = (Object*) objAddr;                                \
         if (!checkForNullExportPC(obj, fp, pc))                             \
             GOTO_exceptionThrown();                                         \
         dvmSetField##_ftype(obj, ref, GET_REGISTER##_regsize(vdst));        \
         ILOGV("+ IPUTQ %d=0x%08llx", ref,                                   \
             (u8) GET_REGISTER##_regsize(vdst));                             \
+	LOG_WRITE(OBJ_REF,objAddr,ref, obj->clazz->objectSize);\
     }                                                                       \
     FINISH(2);
 
@@ -1116,7 +1132,7 @@ GOTO_TARGET_DECL(exceptionThrown);
  * This is controlled by the JIT_STUB_HACK maco.
  */
 
-#define HANDLE_SGET_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SGET_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -1133,13 +1149,15 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         SET_REGISTER##_regsize(vdst, dvmGetStaticField##_ftype(sfield));    \
         ILOGV("+ SGET '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_READ(OBJ_STATIC,sfAddr,0, _fsize);\
     }                                                                       \
     FINISH(2);
 
-#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _regsize)                   \
+#define HANDLE_SPUT_X(_opcode, _opname, _ftype, _fsize, _regsize)           \
     HANDLE_OPCODE(_opcode /*vAA, field@BBBB*/)                              \
     {                                                                       \
         StaticField* sfield;                                                \
@@ -1156,9 +1174,11 @@ GOTO_TARGET_DECL(exceptionThrown);
                 JIT_STUB_HACK(dvmJitEndTraceSelect(self,pc));               \
             }                                                               \
         }                                                                   \
+	u4 sfAddr = (u4)sfield;\
         dvmSetStaticField##_ftype(sfield, GET_REGISTER##_regsize(vdst));    \
         ILOGV("+ SPUT '%s'=0x%08llx",                                       \
             sfield->name, (u8)GET_REGISTER##_regsize(vdst));                \
+	LOG_WRITE(OBJ_STATIC,sfAddr,0,_fsize);\
     }                                                                       \
     FINISH(2);
 
@@ -1171,11 +1191,11 @@ HANDLE_IPUT_X(OP_IPUT_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, _WIDE)
 OP_END
 
 /* File: c/OP_SGET_WIDE_VOLATILE.cpp */
-HANDLE_SGET_X(OP_SGET_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, _WIDE)
+HANDLE_SGET_X(OP_SGET_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, 8, _WIDE)
 OP_END
 
 /* File: c/OP_SPUT_WIDE_VOLATILE.cpp */
-HANDLE_SPUT_X(OP_SPUT_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, _WIDE)
+HANDLE_SPUT_X(OP_SPUT_WIDE_VOLATILE,    "-wide-volatile", LongVolatile, 8, _WIDE)
 OP_END
 
 /* File: c/OP_EXECUTE_INLINE_RANGE.cpp */
@@ -1832,12 +1852,21 @@ GOTO_TARGET(returnFromMethod)
             GOTO_bail();
         }
 
+	uint32_t maddr = (uint32_t)curMethod;
+
         /* update thread FP, and reset local variables */
         self->interpSave.curFrame = fp;
         curMethod = SAVEAREA_FROM_FP(fp)->method;
         self->interpSave.method = curMethod;
-        //methodClass = curMethod->clazz;
+	//methodClass = curMethod->clazz;
         methodClassDex = curMethod->clazz->pDvmDex;
+
+	LOG_WRITE_RET(curMethod, retval.j);
+
+	LOG_METHOD_EXIT_WITH_CHECK(maddr);
+
+	LOG_READ_RET(curMethod, retval.j);
+
         pc = saveArea->savedPc;
         ILOGD("> (return to %s.%s %s)", curMethod->clazz->descriptor,
             curMethod->name, curMethod->shorty);
@@ -2032,8 +2061,12 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
         //printf(" --> %s.%s %s\n", methodToCall->clazz->descriptor,
         //    methodToCall->name, methodToCall->shorty);
 
+//	LOG_METHOD_ENTRANCE((uint32_t)methodToCall, methodToCall->clazz->descriptor, methodToCall->name,
+//			    methodToCall->shorty,dvmIsNativeMethod(methodToCall));
+	
         u4* outs;
         int i;
+	u4 argc;
 
         /*
          * Copy args.  This may corrupt vsrc1/vdst.
@@ -2043,6 +2076,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             // so few args it won't matter much
             assert(vsrc1 <= curMethod->outsSize);
             assert(vsrc1 == methodToCall->insSize);
+	    argc = vsrc1;
             outs = OUTS_FROM_FP(fp, vsrc1);
             for (i = 0; i < vsrc1; i++)
                 outs[i] = GET_REGISTER(vdst+i);
@@ -2054,6 +2088,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             assert(count <= 5);
 
             outs = OUTS_FROM_FP(fp, count);
+	    argc = count;
 #if 0
             if (count == 5) {
                 outs[4] = GET_REGISTER(vsrc1 & 0x0f);
@@ -2083,6 +2118,18 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             }
 #endif
         }
+	{
+//		for(u4 j = 0 ; j < argc ;j++){
+//			LOG_WRITE(OBJ_REGISTER, outs[j], 0, 4);
+//		}
+		LOG_WRITE_PARAM(methodToCall, outs, argc);
+		LOG_METHOD_ENTRANCE((uint32_t)methodToCall, methodToCall->clazz->descriptor, methodToCall->name,
+				methodToCall->shorty,dvmIsNativeMethod(methodToCall));
+//		for(u4 j = 0 ; j < argc ;j++){
+//			LOG_READ(OBJ_REGISTER, outs[j], 0, 4);
+//		}
+		LOG_READ_PARAM(methodToCall,outs,argc);
+	}
     }
 
     /*
@@ -2167,6 +2214,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             pc = methodToCall->insns;
             fp = newFp;
             self->interpSave.curFrame = fp;
+	            
 #ifdef EASY_GDB
             debugSaveArea = SAVEAREA_FROM_FP(newFp);
 #endif
@@ -2181,6 +2229,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
 
             self->interpSave.curFrame = newFp;
 
+
             DUMP_REGS(methodToCall, newFp, true);   // show input args
 
             if (self->interpBreak.ctl.subMode != 0) {
@@ -2190,6 +2239,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             ILOGD("> native <-- %s.%s %s", methodToCall->clazz->descriptor,
                   methodToCall->name, methodToCall->shorty);
 
+
             /*
              * Jump through native call bridge.  Because we leave no
              * space for locals on native calls, "newFp" points directly
@@ -2197,6 +2247,7 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
              */
             (*methodToCall->nativeFunc)(newFp, &retval, methodToCall, self);
 
+
             if (self->interpBreak.ctl.subMode != 0) {
                 dvmReportPostNativeInvoke(methodToCall, self, newSaveArea->prevFrame);
             }
@@ -2206,16 +2257,29 @@ GOTO_TARGET(invokeMethod, bool methodCallRange, const Method* _methodToCall,
             self->interpSave.curFrame = newSaveArea->prevFrame;
             fp = newSaveArea->prevFrame;
 
+	    bool isExceptionThrown = dvmCheckException(self);
+
+	    if(!isExceptionThrown){
+		    LOG_WRITE_RET(methodToCall, retval.j);
+	    }
+
+	    LOG_METHOD_EXIT_WITH_CHECK((uint32_t)methodToCall);
+
+	    if(!isExceptionThrown){
+		    LOG_READ_RET(methodToCall, retval.j);
+	    }
+
             /*
              * If the native code threw an exception, or interpreted code
              * invoked by the native call threw one and nobody has cleared
              * it, jump to our local exception handling.
              */
-            if (dvmCheckException(self)) {
+ //           if (dvmCheckException(self)) {
+	    if(isExceptionThrown){
                 ALOGV("Exception thrown by/below native code");
                 GOTO_exceptionThrown();
-            }
-
+             } 
+		
             ILOGD("> retval=0x%llx (leaving native)", retval.j);
             ILOGD("> (return from native %s.%s to %s.%s %s)",
                 methodToCall->clazz->descriptor, methodToCall->name,
diff --git a/vm/mterp/portable/enddefs.cpp b/vm/mterp/portable/enddefs.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/portable/entry.cpp b/vm/mterp/portable/entry.cpp
old mode 100644
new mode 100755
diff --git a/vm/mterp/portable/stubdefs.cpp b/vm/mterp/portable/stubdefs.cpp
old mode 100644
new mode 100755
index 015057e..166607a
--- a/vm/mterp/portable/stubdefs.cpp
+++ b/vm/mterp/portable/stubdefs.cpp
@@ -33,7 +33,65 @@
  * "u2 inst".
  */
 # define H(_op)             &&op_##_op
-# define HANDLE_OPCODE(_op) op_##_op:
+# define HANDLE_OPCODE(_op) op_##_op: \
+	if(gDvm.isInstrSetupComplete && !self->isLogDone){\
+		if(gDvm.feature == FEATURE_COUNT){\
+			if(!self->hasStarted){\
+				self->hasStarted = true;\
+				self->startTime = getThreadTime();\
+			}\
+			self->instrCount = safeIncre(self->instrCount);\
+			if(gDvm.isBoundHit){ \
+				u4 ct = getThreadTime();\
+				ALOGD("TIME MODEL. uid: %u, feature: %u, dalvik thread id: %u, posix thread id: %d, instruction count: %u, method count: %u,total time %u",gDvm.targetInstrUID, gDvm.feature, self->threadId, self->systemTid, self->instrCount, self->methodCount, ct - self->startTime);\
+				self->isLogDone = true; \
+			}\
+		}\
+		else if(gDvm.feature == FEATURE_TIME){			      \
+			/*self->instrCount++;*/\
+			if(!self->hasStarted){\
+				self->hasStarted = true;\
+				self->startTime = getThreadTime();\
+			}\
+			self->instrCount = safeIncre(self->instrCount);\
+			if(curMethod !=NULL){\
+				Method* topM = self->topMethod;\
+				if(topM != curMethod){\
+					LOGX("TraceDebug: method entry or return missing in thread %u for instruction %s", self->systemTid, #_op);	\
+					LOGX("TraceDebug: %u currentMethod is %s.%s(%s)",self->systemTid, curMethod->clazz->descriptor,curMethod->name,curMethod->shorty); \
+					if(topM != NULL){\
+					LOGX("TraceDebug: %u topMethod is %s.%s(%s)", self->systemTid, topM->clazz->descriptor,topM->name,topM->shorty);}\
+					else{\
+						LOGX("TraceDebug: topMethod is null");	\
+					}\
+					FIX_STACK(self); \
+				}\
+			}\
+			if(gDvm.isBoundHit){ \
+				updateTotalTime();\
+				u4 ct = getThreadTime();\
+				ALOGD("TIME MODEL. uid: %u, feature: %u, dalvik thread id: %u, posix thread id: %d, instruction count: %u, method count: %u, java time: %u, total time %u", gDvm.targetInstrUID, gDvm.feature, self->threadId, self->systemTid, self->instrCount, self->methodCount, self->interpTotalTime, ct - self->startTime);\
+				self->isLogDone = true; \
+			}\
+		}\
+		else if(gDvm.feature==FEATURE_TRACE){\
+			self->instrCount = safeIncre(self->instrCount);\
+			if(curMethod !=NULL){\
+				Method* topM = self->topMethod;\
+				if(topM != curMethod){\
+					LOGX("TraceDebug: method entry or return missing in thread %u for instruction %s", self->systemTid, #_op);	\
+					LOGX("TraceDebug: %u currentMethod is %s.%s(%s)",self->systemTid, curMethod->clazz->descriptor,curMethod->name,curMethod->shorty); \
+					if(topM != NULL){\
+					LOGX("TraceDebug: %u topMethod is %s.%s(%s)", self->systemTid, topM->clazz->descriptor,topM->name,topM->shorty);}\
+					else{\
+						LOGX("TraceDebug: topMethod is null");	\
+					}\
+					FIX_STACK(self); \
+				}\
+			}\
+			\
+		}\
+	}
 # define FINISH(_offset) {                                                  \
         ADJUST_PC(_offset);                                                 \
         inst = FETCH(0);                                                    \
diff --git a/vm/mterp/x86/OP_ADD_DOUBLE.S b/vm/mterp/x86/OP_ADD_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_ADD_DOUBLE_2ADDR.S b/vm/mterp/x86/OP_ADD_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_ADD_FLOAT.S b/vm/mterp/x86/OP_ADD_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_ADD_FLOAT_2ADDR.S b/vm/mterp/x86/OP_ADD_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_ADD_INT.S b/vm/mterp/x86/OP_ADD_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_ADD_INT_2ADDR.S b/vm/mterp/x86/OP_ADD_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_ADD_INT_LIT16.S b/vm/mterp/x86/OP_ADD_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_ADD_INT_LIT8.S b/vm/mterp/x86/OP_ADD_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_ADD_LONG.S b/vm/mterp/x86/OP_ADD_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_ADD_LONG_2ADDR.S b/vm/mterp/x86/OP_ADD_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_AGET.S b/vm/mterp/x86/OP_AGET.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_AGET_BOOLEAN.S b/vm/mterp/x86/OP_AGET_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_AGET_BYTE.S b/vm/mterp/x86/OP_AGET_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_AGET_CHAR.S b/vm/mterp/x86/OP_AGET_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_AGET_OBJECT.S b/vm/mterp/x86/OP_AGET_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_AGET_SHORT.S b/vm/mterp/x86/OP_AGET_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_AGET_WIDE.S b/vm/mterp/x86/OP_AGET_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_AND_INT.S b/vm/mterp/x86/OP_AND_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_AND_INT_2ADDR.S b/vm/mterp/x86/OP_AND_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_AND_INT_LIT16.S b/vm/mterp/x86/OP_AND_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_AND_INT_LIT8.S b/vm/mterp/x86/OP_AND_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_AND_LONG.S b/vm/mterp/x86/OP_AND_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_AND_LONG_2ADDR.S b/vm/mterp/x86/OP_AND_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_APUT.S b/vm/mterp/x86/OP_APUT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_APUT_BOOLEAN.S b/vm/mterp/x86/OP_APUT_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_APUT_BYTE.S b/vm/mterp/x86/OP_APUT_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_APUT_CHAR.S b/vm/mterp/x86/OP_APUT_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_APUT_OBJECT.S b/vm/mterp/x86/OP_APUT_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_APUT_SHORT.S b/vm/mterp/x86/OP_APUT_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_APUT_WIDE.S b/vm/mterp/x86/OP_APUT_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_ARRAY_LENGTH.S b/vm/mterp/x86/OP_ARRAY_LENGTH.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_BREAKPOINT.S b/vm/mterp/x86/OP_BREAKPOINT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CHECK_CAST.S b/vm/mterp/x86/OP_CHECK_CAST.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CMPG_DOUBLE.S b/vm/mterp/x86/OP_CMPG_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CMPG_FLOAT.S b/vm/mterp/x86/OP_CMPG_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CMPL_DOUBLE.S b/vm/mterp/x86/OP_CMPL_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CMPL_FLOAT.S b/vm/mterp/x86/OP_CMPL_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CMP_LONG.S b/vm/mterp/x86/OP_CMP_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CONST.S b/vm/mterp/x86/OP_CONST.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CONST_16.S b/vm/mterp/x86/OP_CONST_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CONST_4.S b/vm/mterp/x86/OP_CONST_4.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CONST_CLASS.S b/vm/mterp/x86/OP_CONST_CLASS.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CONST_HIGH16.S b/vm/mterp/x86/OP_CONST_HIGH16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CONST_STRING.S b/vm/mterp/x86/OP_CONST_STRING.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CONST_STRING_JUMBO.S b/vm/mterp/x86/OP_CONST_STRING_JUMBO.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CONST_WIDE.S b/vm/mterp/x86/OP_CONST_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CONST_WIDE_16.S b/vm/mterp/x86/OP_CONST_WIDE_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CONST_WIDE_32.S b/vm/mterp/x86/OP_CONST_WIDE_32.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_CONST_WIDE_HIGH16.S b/vm/mterp/x86/OP_CONST_WIDE_HIGH16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_DIV_DOUBLE.S b/vm/mterp/x86/OP_DIV_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_DIV_DOUBLE_2ADDR.S b/vm/mterp/x86/OP_DIV_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_DIV_FLOAT.S b/vm/mterp/x86/OP_DIV_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_DIV_FLOAT_2ADDR.S b/vm/mterp/x86/OP_DIV_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_DIV_INT.S b/vm/mterp/x86/OP_DIV_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_DIV_INT_2ADDR.S b/vm/mterp/x86/OP_DIV_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_DIV_INT_LIT16.S b/vm/mterp/x86/OP_DIV_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_DIV_INT_LIT8.S b/vm/mterp/x86/OP_DIV_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_DIV_LONG.S b/vm/mterp/x86/OP_DIV_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_DIV_LONG_2ADDR.S b/vm/mterp/x86/OP_DIV_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_DOUBLE_TO_FLOAT.S b/vm/mterp/x86/OP_DOUBLE_TO_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_DOUBLE_TO_INT.S b/vm/mterp/x86/OP_DOUBLE_TO_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_DOUBLE_TO_LONG.S b/vm/mterp/x86/OP_DOUBLE_TO_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_EXECUTE_INLINE.S b/vm/mterp/x86/OP_EXECUTE_INLINE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_EXECUTE_INLINE_RANGE.S b/vm/mterp/x86/OP_EXECUTE_INLINE_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_FILLED_NEW_ARRAY.S b/vm/mterp/x86/OP_FILLED_NEW_ARRAY.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_FILLED_NEW_ARRAY_RANGE.S b/vm/mterp/x86/OP_FILLED_NEW_ARRAY_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_FILL_ARRAY_DATA.S b/vm/mterp/x86/OP_FILL_ARRAY_DATA.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_FLOAT_TO_DOUBLE.S b/vm/mterp/x86/OP_FLOAT_TO_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_FLOAT_TO_INT.S b/vm/mterp/x86/OP_FLOAT_TO_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_FLOAT_TO_LONG.S b/vm/mterp/x86/OP_FLOAT_TO_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_GOTO.S b/vm/mterp/x86/OP_GOTO.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_GOTO_16.S b/vm/mterp/x86/OP_GOTO_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_GOTO_32.S b/vm/mterp/x86/OP_GOTO_32.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IF_EQ.S b/vm/mterp/x86/OP_IF_EQ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IF_EQZ.S b/vm/mterp/x86/OP_IF_EQZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IF_GE.S b/vm/mterp/x86/OP_IF_GE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IF_GEZ.S b/vm/mterp/x86/OP_IF_GEZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IF_GT.S b/vm/mterp/x86/OP_IF_GT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IF_GTZ.S b/vm/mterp/x86/OP_IF_GTZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IF_LE.S b/vm/mterp/x86/OP_IF_LE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IF_LEZ.S b/vm/mterp/x86/OP_IF_LEZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IF_LT.S b/vm/mterp/x86/OP_IF_LT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IF_LTZ.S b/vm/mterp/x86/OP_IF_LTZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IF_NE.S b/vm/mterp/x86/OP_IF_NE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IF_NEZ.S b/vm/mterp/x86/OP_IF_NEZ.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IGET.S b/vm/mterp/x86/OP_IGET.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IGET_BOOLEAN.S b/vm/mterp/x86/OP_IGET_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IGET_BYTE.S b/vm/mterp/x86/OP_IGET_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IGET_CHAR.S b/vm/mterp/x86/OP_IGET_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IGET_OBJECT.S b/vm/mterp/x86/OP_IGET_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IGET_OBJECT_QUICK.S b/vm/mterp/x86/OP_IGET_OBJECT_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IGET_OBJECT_VOLATILE.S b/vm/mterp/x86/OP_IGET_OBJECT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IGET_QUICK.S b/vm/mterp/x86/OP_IGET_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IGET_SHORT.S b/vm/mterp/x86/OP_IGET_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IGET_VOLATILE.S b/vm/mterp/x86/OP_IGET_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IGET_WIDE.S b/vm/mterp/x86/OP_IGET_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IGET_WIDE_QUICK.S b/vm/mterp/x86/OP_IGET_WIDE_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INSTANCE_OF.S b/vm/mterp/x86/OP_INSTANCE_OF.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INT_TO_BYTE.S b/vm/mterp/x86/OP_INT_TO_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INT_TO_CHAR.S b/vm/mterp/x86/OP_INT_TO_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INT_TO_DOUBLE.S b/vm/mterp/x86/OP_INT_TO_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INT_TO_FLOAT.S b/vm/mterp/x86/OP_INT_TO_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INT_TO_LONG.S b/vm/mterp/x86/OP_INT_TO_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INT_TO_SHORT.S b/vm/mterp/x86/OP_INT_TO_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INVOKE_DIRECT.S b/vm/mterp/x86/OP_INVOKE_DIRECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INVOKE_DIRECT_RANGE.S b/vm/mterp/x86/OP_INVOKE_DIRECT_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INVOKE_INTERFACE.S b/vm/mterp/x86/OP_INVOKE_INTERFACE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INVOKE_INTERFACE_RANGE.S b/vm/mterp/x86/OP_INVOKE_INTERFACE_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INVOKE_OBJECT_INIT_RANGE.S b/vm/mterp/x86/OP_INVOKE_OBJECT_INIT_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INVOKE_STATIC.S b/vm/mterp/x86/OP_INVOKE_STATIC.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INVOKE_STATIC_RANGE.S b/vm/mterp/x86/OP_INVOKE_STATIC_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INVOKE_SUPER.S b/vm/mterp/x86/OP_INVOKE_SUPER.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INVOKE_SUPER_QUICK.S b/vm/mterp/x86/OP_INVOKE_SUPER_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INVOKE_SUPER_QUICK_RANGE.S b/vm/mterp/x86/OP_INVOKE_SUPER_QUICK_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INVOKE_SUPER_RANGE.S b/vm/mterp/x86/OP_INVOKE_SUPER_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INVOKE_VIRTUAL.S b/vm/mterp/x86/OP_INVOKE_VIRTUAL.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INVOKE_VIRTUAL_QUICK.S b/vm/mterp/x86/OP_INVOKE_VIRTUAL_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INVOKE_VIRTUAL_QUICK_RANGE.S b/vm/mterp/x86/OP_INVOKE_VIRTUAL_QUICK_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_INVOKE_VIRTUAL_RANGE.S b/vm/mterp/x86/OP_INVOKE_VIRTUAL_RANGE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IPUT.S b/vm/mterp/x86/OP_IPUT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IPUT_BOOLEAN.S b/vm/mterp/x86/OP_IPUT_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IPUT_BYTE.S b/vm/mterp/x86/OP_IPUT_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IPUT_CHAR.S b/vm/mterp/x86/OP_IPUT_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IPUT_OBJECT.S b/vm/mterp/x86/OP_IPUT_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IPUT_OBJECT_QUICK.S b/vm/mterp/x86/OP_IPUT_OBJECT_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IPUT_OBJECT_VOLATILE.S b/vm/mterp/x86/OP_IPUT_OBJECT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IPUT_QUICK.S b/vm/mterp/x86/OP_IPUT_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IPUT_SHORT.S b/vm/mterp/x86/OP_IPUT_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IPUT_VOLATILE.S b/vm/mterp/x86/OP_IPUT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IPUT_WIDE.S b/vm/mterp/x86/OP_IPUT_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_IPUT_WIDE_QUICK.S b/vm/mterp/x86/OP_IPUT_WIDE_QUICK.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_LONG_TO_DOUBLE.S b/vm/mterp/x86/OP_LONG_TO_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_LONG_TO_FLOAT.S b/vm/mterp/x86/OP_LONG_TO_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_LONG_TO_INT.S b/vm/mterp/x86/OP_LONG_TO_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MONITOR_ENTER.S b/vm/mterp/x86/OP_MONITOR_ENTER.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MONITOR_EXIT.S b/vm/mterp/x86/OP_MONITOR_EXIT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MOVE.S b/vm/mterp/x86/OP_MOVE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MOVE_16.S b/vm/mterp/x86/OP_MOVE_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MOVE_EXCEPTION.S b/vm/mterp/x86/OP_MOVE_EXCEPTION.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MOVE_FROM16.S b/vm/mterp/x86/OP_MOVE_FROM16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MOVE_OBJECT.S b/vm/mterp/x86/OP_MOVE_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MOVE_OBJECT_16.S b/vm/mterp/x86/OP_MOVE_OBJECT_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MOVE_OBJECT_FROM16.S b/vm/mterp/x86/OP_MOVE_OBJECT_FROM16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MOVE_RESULT.S b/vm/mterp/x86/OP_MOVE_RESULT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MOVE_RESULT_OBJECT.S b/vm/mterp/x86/OP_MOVE_RESULT_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MOVE_RESULT_WIDE.S b/vm/mterp/x86/OP_MOVE_RESULT_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MOVE_WIDE.S b/vm/mterp/x86/OP_MOVE_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MOVE_WIDE_16.S b/vm/mterp/x86/OP_MOVE_WIDE_16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MOVE_WIDE_FROM16.S b/vm/mterp/x86/OP_MOVE_WIDE_FROM16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MUL_DOUBLE.S b/vm/mterp/x86/OP_MUL_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MUL_DOUBLE_2ADDR.S b/vm/mterp/x86/OP_MUL_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MUL_FLOAT.S b/vm/mterp/x86/OP_MUL_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MUL_FLOAT_2ADDR.S b/vm/mterp/x86/OP_MUL_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MUL_INT.S b/vm/mterp/x86/OP_MUL_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MUL_INT_2ADDR.S b/vm/mterp/x86/OP_MUL_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MUL_INT_LIT16.S b/vm/mterp/x86/OP_MUL_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MUL_INT_LIT8.S b/vm/mterp/x86/OP_MUL_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MUL_LONG.S b/vm/mterp/x86/OP_MUL_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_MUL_LONG_2ADDR.S b/vm/mterp/x86/OP_MUL_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_NEG_DOUBLE.S b/vm/mterp/x86/OP_NEG_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_NEG_FLOAT.S b/vm/mterp/x86/OP_NEG_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_NEG_INT.S b/vm/mterp/x86/OP_NEG_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_NEG_LONG.S b/vm/mterp/x86/OP_NEG_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_NEW_ARRAY.S b/vm/mterp/x86/OP_NEW_ARRAY.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_NEW_INSTANCE.S b/vm/mterp/x86/OP_NEW_INSTANCE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_NOP.S b/vm/mterp/x86/OP_NOP.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_NOT_INT.S b/vm/mterp/x86/OP_NOT_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_NOT_LONG.S b/vm/mterp/x86/OP_NOT_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_OR_INT.S b/vm/mterp/x86/OP_OR_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_OR_INT_2ADDR.S b/vm/mterp/x86/OP_OR_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_OR_INT_LIT16.S b/vm/mterp/x86/OP_OR_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_OR_INT_LIT8.S b/vm/mterp/x86/OP_OR_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_OR_LONG.S b/vm/mterp/x86/OP_OR_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_OR_LONG_2ADDR.S b/vm/mterp/x86/OP_OR_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_PACKED_SWITCH.S b/vm/mterp/x86/OP_PACKED_SWITCH.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_REM_DOUBLE.S b/vm/mterp/x86/OP_REM_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_REM_DOUBLE_2ADDR.S b/vm/mterp/x86/OP_REM_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_REM_FLOAT.S b/vm/mterp/x86/OP_REM_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_REM_FLOAT_2ADDR.S b/vm/mterp/x86/OP_REM_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_REM_INT.S b/vm/mterp/x86/OP_REM_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_REM_INT_2ADDR.S b/vm/mterp/x86/OP_REM_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_REM_INT_LIT16.S b/vm/mterp/x86/OP_REM_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_REM_INT_LIT8.S b/vm/mterp/x86/OP_REM_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_REM_LONG.S b/vm/mterp/x86/OP_REM_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_REM_LONG_2ADDR.S b/vm/mterp/x86/OP_REM_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_RETURN.S b/vm/mterp/x86/OP_RETURN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_RETURN_OBJECT.S b/vm/mterp/x86/OP_RETURN_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_RETURN_VOID.S b/vm/mterp/x86/OP_RETURN_VOID.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_RETURN_WIDE.S b/vm/mterp/x86/OP_RETURN_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_RSUB_INT.S b/vm/mterp/x86/OP_RSUB_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_RSUB_INT_LIT8.S b/vm/mterp/x86/OP_RSUB_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SGET.S b/vm/mterp/x86/OP_SGET.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SGET_BOOLEAN.S b/vm/mterp/x86/OP_SGET_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SGET_BYTE.S b/vm/mterp/x86/OP_SGET_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SGET_CHAR.S b/vm/mterp/x86/OP_SGET_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SGET_OBJECT.S b/vm/mterp/x86/OP_SGET_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SGET_OBJECT_VOLATILE.S b/vm/mterp/x86/OP_SGET_OBJECT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SGET_SHORT.S b/vm/mterp/x86/OP_SGET_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SGET_VOLATILE.S b/vm/mterp/x86/OP_SGET_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SGET_WIDE.S b/vm/mterp/x86/OP_SGET_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SHL_INT.S b/vm/mterp/x86/OP_SHL_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SHL_INT_2ADDR.S b/vm/mterp/x86/OP_SHL_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SHL_INT_LIT8.S b/vm/mterp/x86/OP_SHL_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SHL_LONG.S b/vm/mterp/x86/OP_SHL_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SHL_LONG_2ADDR.S b/vm/mterp/x86/OP_SHL_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SHR_INT.S b/vm/mterp/x86/OP_SHR_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SHR_INT_2ADDR.S b/vm/mterp/x86/OP_SHR_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SHR_INT_LIT8.S b/vm/mterp/x86/OP_SHR_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SHR_LONG.S b/vm/mterp/x86/OP_SHR_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SHR_LONG_2ADDR.S b/vm/mterp/x86/OP_SHR_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SPARSE_SWITCH.S b/vm/mterp/x86/OP_SPARSE_SWITCH.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SPUT.S b/vm/mterp/x86/OP_SPUT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SPUT_BOOLEAN.S b/vm/mterp/x86/OP_SPUT_BOOLEAN.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SPUT_BYTE.S b/vm/mterp/x86/OP_SPUT_BYTE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SPUT_CHAR.S b/vm/mterp/x86/OP_SPUT_CHAR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SPUT_OBJECT.S b/vm/mterp/x86/OP_SPUT_OBJECT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SPUT_OBJECT_VOLATILE.S b/vm/mterp/x86/OP_SPUT_OBJECT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SPUT_SHORT.S b/vm/mterp/x86/OP_SPUT_SHORT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SPUT_VOLATILE.S b/vm/mterp/x86/OP_SPUT_VOLATILE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SPUT_WIDE.S b/vm/mterp/x86/OP_SPUT_WIDE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SUB_DOUBLE.S b/vm/mterp/x86/OP_SUB_DOUBLE.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SUB_DOUBLE_2ADDR.S b/vm/mterp/x86/OP_SUB_DOUBLE_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SUB_FLOAT.S b/vm/mterp/x86/OP_SUB_FLOAT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SUB_FLOAT_2ADDR.S b/vm/mterp/x86/OP_SUB_FLOAT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SUB_INT.S b/vm/mterp/x86/OP_SUB_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SUB_INT_2ADDR.S b/vm/mterp/x86/OP_SUB_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SUB_LONG.S b/vm/mterp/x86/OP_SUB_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_SUB_LONG_2ADDR.S b/vm/mterp/x86/OP_SUB_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_THROW.S b/vm/mterp/x86/OP_THROW.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_THROW_VERIFICATION_ERROR.S b/vm/mterp/x86/OP_THROW_VERIFICATION_ERROR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_UNUSED_3E.S b/vm/mterp/x86/OP_UNUSED_3E.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_UNUSED_3F.S b/vm/mterp/x86/OP_UNUSED_3F.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_UNUSED_40.S b/vm/mterp/x86/OP_UNUSED_40.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_UNUSED_41.S b/vm/mterp/x86/OP_UNUSED_41.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_UNUSED_42.S b/vm/mterp/x86/OP_UNUSED_42.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_UNUSED_43.S b/vm/mterp/x86/OP_UNUSED_43.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_UNUSED_73.S b/vm/mterp/x86/OP_UNUSED_73.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_UNUSED_79.S b/vm/mterp/x86/OP_UNUSED_79.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_UNUSED_7A.S b/vm/mterp/x86/OP_UNUSED_7A.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_UNUSED_FF.S b/vm/mterp/x86/OP_UNUSED_FF.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_USHR_INT.S b/vm/mterp/x86/OP_USHR_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_USHR_INT_2ADDR.S b/vm/mterp/x86/OP_USHR_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_USHR_INT_LIT8.S b/vm/mterp/x86/OP_USHR_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_USHR_LONG.S b/vm/mterp/x86/OP_USHR_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_USHR_LONG_2ADDR.S b/vm/mterp/x86/OP_USHR_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_XOR_INT.S b/vm/mterp/x86/OP_XOR_INT.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_XOR_INT_2ADDR.S b/vm/mterp/x86/OP_XOR_INT_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_XOR_INT_LIT16.S b/vm/mterp/x86/OP_XOR_INT_LIT16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_XOR_INT_LIT8.S b/vm/mterp/x86/OP_XOR_INT_LIT8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_XOR_LONG.S b/vm/mterp/x86/OP_XOR_LONG.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/OP_XOR_LONG_2ADDR.S b/vm/mterp/x86/OP_XOR_LONG_2ADDR.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/alt_stub.S b/vm/mterp/x86/alt_stub.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/bincmp.S b/vm/mterp/x86/bincmp.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/bindiv.S b/vm/mterp/x86/bindiv.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/bindiv2addr.S b/vm/mterp/x86/bindiv2addr.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/bindivLit16.S b/vm/mterp/x86/bindivLit16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/bindivLit8.S b/vm/mterp/x86/bindivLit8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/binflop.S b/vm/mterp/x86/binflop.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/binflop2addr.S b/vm/mterp/x86/binflop2addr.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/binop.S b/vm/mterp/x86/binop.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/binop1.S b/vm/mterp/x86/binop1.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/binop2addr.S b/vm/mterp/x86/binop2addr.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/binopLit16.S b/vm/mterp/x86/binopLit16.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/binopLit8.S b/vm/mterp/x86/binopLit8.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/binopWide.S b/vm/mterp/x86/binopWide.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/binopWide2addr.S b/vm/mterp/x86/binopWide2addr.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/cvtfp_int.S b/vm/mterp/x86/cvtfp_int.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/entry.S b/vm/mterp/x86/entry.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/footer.S b/vm/mterp/x86/footer.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/fpcvt.S b/vm/mterp/x86/fpcvt.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/header.S b/vm/mterp/x86/header.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/shop2addr.S b/vm/mterp/x86/shop2addr.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/stub.S b/vm/mterp/x86/stub.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/unop.S b/vm/mterp/x86/unop.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/unopWide.S b/vm/mterp/x86/unopWide.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/unused.S b/vm/mterp/x86/unused.S
old mode 100644
new mode 100755
diff --git a/vm/mterp/x86/zcmp.S b/vm/mterp/x86/zcmp.S
old mode 100644
new mode 100755
diff --git a/vm/native/dalvik_system_Zygote.cpp b/vm/native/dalvik_system_Zygote.cpp
index 70d4fea..b5b3bab 100644
--- a/vm/native/dalvik_system_Zygote.cpp
+++ b/vm/native/dalvik_system_Zygote.cpp
@@ -38,6 +38,12 @@
 #include <sched.h>
 #include <sys/utsname.h>
 #include <sys/capability.h>
+#include <sys/mman.h>
+#include <sys/types.h>
+#include <sys/stat.h>
+#include <fcntl.h>
+
+#include <fstream>
 
 #if defined(HAVE_PRCTL)
 # include <sys/prctl.h>
@@ -503,6 +509,242 @@ static bool needsNoRandomizeWorkaround() {
 }
 
 /*
+ *Begin: code to force big-endian output
+ *
+ */
+short shortSwap( short s )
+{
+	unsigned char b1, b2;
+
+	b1 = s & 255;
+	b2 = (s >> 8) & 255;
+
+	return (b1 << 8) + b2;
+}
+
+short shortNoSwap(short s){
+	return s;
+}
+
+u4 u4Swap(u4 u){
+	unsigned char b1,b2,b3,b4;
+	b1 = u & 255;
+	b2 = (u>>8) & 255;
+	b3 = (u>>16) & 255;
+	b4 = (u>>24) & 255;
+	return ((u4)b1 << 24) + ((u4)b2 << 16) + ((u4)b3 << 8) + b4; 
+}
+
+u4 u4NoSwap(u4 u){
+	return u;
+}
+
+short (*bigShort) (short s);
+u4 (*bigU4)(u4 u);
+
+
+void setBigEndian(){
+	union {
+		char theChars[2];
+		short theShort;
+	} swapTest;
+	swapTest.theChars[0] = 1;
+	swapTest.theChars[1] = 0;
+	if(swapTest.theShort == 1){
+	//little endian system
+	bigShort = shortSwap;
+	bigU4 = u4Swap;
+	}
+	else{
+	//big endian
+	bigShort = shortNoSwap;
+	bigU4 = u4NoSwap;
+	}
+}
+
+/*
+ *End: code to force big-endian output
+ *
+ */
+
+void* flushlogtrace(void *arg)
+{
+	char methNameBuf[1024];
+        while(true){
+		int sleeptime = 0;
+		unsigned long tail = gDvm.tail;
+		bool toflush = false;
+		if(tail > gDvm.head)
+			toflush = true;
+		if(tail - gDvm.head < 1000)
+			sleeptime =1;
+		
+		for(; gDvm.head < tail; gDvm.head++){
+			int record = (int)gDvm.records[gDvm.head % TOTALBUFFSIZE];
+			int _threadid = gDvm.threadIds[gDvm.head % TOTALBUFFSIZE];
+			if (record == RECORD_METH_ENTRY){
+				//method entry
+				MethEntry* entry =  gDvm.mEntries + gDvm.entHead % TOTALENTSIZE;
+				Method* m = (Method*) entry->addr;
+				if(FORMAT_PLAIN == gDvm.format || FORMAT_DEBUG == gDvm.format){
+			//		if(entry->sysTime > 0)
+			//			WRITE_BUFFER("%d<fun n=%s.%s(%s) a=%u nt=%s t=%u st=%u>\n", _threadid, m->clazz->descriptor, m->name, m->shorty, entry->addr, entry->isNative?"1":"0", entry->time, entry->sysTime);
+			//		else
+					WRITE_BUFFER("%d<fun n=%s.%s(%s) a=%u nt=%s t=%u c=%u>\n", _threadid, m->clazz->descriptor, m->name, m->shorty, entry->addr, entry->isNative?"1":"0", entry->time,entry->count);
+				}
+				if(FORMAT_BIN == gDvm.format || FORMAT_DEBUG == gDvm.format){
+					char instrType = INSTR_ENTRY;
+					short instrThreId = bigShort((short)_threadid);
+					u4 time = bigU4(entry->time);
+					u4 count = bigU4(entry->count);
+					u4 addr = bigU4(entry->addr);
+					char isNative = (entry->isNative?1:0);
+					SAFE_FWRITE(&instrType, sizeof(instrType),1);
+					SAFE_FWRITE(&instrThreId, sizeof(instrThreId),1);
+					SAFE_FWRITE(&time, sizeof(time),1);
+					SAFE_FWRITE(&count,sizeof(count),1);
+					SAFE_FWRITE(&addr,sizeof(addr),1);
+					SAFE_FWRITE(&isNative,sizeof(isNative),1);
+					int length = snprintf(methNameBuf,sizeof(methNameBuf),"%s.%s(%s) ", m->clazz->descriptor, m->name, m->shorty); 
+					SAFE_FWRITE(methNameBuf,sizeof(char), length);
+				}
+				gDvm.entHead++;
+			}
+			else if (record == RECORD_METH_EXIT){
+				//method exit
+				MethExit* et =  gDvm.mExits + gDvm.exHead % TOTALEXITSIZE;
+				if(FORMAT_PLAIN == gDvm.format || FORMAT_DEBUG == gDvm.format){
+					WRITE_BUFFER("%u</fun a=%u t=%u c=%u>\n",_threadid,et->addr,et->time,et->count);
+				}
+				if(FORMAT_BIN == gDvm.format || FORMAT_DEBUG == gDvm.format){
+					char instrType = INSTR_EXIT;
+					short instrThreId = bigShort((short)_threadid);
+					u4 time = bigU4(et->time);
+					u4 count = bigU4(et->count);
+					u4 addr = bigU4(et->addr);
+					SAFE_FWRITE(&instrType, sizeof(instrType),1);
+					SAFE_FWRITE(&instrThreId, sizeof(instrThreId),1);
+					SAFE_FWRITE(&time, sizeof(time),1);
+					SAFE_FWRITE(&count,sizeof(count),1);
+					SAFE_FWRITE(&addr,sizeof(addr),1);
+				}
+				gDvm.exHead++;
+			}
+			else if(record == RECORD_FIELD){
+				//field access
+				FieldAccess* field =  gDvm.fAccess + gDvm.fHead % TOTALFIELDSIZE;
+				if(field->type == FIELD_ALLOC){
+					//alloc
+					if(FORMAT_PLAIN == gDvm.format){
+						WRITE_BUFFER("%d<a v=%u s=%d/>\n", _threadid, field->addr, field->size);
+					}
+					else{
+					//do nothing	
+						char instrType = INSTR_ALLOC;
+						short instrThreId = bigShort((short)_threadid);
+						u4 addr = bigU4(field->addr);
+						u4 size = bigU4(field->size);
+						SAFE_FWRITE(&instrType, sizeof(instrType),1);
+						SAFE_FWRITE(&instrThreId, sizeof(instrThreId),1);
+						SAFE_FWRITE(&addr,sizeof(addr),1);
+						SAFE_FWRITE(&size,sizeof(size),1);
+					}
+				}
+				else if(field->type == FIELD_READ){
+					//read
+					if(FORMAT_PLAIN == gDvm.format || FORMAT_DEBUG == gDvm.format){
+						WRITE_BUFFER("%d<r t=%d v=%u p=%u s=%d/>\n", _threadid, field->objType,  field->addr, field->offset, field->size);
+					}
+					if(FORMAT_BIN == gDvm.format || FORMAT_DEBUG == gDvm.format){
+						char instrType = INSTR_READ;
+						short instrThreId = bigShort((short)_threadid);
+						char objType = (char)field->objType;
+						u4 addr = bigU4(field->addr);
+						u4 size = bigU4(field->size);
+						u4 offset = bigU4(field->offset);
+						SAFE_FWRITE(&instrType, sizeof(instrType),1);
+						SAFE_FWRITE(&instrThreId, sizeof(instrThreId),1);
+						SAFE_FWRITE(&objType,sizeof(objType),1);
+						SAFE_FWRITE(&addr,sizeof(addr),1);
+						SAFE_FWRITE(&size,sizeof(size),1);
+						SAFE_FWRITE(&offset,sizeof(offset),1);
+					}
+				}
+				else if(field->type == FIELD_WRITE){
+					//write
+					if(FORMAT_PLAIN == gDvm.format || FORMAT_DEBUG == gDvm.format){
+						WRITE_BUFFER("%d<w t=%d v=%u p=%u s=%d/>\n", _threadid, field->objType,  field->addr, field->offset, field->size);
+					}
+					if(FORMAT_BIN == gDvm.format || FORMAT_DEBUG == gDvm.format){
+						char instrType = INSTR_WRITE;
+						short instrThreId = bigShort((short)_threadid);
+						char objType = (char)field->objType;
+						u4 addr = bigU4(field->addr);
+						u4 size = bigU4(field->size);
+						u4 offset = bigU4(field->offset);
+						SAFE_FWRITE(&instrType, sizeof(instrType),1);
+						SAFE_FWRITE(&instrThreId, sizeof(instrThreId),1);
+						SAFE_FWRITE(&objType,sizeof(objType),1);
+						SAFE_FWRITE(&addr,sizeof(addr),1);
+						SAFE_FWRITE(&size,sizeof(size),1);
+						SAFE_FWRITE(&offset,sizeof(offset),1); }
+				}
+				gDvm.fHead++;
+			}
+			else if(record == RECORD_NATIVECALL){
+				//native lib
+				NativeMeth* nt = gDvm.ntMeth + gDvm.ntHead % TOTALNATIVESIZE;
+				if(FORMAT_PLAIN == gDvm.format || FORMAT_DEBUG == gDvm.format){
+					WRITE_BUFFER("%d<nl f=%s.%s(%s) so=%s/>\n", _threadid, nt->clazz->descriptor, nt->method.name, nt->method.signature, nt->lib);
+				}
+				if(FORMAT_BIN == gDvm.format || FORMAT_DEBUG == gDvm.format){
+					char instrType = INSTR_NATIVE;
+					SAFE_FWRITE(&instrType, sizeof(instrType),1);
+					int length = snprintf(methNameBuf,sizeof(methNameBuf),"%s.%s(%s) %s ", nt->clazz->descriptor, nt->method.name, nt->method.signature,nt->lib); 
+					SAFE_FWRITE(&methNameBuf,sizeof(char), length);
+				}
+				gDvm.ntHead++;
+			}
+		}
+		if(toflush){
+			FLUSH_FILE();
+		}
+		if(sleeptime > 0){
+        		sleep(sleeptime);
+		}
+	}
+        return NULL;
+}
+
+void initColocTrackedMethod(){
+	ALOGD("About to load the colocation file");
+	//potential memory leak?
+	if(gDvm.trackedColocMeths != NULL){
+		gDvm.trackedColocMeths->clear();
+	}else
+		gDvm.trackedColocMeths = new std::vector<std::string>();
+	std::ifstream configFile;
+	configFile.open("/sdcard/tracked_methods.txt",std::ios::in);	
+	std::string tmpStr;
+	ALOGD("File opened");
+	if(configFile.is_open()){
+		while(std::getline(configFile,tmpStr)){
+			std::string trimStr = trim(tmpStr);
+			ALOGD("Adding method: %s",trimStr.c_str());
+			if(trimStr != "")
+		//		gDvm.trackedColocMeths.insert(trimStr);
+				gDvm.trackedColocMeths->push_back(trimStr);
+		}
+//		ALOGD("tracked set created: ");
+//		for(std::set<std::string>::iterator it = gDvm.trackedColocMeths.begin(); it != gDvm.trackedColocMeths.end(); ++it)
+//			ALOGD("%s",it->c_str());
+	}else{
+		ALOGD("Please create /sdcard/tracked_methods.txt for methods that need tracking return value and paramters.");	
+	}
+	configFile.close();
+}
+
+/*
  * Utility routine to fork zygote and specialize the child process.
  */
 static pid_t forkAndSpecializeCommon(const u4* args, bool isSystemServer)
@@ -690,10 +932,148 @@ static pid_t forkAndSpecializeCommon(const u4* args, bool isSystemServer)
             ALOGE("error in post-zygote initialization");
             dvmAbort();
         }
+	if(!gDvm.isInstrSetupComplete){
+		pthread_mutex_init(&(gDvm.threadLock),NULL);
+		FILE* file;
+		file = fopen("/sdcard/instrTrace.txt", "r");
+		uint32_t targetUID;
+		uint32_t targetFeature;
+		u4 traceFormat;
+		gDvm.feature = FEATURE_NONE;
+		if (file){
+			if(fscanf(file, "%d", &targetUID)!=EOF) {
+				LOGX("TraceDebug:DalvikTraceGen Provided UID:%d\n",targetUID);
+				LOGX("TraceDebug:Build version 1");
+				if(fscanf(file,"%d",&targetFeature)!=EOF && fscanf(file,"%d",&traceFormat)){
+					LOGX("Feature read: %d\n",targetFeature);
+					LOGX("Trace format read: %d\n",traceFormat);
+					if(uid == targetUID) {
+						LOGX("TraceDebug: size of u4: %u", sizeof(u4));
+						LOGX("TraceDebug: size of char: %u", sizeof(char));
+						LOGX("TraceDebug: size of short: %u", sizeof(short));
+
+						setBigEndian();
+						if(sizeof(short)!=2 || sizeof(u4)!=4 || sizeof(char) !=1 ){//I hate this platform dependent crap of C++
+							ALOGD("Check of primitive type sizes failed");
+						}
+						gDvm.feature = targetFeature;	
+						gDvm.format = traceFormat;
+						gDvm.isInstrSetupComplete = true;
+						gDvm.targetInstrUID = targetUID;
+						gDvm.lastThreadId = 0;
+						gDvm.pointer = 0;
+						if(gDvm.feature == FEATURE_TRACE){
+							struct timespec systm;
+							clock_gettime(CLOCK_REALTIME, &systm);
+							gDvm.startTime = systm.tv_sec * 1000000LL + systm.tv_nsec / 1000;
+							gDvm.count = 0;
+
+							FILE* f;
+							f = fopen("/sdcard/compare", "r");
+							if(f){
+								gDvm.compare = true;
+								fclose(f);
+							}else {
+								gDvm.compare = false;
+							}
+							gDvm.records = (short *)malloc(sizeof(short)*TOTALBUFFSIZE);
+							gDvm.threadIds = (int *)malloc(sizeof(int)*TOTALBUFFSIZE);
+							gDvm.stopLogging = false;
+							gDvm.head = 0;
+							gDvm.tail = 0;
+							gDvm.mEntries = (MethEntry*)malloc(sizeof(MethEntry)*TOTALENTSIZE);
+							gDvm.entHead = 0;
+							gDvm.entTail = 0;
+							gDvm.mExits = (MethExit*)malloc(sizeof(MethExit)*TOTALEXITSIZE);
+							gDvm.exHead = 0;
+							gDvm.exTail = 0;
+							gDvm.fAccess = (FieldAccess*)malloc(sizeof(FieldAccess)*TOTALFIELDSIZE);
+							gDvm.fHead = 0;
+							gDvm.fTail = 0;
+							gDvm.ntMeth = (NativeMeth* )malloc(sizeof(NativeMeth)*TOTALNATIVESIZE);
+							gDvm.ntHead = 0;
+							gDvm.ntTail = 0;
+
+							//ADJUST_FILEARRAY_LENGTH(20);
+							//LOGD("TraceDebug:DalvikTraceGen Initialized, target UID:%d\n",gDvm.targetInstrUID);
+							if(gDvm.executionMode != kExecutionModeInterpPortable){
+								gDvm.executionMode = kExecutionModeInterpPortable;
+							}
+							pid_t pid = getpid();
+							char outName[50];
+							sprintf(outName,"/sdcard/TraceOut-%d.txt",pid);
+							char debugName[50];
+							sprintf(debugName,"/sdcard/DebugOut-%d.txt",pid);
+
+#ifdef XIN_MM_IO
+							gDvm.fId = open(outName, O_RDWR | O_CREAT, S_IRUSR | S_IWUSR);
+							lseek(gDvm.fId,MM_FILE_SIZE+1,SEEK_SET);
+							write(gDvm.fId,"",1);
+							lseek (gDvm.fId, 0, SEEK_SET); 
+							gDvm.mm = (char*)mmap(0,MM_FILE_SIZE,PROT_WRITE,MAP_SHARED,gDvm.fId,0);
+							if(gDvm.mm == NULL){
+								ALOGD("mmap failed!");
+								exit(1);
+							}
+							else 
+								ALOGD("mmap successful!");
+							gDvm.mmPos = 0;
+							gDvm.syncPos = 0;
+#else
+							gDvm.fHandle = fopen(outName,"wb");
+
+							int sbr = setvbuf(gDvm.fHandle, NULL, _IOFBF, LOG_CACHE_SIZE);
+							ALOGD("Cache size %u",LOG_CACHE_SIZE);
+							if(0 != sbr){
+								ALOGD("Set buffer to size %u failed with error code %d", LOG_CACHE_SIZE, sbr);	
+								exit(1);
+							}
+#endif
+							if(FORMAT_DEBUG == gDvm.format){
+								gDvm.dHandle = fopen(debugName,"wb");
+								int sbr1 = setvbuf(gDvm.dHandle, NULL, _IOFBF, LOG_CACHE_SIZE);
+								if(0 != sbr1){
+									ALOGD("Set buffer to size %u failed with error code %d", LOG_CACHE_SIZE, sbr1);
+									exit(1);
+								}
+							}
+
+							initColocTrackedMethod();
+
+							pthread_t thread;
+							pthread_create(&thread, NULL, flushlogtrace, (void*)&targetUID);
+
+						}//end if for the feature to be trace case
+						 else if(gDvm.feature == FEATURE_COUNT){
+							LOGX("TraceDebug: Finish count logging initialization");
+							gDvm.isBoundHit=false;
+							if(gDvm.executionMode != kExecutionModeInterpPortable){
+								gDvm.executionMode = kExecutionModeInterpPortable;
+							}
+						 }
+						else if(gDvm.feature == FEATURE_TIME){
+							LOGX("TraceDebug: Finish time logging initialization");
+							gDvm.isBoundHit=false;
+							if(gDvm.executionMode != kExecutionModeInterpPortable){
+								gDvm.executionMode = kExecutionModeInterpPortable;
+							}
+
+						 }
+						else if(gDvm.feature == FEATURE_NONE){
+							 if(gDvm.executionMode != kExecutionModeInterpPortable){
+								 gDvm.executionMode = kExecutionModeInterpPortable;
+							 }
+						 }
+					}//end if for uid comparison
+				}//end if for feature read
+			}//endif for uid read
+			fclose(file);
+		}
+	}
     } else if (pid > 0) {
-        /* the parent process */
-        free(seInfo);
-        free(niceName);
+	    /* the parent process */
+	    free(seInfo);
+	    free(niceName);
     }
 
     return pid;
diff --git a/vm/oo/Array.cpp b/vm/oo/Array.cpp
index 00ec6d9..90a74de 100644
--- a/vm/oo/Array.cpp
+++ b/vm/oo/Array.cpp
@@ -55,12 +55,26 @@ static ArrayObject* allocArray(ClassObject* arrayClass, size_t length,
                 "%s of length %zd exceeds the VM limit", descriptor.c_str(), length);
         return NULL;
     }
+
+    gDvm.allocSize = totalSize;
+
     ArrayObject* newArray = (ArrayObject*)dvmMalloc(totalSize, allocFlags);
     if (newArray != NULL) {
         DVM_OBJECT_INIT(newArray, arrayClass);
         newArray->length = length;
         dvmTrackAllocation(arrayClass, totalSize);
     }
+
+    /*Xin: Ideally, we shouldn't insert the allocation log
+     * in this file as it might include noise from the jvm.
+     * But it is always safe to include more allocations.*/
+
+    u4 objAddr = (u4)newArray;
+    u4 objSize = dvmArrayObjectSize(newArray);
+    Thread* self = dvmThreadSelf();
+    LOG_ALLOC_MCC(objAddr,objSize);
+
+
     return newArray;
 }
 
@@ -157,6 +171,7 @@ ArrayObject* dvmAllocPrimitiveArray(char type, size_t length, int allocFlags)
 
     newArray = allocArray(arrayClass, length, width, allocFlags);
 
+
     /* the caller must dvmReleaseTrackedAlloc if allocFlags==ALLOC_DEFAULT */
     return newArray;
 }
diff --git a/vm/oo/Resolve.cpp b/vm/oo/Resolve.cpp
index ab3de5b..02f53b2 100644
--- a/vm/oo/Resolve.cpp
+++ b/vm/oo/Resolve.cpp
@@ -72,8 +72,9 @@ ClassObject* dvmResolveClass(const ClassObject* referrer, u4 classIdx,
      * methods.
      */
     resClass = dvmDexGetResolvedClass(pDvmDex, classIdx);
-    if (resClass != NULL)
+    if (resClass != NULL){
         return resClass;
+    }
 
     LOGVV("--- resolving class %u (referrer=%s cl=%p)",
         classIdx, referrer->descriptor, referrer->classLoader);
@@ -158,7 +159,6 @@ ClassObject* dvmResolveClass(const ClassObject* referrer, u4 classIdx,
             dexStringByTypeIdx(pDvmDex->pDexFile, classIdx));
         assert(dvmCheckException(dvmThreadSelf()));
     }
-
     return resClass;
 }
 
@@ -275,7 +275,6 @@ Method* dvmResolveMethod(const ClassObject* referrer, u4 methodIdx,
     } else {
         dvmDexSetResolvedMethod(pDvmDex, methodIdx, resMethod);
     }
-
     return resMethod;
 }
 

